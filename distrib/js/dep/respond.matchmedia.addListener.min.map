{"version":3,"file":"respond.matchmedia.addListener.min.js","sources":["respond.matchmedia.addListener.js"],"names":["w","matchMedia","doc","bool","docElem","documentElement","refNode","firstElementChild","firstChild","fakeBody","createElement","div","id","style","cssText","background","appendChild","q","innerHTML","insertBefore","offsetWidth","removeChild","matches","media","document","this","addListener","localMatchMedia","hasMediaQueries","isListening","timeoutID","queries","handleChange","clearTimeout","setTimeout","i","il","length","mql","listeners","j","jl","call","index","listener","addEventListener","push","removeListener","splice","callMedia","applyMedia","respond","update","requestQueue","xmlHttp","xmlhttpmethod","XMLHttpRequest","e","ActiveXObject","ajax","url","callback","req","open","onreadystatechange","readyState","status","responseText","send","isUnsupportedMediaQuery","query","replace","regex","minmaxwh","match","other","queue","unsupportedmq","keyframes","comments","urls","findStyles","only","minw","maxw","mediaQueriesSupported","lastCall","resizeDefer","eminpx","mediastyles","rules","appendedEls","parsedSheets","resizeThrottle","head","getElementsByTagName","base","links","getEmValue","ret","body","originalHTMLFontSize","fontSize","originalBodyFontSize","fakeUsed","parseFloat","fromResize","name","docElemProp","currWidth","compatMode","styleBlocks","lastLink","now","Date","getTime","hasOwnProperty","thisstyle","min","max","minnull","maxnull","em","indexOf","hasquery","parentNode","k","ss","css","join","type","nextSibling","styleSheet","createTextNode","translate","styles","href","qs","ql","substring","lastIndexOf","repUrls","useMedia","fullq","thisq","eachq","eql","RegExp","$1","$2","split","makeRequests","thisRequest","shift","ripCSS","sheet","isCSS","rel","toLowerCase","rawCssText","test","location","host","protocol","attachEvent"],"mappings":"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","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n/*! Respond.js v1.4.2: min/max-width media query polyfill\r\n * Copyright 2014 Scott Jehl\r\n * Licensed under MIT\r\n * http://j.mp/respondjs */\r\n\r\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\r\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\r\n(function(w) {\r\n  \"use strict\";\r\n  w.matchMedia = w.matchMedia || function(doc, undefined) {\r\n    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement(\"body\"), div = doc.createElement(\"div\");\r\n    div.id = \"mq-test-1\";\r\n    div.style.cssText = \"position:absolute;top:-100em\";\r\n    fakeBody.style.background = \"none\";\r\n    fakeBody.appendChild(div);\r\n    return function(q) {\r\n      div.innerHTML = '&shy;<style media=\"' + q + '\"> #mq-test-1 { width: 42px; }</style>';\r\n      docElem.insertBefore(fakeBody, refNode);\r\n      bool = div.offsetWidth === 42;\r\n      docElem.removeChild(fakeBody);\r\n      return {\r\n        matches: bool,\r\n        media: q\r\n      };\r\n    };\r\n  }(w.document);\r\n})(this);\r\n\r\n/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\r\n(function(w) {\r\n  \"use strict\";\r\n  if (w.matchMedia && w.matchMedia(\"all\").addListener) {\r\n    return false;\r\n  }\r\n  var localMatchMedia = w.matchMedia, hasMediaQueries = localMatchMedia(\"only all\").matches, isListening = false, timeoutID = 0, queries = [], handleChange = function(evt) {\r\n    w.clearTimeout(timeoutID);\r\n    timeoutID = w.setTimeout(function() {\r\n      for (var i = 0, il = queries.length; i < il; i++) {\r\n        var mql = queries[i].mql, listeners = queries[i].listeners || [], matches = localMatchMedia(mql.media).matches;\r\n        if (matches !== mql.matches) {\r\n          mql.matches = matches;\r\n          for (var j = 0, jl = listeners.length; j < jl; j++) {\r\n            listeners[j].call(w, mql);\r\n          }\r\n        }\r\n      }\r\n    }, 30);\r\n  };\r\n  w.matchMedia = function(media) {\r\n    var mql = localMatchMedia(media), listeners = [], index = 0;\r\n    mql.addListener = function(listener) {\r\n      if (!hasMediaQueries) {\r\n        return;\r\n      }\r\n      if (!isListening) {\r\n        isListening = true;\r\n        w.addEventListener(\"resize\", handleChange, true);\r\n      }\r\n      if (index === 0) {\r\n        index = queries.push({\r\n          mql: mql,\r\n          listeners: listeners\r\n        });\r\n      }\r\n      listeners.push(listener);\r\n    };\r\n    mql.removeListener = function(listener) {\r\n      for (var i = 0, il = listeners.length; i < il; i++) {\r\n        if (listeners[i] === listener) {\r\n          listeners.splice(i, 1);\r\n        }\r\n      }\r\n    };\r\n    return mql;\r\n  };\r\n})(this);\r\n\r\n(function(w) {\r\n  \"use strict\";\r\n  var respond = {};\r\n  w.respond = respond;\r\n  respond.update = function() {};\r\n  var requestQueue = [], xmlHttp = function() {\r\n    var xmlhttpmethod = false;\r\n    try {\r\n      xmlhttpmethod = new w.XMLHttpRequest();\r\n    } catch (e) {\r\n      xmlhttpmethod = new w.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return function() {\r\n      return xmlhttpmethod;\r\n    };\r\n  }(), ajax = function(url, callback) {\r\n    var req = xmlHttp();\r\n    if (!req) {\r\n      return;\r\n    }\r\n    req.open(\"GET\", url, true);\r\n    req.onreadystatechange = function() {\r\n      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {\r\n        return;\r\n      }\r\n      callback(req.responseText);\r\n    };\r\n    if (req.readyState === 4) {\r\n      return;\r\n    }\r\n    req.send(null);\r\n  }, isUnsupportedMediaQuery = function(query) {\r\n    return query.replace(respond.regex.minmaxwh, \"\").match(respond.regex.other);\r\n  };\r\n  respond.ajax = ajax;\r\n  respond.queue = requestQueue;\r\n  respond.unsupportedmq = isUnsupportedMediaQuery;\r\n  respond.regex = {\r\n    media: /@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi,\r\n    keyframes: /@(?:\\-(?:o|moz|webkit)\\-)?keyframes[^\\{]+\\{(?:[^\\{\\}]*\\{[^\\}\\{]*\\})+[^\\}]*\\}/gi,\r\n    comments: /\\/\\*[^*]*\\*+([^/][^*]*\\*+)*\\//gi,\r\n    urls: /(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\r\n    findStyles: /@media *([^\\{]+)\\{([\\S\\s]+?)$/,\r\n    only: /(only\\s+)?([a-zA-Z]+)\\s?/,\r\n    minw: /\\(\\s*min\\-width\\s*:\\s*(\\s*[0-9\\.]+)(px|em)\\s*\\)/,\r\n    maxw: /\\(\\s*max\\-width\\s*:\\s*(\\s*[0-9\\.]+)(px|em)\\s*\\)/,\r\n    minmaxwh: /\\(\\s*m(in|ax)\\-(height|width)\\s*:\\s*(\\s*[0-9\\.]+)(px|em)\\s*\\)/gi,\r\n    other: /\\([^\\)]*\\)/g\r\n  };\r\n  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia(\"only all\") !== null && w.matchMedia(\"only all\").matches;\r\n  if (respond.mediaQueriesSupported) {\r\n    return;\r\n  }\r\n  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName(\"head\")[0] || docElem, base = doc.getElementsByTagName(\"base\")[0], links = head.getElementsByTagName(\"link\"), lastCall, resizeDefer, eminpx, getEmValue = function() {\r\n    var ret, div = doc.createElement(\"div\"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;\r\n    div.style.cssText = \"position:absolute;font-size:1em;width:1em\";\r\n    if (!body) {\r\n      body = fakeUsed = doc.createElement(\"body\");\r\n      body.style.background = \"none\";\r\n    }\r\n    docElem.style.fontSize = \"100%\";\r\n    body.style.fontSize = \"100%\";\r\n    body.appendChild(div);\r\n    if (fakeUsed) {\r\n      docElem.insertBefore(body, docElem.firstChild);\r\n    }\r\n    ret = div.offsetWidth;\r\n    if (fakeUsed) {\r\n      docElem.removeChild(body);\r\n    } else {\r\n      body.removeChild(div);\r\n    }\r\n    docElem.style.fontSize = originalHTMLFontSize;\r\n    if (originalBodyFontSize) {\r\n      body.style.fontSize = originalBodyFontSize;\r\n    }\r\n    ret = eminpx = parseFloat(ret);\r\n    return ret;\r\n  }, applyMedia = function(fromResize) {\r\n    var name = \"clientWidth\", docElemProp = docElem[name], currWidth = doc.compatMode === \"CSS1Compat\" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();\r\n    if (fromResize && lastCall && now - lastCall < resizeThrottle) {\r\n      w.clearTimeout(resizeDefer);\r\n      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);\r\n      return;\r\n    } else {\r\n      lastCall = now;\r\n    }\r\n    for (var i in mediastyles) {\r\n      if (mediastyles.hasOwnProperty(i)) {\r\n        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = \"em\";\r\n        if (!!min) {\r\n          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\r\n        }\r\n        if (!!max) {\r\n          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\r\n        }\r\n        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {\r\n          if (!styleBlocks[thisstyle.media]) {\r\n            styleBlocks[thisstyle.media] = [];\r\n          }\r\n          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);\r\n        }\r\n      }\r\n    }\r\n    for (var j in appendedEls) {\r\n      if (appendedEls.hasOwnProperty(j)) {\r\n        if (appendedEls[j] && appendedEls[j].parentNode === head) {\r\n          head.removeChild(appendedEls[j]);\r\n        }\r\n      }\r\n    }\r\n    appendedEls.length = 0;\r\n    for (var k in styleBlocks) {\r\n      if (styleBlocks.hasOwnProperty(k)) {\r\n        var ss = doc.createElement(\"style\"), css = styleBlocks[k].join(\"\\n\");\r\n        ss.type = \"text/css\";\r\n        ss.media = k;\r\n        head.insertBefore(ss, lastLink.nextSibling);\r\n        if (ss.styleSheet) {\r\n          ss.styleSheet.cssText = css;\r\n        } else {\r\n          ss.appendChild(doc.createTextNode(css));\r\n        }\r\n        appendedEls.push(ss);\r\n      }\r\n    }\r\n  }, translate = function(styles, href, media) {\r\n    var qs = styles.replace(respond.regex.comments, \"\").replace(respond.regex.keyframes, \"\").match(respond.regex.media), ql = qs && qs.length || 0;\r\n    href = href.substring(0, href.lastIndexOf(\"/\"));\r\n    var repUrls = function(css) {\r\n      return css.replace(respond.regex.urls, \"$1\" + href + \"$2$3\");\r\n    }, useMedia = !ql && media;\r\n    if (href.length) {\r\n      href += \"/\";\r\n    }\r\n    if (useMedia) {\r\n      ql = 1;\r\n    }\r\n    for (var i = 0; i < ql; i++) {\r\n      var fullq, thisq, eachq, eql;\r\n      if (useMedia) {\r\n        fullq = media;\r\n        rules.push(repUrls(styles));\r\n      } else {\r\n        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;\r\n        rules.push(RegExp.$2 && repUrls(RegExp.$2));\r\n      }\r\n      eachq = fullq.split(\",\");\r\n      eql = eachq.length;\r\n      for (var j = 0; j < eql; j++) {\r\n        thisq = eachq[j];\r\n        if (isUnsupportedMediaQuery(thisq)) {\r\n          continue;\r\n        }\r\n        mediastyles.push({\r\n          media: thisq.split(\"(\")[0].match(respond.regex.only) && RegExp.$2 || \"all\",\r\n          rules: rules.length - 1,\r\n          hasquery: thisq.indexOf(\"(\") > -1,\r\n          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\"),\r\n          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\")\r\n        });\r\n      }\r\n    }\r\n    applyMedia();\r\n  }, makeRequests = function() {\r\n    if (requestQueue.length) {\r\n      var thisRequest = requestQueue.shift();\r\n      ajax(thisRequest.href, function(styles) {\r\n        translate(styles, thisRequest.href, thisRequest.media);\r\n        parsedSheets[thisRequest.href] = true;\r\n        w.setTimeout(function() {\r\n          makeRequests();\r\n        }, 0);\r\n      });\r\n    }\r\n  }, ripCSS = function() {\r\n    for (var i = 0; i < links.length; i++) {\r\n      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === \"stylesheet\";\r\n      if (!!href && isCSS && !parsedSheets[href]) {\r\n        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {\r\n          translate(sheet.styleSheet.rawCssText, href, media);\r\n          parsedSheets[href] = true;\r\n        } else {\r\n          if (!/^([a-zA-Z:]*\\/\\/)/.test(href) && !base || href.replace(RegExp.$1, \"\").split(\"/\")[0] === w.location.host) {\r\n            if (href.substring(0, 2) === \"//\") {\r\n              href = w.location.protocol + href;\r\n            }\r\n            requestQueue.push({\r\n              href: href,\r\n              media: media\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    makeRequests();\r\n  };\r\n  ripCSS();\r\n  respond.update = ripCSS;\r\n  respond.getEmValue = getEmValue;\r\n  function callMedia() {\r\n    applyMedia(true);\r\n  }\r\n  if (w.addEventListener) {\r\n    w.addEventListener(\"resize\", callMedia, false);\r\n  } else if (w.attachEvent) {\r\n    w.attachEvent(\"onresize\", callMedia);\r\n  }\r\n})(this);"]}