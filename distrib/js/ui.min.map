{"version":3,"file":"ui.min.js","sources":["ui.js"],"names":["$","window","IX","ns","PopoverMsgTip","cfg","$tar","$XP","msg","type","placement","trigger","container","afterShow","$XF","afterHide","popover","html","popoverEl","addClass","content","on","TopTip","tpl","Handlebars","compile","Hualala","TplLib","get","tipEl","id","appendTo","bind","close.bs.alert","e","closed.bs.alert","alert","setTimeout","ModalDialog","config","inherit","backdrop","ifDrag","dragHandler","containment","overFlow","zIndex","showTitle","showFooter","hideCloseBtn","title","hideWithRemove","clz","sizeCls","afterRemove","emptyFn","onBeforeDrag","onDragging","onAfterDrag","$self","$con","$dialogHead","$dialogBody","$dialogFoot","$closeBtn","dialogId","dialogTpl","dialogCfg","initStyle","_zIndex","isNaN","css","z-index","hide","bindEvent","remove","$handler","length","self","draggable","cursor","handle","dialogHead","start","drag","stop","init","find","_model","_","dialog","header","body","footer","_hide","modal","_show","show","setTitle","Alert","label","cbFn","btnTpl","btns","name","$dialog","$body","$footer","Confirm","okLabel","cancelLabel","okFn","cancelFn","act","this","attr","EmptyPlaceholder","$el","htm","append","el","fadeIn","fadeOut","destroy","BreadCrumb","settings","hideRoot","nodes","clickFn","$this","document","location","href","mapRenderData","data","shift","items","mapFn","$breadCrumb","empty","apply","breadCrumb","LoadingModal","min","max","progressClz","progressTpl","percent","Common","Math","div","sub","multi","numberToFixed","updateProgress","curProgress","s","uploadImg","options","G","Global","swfRoot","SWF_ROOT","swfSrc","args","$tpl","keyboard","defaults","onSuccess","onTooLarge","onConcel","onStart","opts","extend","topTip","UI","Head_Pic_Rece_URL","imgPath","imageTooLarge","Head_Pic_Cancel","uploadStart","jQuery","fn","IXPager","total","page","maxVisible","leaps","hrefVar","next","prev","isNumeric","genHref","n","replace","renderPager","$IXPager","pg","maxV","step","vis","floor","$pages","removeClass","first","toggleClass","last","$curPage","filter","not","d","each","index","toggle","push","c","join","delegate","parseInt","hasClass","__slice","slice","BootstrapSwitch","element","$element","bootstrapSwitch","state","is","size","animate","disabled","readonly","indeterminate","onColor","offColor","onText","offText","labelText","baseClass","wrapperClass","radioAllOff","$wrapper","class","_this","classes","concat","_getClasses","$container","$on","$off","$label","prop","onInit","arguments","onSwitchChange","wrap","parent","before","_elementHandlers","_handleHandlers","_labelHandlers","_formHandler","prototype","_constructor","value","skip","toggleState","toggleDisabled","toggleReadonly","toggleIndeterminate","color","$form","closest","off","removeData","children","unwrap","change.bootstrapSwitch","checked","preventDefault","stopImmediatePropagation","focus.bootstrapSwitch","blur.bootstrapSwitch","keydown.bootstrapSwitch","which","mousemove.bootstrapSwitch touchmove.bootstrapSwitch","left","pageX","right","isLabelDragging","isLabelDragged","originalEvent","touches","offset","width","mousedown.bootstrapSwitch touchstart.bootstrapSwitch","mouseup.bootstrapSwitch touchend.bootstrapSwitch","mouseleave.bootstrapSwitch","cls","_i","_len","isArray","option","ret","call","Constructor","bootstrapWizardCreate","obj","baseItemSelector","$settings","bootstrapWizard","$activeTab","$navigation","$stepAction","rebindClick","selector","unbind","fixNavigationButtons","tab","previousSelector","unusableClass","firstIndex","currentIndex","nextSelector","navigationLength","lastAction","previous","lastSelector","firstSelector","onNext","activePane","nextIndex","$index","onPrevious","previousIndex","onFirst","onLast","lastIndex","getIndex","activeTab","nextTab","previousTab","disable","enable","display","$removeTabPane","$item","$href","innerTabClick","clickedIndex","currentTarget","onTabClick","innerTabShown","target","$panes","curIdx","$currentPane","eq","$nextPane","onTabChange","resetWizard","actionSelector","tabClass","$firstPane","onShow","Array","toString","wizard","AbstractChosen","Chosen","SelectParser","_ref","__hasProp","hasOwnProperty","__extends","child","ctor","constructor","key","__super__","options_index","parsed","add_node","nodeName","toUpperCase","add_group","add_option","group","group_position","_results","array_index","escapeExpression","childNodes","group_disabled","text","innerHTML","selected","group_array_index","className","style","cssText","map","unsafe_chars","test","<",">","\"","'","`","chr","select_to_array","select","parser","form_field","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","click_test_action","evt","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","group_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","display_selected_options","display_disabled_options","default_text","getAttribute","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","no_results_text","default_no_result_text","mouse_enter","mouse_leave","input_focus","container_mousedown","input_blur","blur_test","results_option_build","results_data","result_add_group","result_add_option","choice_build","single_set_selected_text","option_el","search_match","include_option_in_results","createElement","setAttribute","search_text","outerHTML","group_el","group_match","active_options","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","winnow_results","reset_single_select_options","result","results_toggle","results_hide","results_show","results_search","escapedSearchText","regex","regexAnchor","results","results_group","searchText","startpos","zregex","no_results_clear","get_search_text","RegExp","getMatchedFn","isFunction","matchedOptions","search_value_match","v","matches","curSearchText","m","search_string_match","search","substr","update_results_content","no_results","winnow_results_set_highlight","search_string","part","parts","indexOf","split","choices_count","selected_option_count","choices_click","is_disabled","keyup_checker","stroke","keyCode","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","clipboard_event_checker","container_width","offsetWidth","search_results_touchstart","touch_started","search_results_mouseover","search_results_touchmove","search_results_mouseout","search_results_touchend","search_results_mouseup","tmp","appendChild","navigator","appName","documentMode","userAgent","chosen","_super","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","container_classes","container_props","after","dropdown","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","container_mouseup","search_results_mousewheel","keydown_checker","ownerDocument","tabIndex","search_field_disabled","close_field","parents","val","results_reset","delta","wheelDelta","detail","scrollTop","clear_backstroke","show_search_field_default","focus","active_container","parsing","readOnly","result_do_highlight","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","position","top","outerHeight","ti","form_field_label","item","choice","close_link","data-option-array-index","choice_destroy_link_click","stopPropagation","choice_destroy","link","result_deselect","high","metaKey","ctrlKey","single_deselect_control_build","pos","result_data","deselected","trim","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","siblings","_ref1","f_width","h","style_block","styles","w","outerWidth","undefined","$window","lazyload","update","counter","elements","skip_invisible","abovethetop","leftofbegin","belowthefold","rightoffold","failure_limit","threshold","event","effect","data_attribute","appear","load","placeholder","failurelimit","effectspeed","effect_speed","loaded","one","elements_left","original","temp","grep","appVersion","persisted","ready","fold","innerHeight","height","scrollLeft","inviewport","expr","below-the-fold","a","above-the-top","right-of-screen","left-of-screen","in-viewport","above-the-fold","right-of-fold","left-of-fold"],"mappings":"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","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n(function ($, window) {\r\n\tIX.ns(\"Hualala.UI\");\r\n\r\n\t/**\r\n\t * show popover tip for target element\r\n\t * @param  {[Object]} cfg [description]\r\n\t *         trigger : 'click|hover|focus|manual'\r\n\t *         targetEl : popover tip apply on this $tar\r\n\t *         msg : tip content\r\n\t *         type : tip message type\r\n\t *         placement : string|function \r\n\t *         container : selector\r\n\t *         afterShow : function \r\n\t *         afterHide : function \r\n\t * @return {[null]}     [description]\r\n\t */\r\n\tvar PopoverMsgTip = function (cfg) {\r\n\t\tvar $tar = $XP(cfg, 'targetEl', null);\r\n\t\tif (!$tar) return ;\r\n\t\t$tar = $($tar);\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\ttype = $XP(cfg, 'type', 'warning'),\r\n\t\t\tplacement = $XP(cfg, 'placement', 'left'),\r\n\t\t\ttrigger = $XP(cfg, 'trigger', 'click'),\r\n\t\t\ttitle = $XP(cfg, 'title', ''),\r\n\t\t\tcontainer = $XP(cfg, 'container', false),\r\n\t\t\tafterShow = $XF(cfg, 'afterShow'),\r\n\t\t\tafterHide = $XF(cfg, 'afterHide');\r\n\t\t$tar.popover({\r\n\t\t\thtml : true,\r\n\t\t\tplacement : function (popoverEl, triggerEl) {\r\n\t\t\t\t// console.info(popoverEl);\r\n\t\t\t\t// console.info(triggerEl);\r\n\t\t\t\t// console.info(this);\r\n\t\t\t\t$(popoverEl).addClass(type);\r\n\t\t\t\treturn placement;\r\n\t\t\t},\r\n\t\t\ttrigger : trigger,\r\n\t\t\t// type : type,\r\n\t\t\tcontent : msg,\r\n\t\t\tcontainer : container\r\n\t\t});\r\n\t\t$tar.on('shown.bs.popover', function () {\r\n\t\t\tafterShow($tar, type);\r\n\t\t});\r\n\t\t$tar.on('hidden.bs.popover', function () {\r\n\t\t\tafterHide($tar, type);\r\n\t\t\t$tar.popover('destroy');\r\n\t\t});\r\n\t\t$tar.popover('show');\r\n\t};\r\n\r\n\t/**\r\n\t * show tip message for model window\r\n\t * \r\n\t * @param {[Object]} cfg [config params]\r\n\t *        msg : \"string\",\r\n\t *        type : \"danger|warning|success\",\r\n\t *        afterClosed : function () {},\r\n\t *        afterClose : function () {}\r\n\t * @return {[jQuery Obj] } [tip obj]\r\n\t */\r\n\tvar TopTip = function (cfg) {\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_toptip'));\r\n\t\tvar tipEl = $(tpl({\r\n\t\t\tid : IX.id(),\r\n\t\t\ttype : $XP(cfg, 'type', 'warning'),\r\n\t\t\tmsg : $XP(cfg, 'msg', '')\r\n\t\t}));\r\n\t\ttipEl.appendTo('body');\r\n\t\ttipEl.bind({\r\n\t\t\t'close.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClose')(e);\r\n\t\t\t},\r\n\t\t\t'closed.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClosed')(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\ttipEl.alert();\r\n\t\tsetTimeout(function () {\r\n\t\t\ttipEl.alert('close');\r\n\t\t}, $XP(cfg, 'interval', 1500));\r\n\t};\r\n\r\n\t/**\r\n\t * cfg :{\r\n\t * \t\tcontainer : DOM|jQuery Obj //default $('body') \r\n\t * \t\tid : '',\t//default IX.id()\r\n\t * \t\tbackdrop : true|false|'static'  //true（默认）:点击窗口外区域自动关闭窗口；false:点击窗口外围不会关闭窗口,半透明蒙版也没有；\r\n\t * \t\t\t\t\t\t\t\t\t\t\tstatic:点击窗口外围不会关闭窗口,但是半透明蒙版存在\r\n\t * \t\tzIndex : null,\t//default null\r\n\t * \t\tdragHandler : null,\t//拖动手柄 default null\r\n\t * \t\tcontainment : null,\t//拖动范围容器 default null\r\n\t * \t\toverFlow : false,\t//default false\r\n\t * \t\tmovable : false\t,\t//default false\r\n\t * \t\tshowTitle : true ,\t//default true\r\n\t * \t\tshowFooter : true,\t//default true\r\n\t * \t\thideCloseBtn : true,\t//default true 默认屏蔽窗口的关闭按钮\r\n\t * \t\ttitle : '',\t\t\t//title string\r\n\t * \t\thideWithRemove : true,\t//隐藏时是否删除\r\n\t * \t\tclz : '',\t\t\t//dialog className\r\n\t * \t\tafterRemove : function () {},\r\n\t * \t\tafterShow : function () {},\r\n\t * \t\tafterHide : function () {},\r\n\t * \t\tonBeforeDrag : function () {},\r\n\t * \t\tonDragging : function () {},\r\n\t * \t\tonAfterDrag : function () {}\r\n\t * }\r\n\t */\r\n\tvar ModalDialog = function (cfg) {\r\n\t\tvar config = IX.inherit({\r\n\t\t\tcontainer : null,\r\n\t\t\tbackdrop : true,\r\n\t\t\tid : null,\r\n\t\t\thtml : '',\r\n\t\t\tifDrag : false,\r\n\t\t\tdragHandler : null,\r\n\t\t\tcontainment : null,\r\n\t\t\toverFlow : false,\r\n\t\t\tzIndex : null,\r\n\t\t\tshowTitle : true,\r\n\t\t\tshowFooter : true,\r\n\t\t\thideCloseBtn : true,\r\n\t\t\ttitle : '',\r\n\t\t\thideWithRemove : true,\r\n\t\t\tclz : '',\r\n            sizeCls: '',\r\n\t\t\tafterRemove : IX.emptyFn,\r\n\t\t\tafterHide : IX.emptyFn,\r\n\t\t\tafterShow : IX.emptyFn,\r\n\t\t\tonBeforeDrag : IX.emptyFn,\r\n\t\t\tonDragging : IX.emptyFn,\r\n\t\t\tonAfterDrag : IX.emptyFn\r\n\t\t}, cfg);\r\n\r\n\t\tvar $self = null, $con = null, $modal = null, isFirst = true;\r\n\t\tvar $dialogHead = null, $dialogBody = null, $dialogFoot = null, $closeBtn = null;\r\n\t\tvar dialogId = $XP(config, 'id', 'modal_dialog_' + IX.id());\r\n\t\tvar dialogTpl = Handlebars.compile(Hualala.TplLib.get('tpl_modal_dialog'));\r\n\t\tvar dialogCfg = {\r\n\t\t\tclz : $XP(config, 'clz', ''),\r\n\t\t\tid : dialogId,\r\n\t\t\ttitle : $XP(config, 'title', ''),\r\n\t\t\tbackdrop : $XP(config, 'backdrop', true)\r\n\t\t};\r\n\r\n\t\tvar initStyle = function () {\r\n\t\t\tvar _overflow = $XP(config, 'overFlow', false),\r\n\t\t\t\t_zIndex = $XP(config, 'zIndex', null);\r\n\t\t\t// $dialogBody.css({\r\n\t\t\t// \t\"overflow\" : !_overflow : 'hidden' : 'auto'\r\n\t\t\t// });\r\n\t\t\tif (_zIndex && !isNaN(_zIndex)) {\r\n\t\t\t\t$self.css({\r\n\t\t\t\t\t'z-index' : _zIndex\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showTitle', false)) {\r\n\t\t\t\t$dialogHead.hide();\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showFooter', false)) {\r\n\t\t\t\t$dialogFoot.hide();\r\n\t\t\t}\r\n\t\t\tif (!!$XP(config, 'hideCloseBtn', false)) {\r\n\t\t\t\t$closeBtn.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar bindEvent = function () {\r\n\t\t\t$self.on('hidden.bs.modal', function (e) {\r\n\t\t\t\t$XF(config, 'afterHide')(e);\r\n\t\t\t\tif ($XP(config, 'hideWithRemove', false)) {\r\n\t\t\t\t\t$self.remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$self.on('shown.bs.modal', function (e) {\r\n\t\t\t\t$XF(config, 'afterShow')(e);\r\n\t\t\t});\r\n\t\t\tif (!config.ifDrag || (!config.showTitle && !config.dragHandler)) return;\r\n\t\t\tvar $handler = $(dragHandler, $self);\r\n\t\t\tif ($handler.length == 0) return;\r\n\t\t\tif (!self.draggable) return;\r\n\t\t\t$self.draggable({\r\n\t\t\t\tcursor : 'move',\r\n\t\t\t\tcontainment : config.containment || 'document',\r\n\t\t\t\thandle : config.showTitle ? dialogHead : $handler,\r\n\t\t\t\tstart : config.onBeforeDrag,\r\n\t\t\t\tdrag : config.onDragging,\r\n\t\t\t\tstop : config.onAfterDrag\r\n\t\t\t});\t\r\n\t\t};\r\n\r\n\t\tvar init = function () {\r\n\t\t\t$con = $XP(cfg, 'container', null);\r\n\t\t\t$con = !$con ? $('body') : $($con);\r\n\t\t\t$self = $(dialogTpl(dialogCfg));\r\n\t\t\t$self.appendTo($con);\r\n\t\t\t$dialogHead = $self.find('.modal-header');\r\n\t\t\t$closeBtn = $dialogHead.find('.close');\r\n\t\t\t$dialogBody = $self.find('.modal-body');\r\n\t\t\t$dialogFoot = $self.find('.modal-footer');\r\n            config.html && $dialogBody.html(config.html);\r\n            config.sizeCls && $self.find('.modal-dialog').addClass(config.sizeCls);\r\n\t\t\t_model._ = {\r\n\t\t\t\tcontainer : $con,\r\n\t\t\t\tdialog : $self,\r\n\t\t\t\theader : $dialogHead,\r\n\t\t\t\tbody : $dialogBody,\r\n\t\t\t\tfooter : $dialogFoot\r\n\t\t\t};\r\n\t\t\tinitStyle();\r\n\t\t\tbindEvent();\r\n\t\t};\r\n\r\n\t\tvar _hide = function () {\r\n\t\t\t_model._.dialog.modal('hide');\r\n\t\t};\r\n\r\n\t\tvar _show = function () {\r\n\t\t\t_model._.dialog.modal('show');\r\n            return _model;\r\n\t\t};\r\n\r\n\t\tvar _model = {\r\n\t\t\t_ : {},\r\n\t\t\tshow : _show,\r\n\t\t\thide : _hide,\r\n\t\t\tsetTitle : function (title) {\r\n\t\t\t\t$dialogHead.find('.modal-title').html(title);\r\n\t\t\t}\r\n\t\t};\r\n\t\tinit();\r\n\t\treturn _model;\r\n\t};\r\n\r\n\t/**\r\n\t * Alert提示框\r\n\t * @param {Object} cfg \t{msg, label, cbFn}\r\n\t */\r\n\tvar Alert = function (cfg) {\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\tlabel = $XP(cfg, 'label', '确定'),\r\n\t\t\tcbFn = $XF(cfg, 'cbFn');\r\n\t\tvar btnTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_modal_btns'));\r\n\t\tvar btns = [{\r\n\t\t\tclz : 'btn btn-warning', name : 'ok', label : label\r\n\t\t}];\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_alert_' + IX.id(),\r\n\t\t\tclz : 'x-alert',\r\n\t\t\ttitle : '',\r\n\t\t\tshowTitle : false,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterRemove : function () {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(msg);\r\n\t\t$footer.html(btnTpl({btns:btns}));\r\n\t\t$dialog.on('click', '.btn[name=ok]', function (e) {\r\n\t\t\tmodal.hide();\r\n\t\t\tcbFn();\r\n\t\t});\r\n\t\tmodal.show();\r\n\t};\r\n\t/**\r\n\t * Confirm提示框\r\n\t * @param {Object} cfg  {title, msg, okLabel, okFn, cancelLabel, cancelFn}\r\n\t */\r\n\tvar Confirm = function (cfg) {\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\ttitle = $XP(cfg, 'title', ''),\r\n\t\t\tokLabel = $XP(cfg, 'okLabel', '确定'),\r\n\t\t\tcancelLabel = $XP(cfg, 'cancelLabel', '取消'),\r\n\t\t\tokFn = $XF(cfg, 'okFn'),\r\n\t\t\tcancelFn = $XF(cfg, 'cancelFn');\r\n\t\tvar btnTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_modal_btns'));\r\n\t\tvar btns = [{\r\n\t\t\tclz : 'btn btn-default', name : 'cancel', label : cancelLabel\r\n\t\t}, {\r\n\t\t\tclz : 'btn btn-warning', name : 'ok', label : okLabel\r\n\t\t}];\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_confirm_' + IX.id(),\r\n\t\t\tclz : 'x-confirm',\r\n\t\t\ttitle : title,\r\n\t\t\tshowTitle : true,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterRemove : function () {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(msg);\r\n\t\t$footer.html(btnTpl({btns:btns}));\r\n\t\t$dialog.on('click', '.btn[name]', function (e) {\r\n\t\t\tvar act = $(this).attr('name');\r\n\t\t\tmodal.hide();\r\n\t\t\tif (act == 'ok') {\r\n\t\t\t\tokFn();\r\n\t\t\t} else {\r\n\t\t\t\tcancelFn();\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * 搜索结果为空的提示\r\n\t * @param {Object} cfg {msg, clz, container}\r\n\t */\r\n\tvar EmptyPlaceholder = function (cfg) {\r\n\t\tvar container = $XP(cfg, 'container', $('body')),\r\n\t\t\tmsg = $XP(cfg, 'msg', '无结果'),\r\n\t\t\tclz = $XP(cfg, 'clz', 'text-center');\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_empty_placeholder'));\r\n\t\tvar $el = null;\r\n\t\tvar init = function () {\r\n\t\t\tvar htm = tpl({\r\n\t\t\t\tclz : clz, msg : msg\r\n\t\t\t});\r\n\t\t\t$el = $(htm).hide();\r\n\t\t\tcontainer.append($el);\r\n\t\t};\r\n\t\tinit();\r\n\t\treturn {\r\n\t\t\tel : $el,\r\n\t\t\tshow : function () {\r\n\t\t\t\t$el && $el.fadeIn(400);\r\n\t\t\t},\r\n\t\t\thide : function () {\r\n\t\t\t\t$el && $el.fadeOut(400);\r\n\t\t\t},\r\n\t\t\tdestroy : function () {\r\n\t\t\t\tif ($el) {\r\n\t\t\t\t\t$el.hide().remove();\r\n\t\t\t\t\tdelete this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 面包屑控件\r\n\t * 根据当前页面生成页面层级面包屑\r\n\t * @param {Object} cfg {container,hideRoot,nodes, clz, clickFn, mapRenderData}\r\n\t *         @param {jQueryObj} container\t容器\r\n\t *         @param {Boolean} hideRoot 是否隐藏根节点\r\n\t *         @param {Array} nodes 节点数据[{name,label,path},...]\r\n\t *         @param {String} clz 面包屑样式类\r\n\t *         @param {Function} clickFn 点击事件处理,\r\n\t *         @param {Function} mapRenderData 处理渲染数据方法\r\n\t * @return {Object} BreadCrumb\r\n\t */\r\n\tvar BreadCrumb = function (cfg) {\r\n\t\tvar settings = {\r\n\t\t\tcontainer : null,\r\n\t\t\thideRoot : false,\r\n\t\t\tnodes : [],\r\n\t\t\tclz : '',\r\n\t\t\tclickFn : function () {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tdocument.location.href = $this.attr('data-href');\r\n\t\t\t},\r\n\t\t\tmapRenderData : function (data, hideRoot, clz) {\r\n\t\t\t\thideRoot === true && data.shift();\r\n\t\t\t\treturn {\r\n\t\t\t\t\tclz : clz || '',\r\n\t\t\t\t\titems : data\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t\tsettings = IX.inherit(settings, cfg);\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_breadcrumb'));\r\n\t\tvar mapFn = $XF(settings, 'mapRenderData');\r\n\t\tvar $breadCrumb = $(tpl(mapFn($XP(settings, 'nodes'), $XP(settings, 'hideRoot', false), $XP(settings, 'clz', ''))));\r\n\t\tsettings.container.empty().append($breadCrumb);\r\n\t\t$breadCrumb.on('click', 'a', function (e) {\r\n\t\t\t$XF(settings, 'clickFn').apply(this, e);\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tbreadCrumb : $breadCrumb,\r\n\t\t\tshow : function () {$breadCrumb.show();},\r\n\t\t\thide : function () {$breadCrumb.hide();}\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * 加载等待模态窗 \r\n\t * @param {Object} cfg \r\n\t *        @param {jQuery Obj} container 容器默认$('body')\r\n\t *        @param {String} title 等待描述，默认“努力加载中...”\r\n\t *        @param {String} modalClz 窗体样式\r\n\t *        @param {Int} start 进度条开始位置，默认20\r\n\t *        @param {String} progressClz 进度条样式,默认“progress-bar-warning progress-bar-striped active”\r\n\t *        @param {Function} afterShow \r\n\t *        @param {Function} afterHide \r\n\t */\r\n\tvar LoadingModal = function (cfg) {\r\n\t\tvar $container = $XP(cfg, 'container', $('body')),\r\n\t\t\ttitle = $XP(cfg, 'msg', \"努力加载中...\"),\r\n\t\t\tmodalClz = $XP(cfg, 'modalClz', ''),\r\n\t\t\tstart = $XP(cfg, 'start', 20),\r\n\t\t\tmin = $XP(cfg, 'min', 0),\r\n\t\t\tmax = $XP(cfg, 'max', 100),\r\n\t\t\tprogressClz = $XP(cfg, 'progressClz', 'progress-bar-warning progress-bar-striped active'),\r\n\t\t\tafterShow = $XF(cfg, 'afterShow'),\r\n\t\t\tafterHide = $XF(cfg, 'afterHide');\r\n\t\tvar progressTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_progress'));\r\n\t\tvar percent = Hualala.Common.Math.div(start, Hualala.Common.Math.sub(max, min));\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_progress_' + IX.id(),\r\n\t\t\tclz : 'x-progress',\r\n\t\t\ttitle : title,\r\n\t\t\tshowTitle : true,\r\n\t\t\tshowFooter : false,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterHide : afterHide,\r\n\t\t\tafterShow : afterShow\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(progressTpl({\r\n\t\t\tprogressClz : progressClz,\r\n\t\t\tstart : start,\r\n\t\t\tmin : min,\r\n\t\t\tmax : max,\r\n\t\t\tpercent : Hualala.Common.Math.multi(Hualala.Common.Math.numberToFixed(percent, 2), 100) + '%'\r\n\t\t}));\r\n\t\treturn {\r\n\t\t\tmodal : modal,\r\n\t\t\tshow : function () {\r\n\t\t\t\tmodal.show();\r\n\t\t\t},\r\n\t\t\thide : function () {\r\n\t\t\t\tmodal.hide();\r\n\t\t\t},\r\n\t\t\tupdateProgress : function (curProgress) {\r\n\t\t\t\tstart = curProgress;\r\n\t\t\t\tpercent = Hualala.Common.Math.div(start, Hualala.Common.Math.sub(max, min));\r\n\t\t\t\tvar s = Hualala.Common.Math.multi(Hualala.Common.Math.numberToFixed(percent, 2), 100) + '%';\r\n\t\t\t\t$body.find('.progress-bar').attr('aria-valuenow', start).css('width', s);\r\n\t\t\t\t$body.find('.progress-bar>span').html(s);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n    /*\r\n    options = {\r\n        onSuccess: function () {},\r\n        onTooLarge: function () {},\r\n        onConcel: function () {},\r\n        onStart: function () {}\r\n    }*/\r\n    var uploadImg = function uploadImg(options)\r\n    {\r\n        var G = Hualala.Global,\r\n            swfRoot = G.SWF_ROOT + '/',\r\n            swfSrc = swfRoot + 'hualalaImageUpload.swf',\r\n            args = 'swfId=txsc&amp;uploadDataFieldName=upload&amp;uploadSvrURL=http://file.hualala.com/upload&amp;iconsURL=' + swfRoot +'icons&amp;avaQuality=70&amp;minImgFRule=100&amp;saveImgRule=600';\r\n            \r\n        var tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_uploadimg')),\r\n            $tpl = $(tpl({swfSrc: swfSrc, args: args}));\r\n        \r\n        var $dialog = $tpl.appendTo('body')\r\n            .modal({backdrop : 'static', keyboard: false});\r\n        \r\n        var defaults = {\r\n            onSuccess: function () {},\r\n            onTooLarge: function () {},\r\n            onConcel: function () { $dialog.modal('hide'); },\r\n            onStart: function () {}\r\n        };\r\n        var opts = $.extend(defaults, options);\r\n        \r\n        var topTip = Hualala.UI.TopTip;\r\n        window.Head_Pic_Rece_URL = function (imgPath, swfId) \r\n        {\r\n            if (\"IOError\" === imgPath)\r\n            {\r\n                topTip({msg: '图片上传失败，请稍候再试'});\r\n                return;\r\n            }\r\n            \r\n            topTip({type: 'success', msg: '图片上传成功！'});\r\n            opts.onSuccess(imgPath, $dialog);\r\n        };\r\n        window.imageTooLarge = function (swfId) \r\n        {\r\n            topTip({msg: '您上传的图片过大，请换一张'});\r\n            opts.onTooLarge();\r\n        };\r\n        window.Head_Pic_Cancel = function(swfId) { opts.onConcel($dialog); };\r\n        window.uploadStart = function(swfId) { opts.onStart(); };\r\n        \r\n    }\r\n\r\n\tHualala.UI.PopoverMsgTip = PopoverMsgTip;\r\n\tHualala.UI.TopTip = TopTip;\r\n\tHualala.UI.ModalDialog = ModalDialog;\r\n\tHualala.UI.Alert = Alert;\r\n\tHualala.UI.Confirm = Confirm;\r\n\tHualala.UI.EmptyPlaceholder = EmptyPlaceholder;\r\n\tHualala.UI.BreadCrumb = BreadCrumb;\r\n\tHualala.UI.LoadingModal = LoadingModal;\r\n\r\n    Hualala.UI.uploadImg = uploadImg;\r\n})(jQuery, window);;(function ($, window) {\r\n\t/**\r\n\t * bootstrap样式的分页插件\r\n\t * @param {Object} options 配置参数\r\n\t *     @param {Int} total total pges count\r\n\t *     @param {Int} page start page number\r\n\t *     @param {Int} maxVisible 最大可视页码数量(每次显示多少个页码按钮)\r\n\t *     @param {Boolean} leaps 是否支持跳页\r\n\t *     @param {String Template} href 链接模板\r\n\t *     @param {String} hrefVar href模板替换的标志\r\n\t *     @param {Html} next Next Btn 填充\r\n\t *     @param {Html} prev Prev Btn 填充\r\n\t *     \r\n\t */\r\n\t$.fn.IXPager = function (options) {\r\n\t\tvar $self = this,\r\n\t\t\tsettings = $.extend({\r\n\t\t\t\ttotal : 0,\r\n\t\t\t\tpage : 1,\r\n\t\t\t\tmaxVisible : null,\r\n\t\t\t\tleaps : true,\r\n\t\t\t\thref : '#page_{{number}}',\r\n\t\t\t\threfVar : '{{number}}',\r\n\t\t\t\tnext : '&raquo;',\r\n\t\t\t\tprev : '&laquo;'\r\n\t\t\t}, \r\n\t\t\t$self.data('settings') || {}, \r\n\t\t\toptions || {});\r\n\r\n\t\tif (settings.total < 0 ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t// 所有页码全部显示\r\n\t\tif (!$.isNumeric(settings.maxVisible) && !settings.maxVisible) {\r\n\t\t\tsettings.maxVisible = settings.total;\r\n\t\t}\r\n\t\t// 保存当前设置\r\n\t\t$self.data('settings', settings);\r\n\r\n\t\tvar genHref = function (n) {\r\n\t\t\treturn settings.href.replace(settings.hrefVar, n);\r\n\t\t};\r\n\r\n\t\tvar renderPager = function ($IXPager, page) {\r\n\t\t\tvar pg, maxV = settings.maxVisible == 0 ? 1 : settings.maxVisible,\r\n\t\t\t\tstep = settings.maxVisible == 1 ? 0 : 1,\r\n\t\t\t\tvis = Math.floor((page - 1) / maxV) * maxV,\r\n\t\t\t\t$pages = $IXPager.find('li');\r\n\t\t\tsettings.page = page = page < 0 ? 0 : page > settings.total ? settings.total : page;\r\n\t\t\t$pages.removeClass('disabled');\r\n\t\t\tpg = page - 1 < 1 ? 1 \r\n\t\t\t\t: (settings.leaps && page - 1 >= settings.maxVisible) \r\n\t\t\t\t? (Math.floor((page - 1) / maxV) * maxV) : (page - 1);\r\n\t\t\t$pages.first().toggleClass('disabled', page === 1)\r\n\t\t\t\t.attr('data-pg', pg).find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tpg = (page + 1) > settings.total ? settings.total : \r\n\t\t\t\t(settings.leaps && page + 1 < settings.total - settings.maxVisible) ?\r\n\t\t\t\t(vis + settings.maxVisible + step) : (page + 1);\r\n\t\t\t$pages.last().toggleClass('disabled', page === settings.total).attr('data-pg', pg)\r\n\t\t\t\t.find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tvar $curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\tif (!$curPage.not('.ix-pager-next, .ix-pager-prev').length) {\r\n\t\t\t\tvar d = page <= vis ? -settings.maxVisible : 0;\r\n\t\t\t\t$pages.not('.ix-pager-next, .ix-pager-prev').each(function (index) {\r\n\t\t\t\t\tpg = index + 1 + vis + d;\r\n\t\t\t\t\t$(this).attr('data-pg', pg).toggle(pg <= settings.total)\r\n\t\t\t\t\t\t.find('a').html(pg).attr('href', genHref(pg));\r\n\t\t\t\t});\r\n\t\t\t\t$curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\t}\r\n\t\t\t$curPage.addClass('disabled');\r\n\t\t\t$self.data('settings', settings);\r\n\t\t};\r\n\r\n\t\treturn this.each(function () {\r\n\t\t\tvar $IXPager, pg, $this = $(this),\r\n\t\t\t\thtm = ['<ul class=\"pagination ix-pager\">'];\r\n\t\t\tif (settings.prev) {\r\n\t\t\t\thtm.push('<li data-pg=\"1\" class=\"ix-pager-prev\"><a href=\"' + genHref(1) + '\">' + settings.prev + '</a></li>');\r\n\t\t\t}\r\n\t\t\tfor (var c = 1; c <= Math.min(settings.total, settings.maxVisible); c++) {\r\n\t\t\t\thtm.push('<li data-pg=\"' + c + '\"><a href=\"' + genHref(c) + '\">' + c + '</a></li>');\r\n\t\t\t}\r\n\t\t\tif (settings.total == 0) {\r\n\t\t\t\thtm.push('<li data-pg=\"' + 1 + '\" class=\"disabled\"><a href=\"' + genHref(c) + '\">' + 1 + '</a></li>');\r\n\t\t\t}\r\n\t\t\tif (settings.next) {\r\n\t\t\t\tpg = settings.leaps && settings.total > settings.maxVisible \r\n\t\t\t\t\t? Math.min(settings.maxVisible + 1, settings.total) : 2;\r\n\t\t\t\thtm.push('<li data-pg=\"' + pg + '\" class=\"ix-pager-next\"><a href=\"' + genHref(pg) + '\">' + settings.next + '</a></li>');\r\n\t\t\t}\r\n\t\t\thtm.push('</ul>');\r\n\t\t\t$this.find('ul.ix-pager').remove();\r\n\t\t\t$this.append(htm.join(''));\r\n\t\t\t$IXPager = $this.find('ul.ix-pager');\r\n\t\t\t$IXPager.delegate('li', 'click', function paginationClickFn() {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tpage = parseInt($this.attr('data-pg'), 10);\r\n\t\t\t\tif ($this.hasClass('disabled')) {\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\trenderPager($IXPager, page);\r\n\t\t\t\t$self.trigger('page', page)\r\n\t\t\t});\r\n\t\t\trenderPager($IXPager, settings.page);\r\n\t\t});\r\n\t};\r\n})(jQuery, window);\r\n;/* ========================================================================\r\n * bootstrap-switch - v3.0.2\r\n * http://www.bootstrap-switch.org\r\n * ========================================================================\r\n * Copyright 2012-2013 Mattia Larentis\r\n *\r\n * ========================================================================\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *\t\t http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================================\r\n */\r\n\r\n(function() {\r\n\tvar __slice = [].slice;\r\n\r\n\t(function($, window) {\r\n\t\t\"use strict\";\r\n\t\tvar BootstrapSwitch;\r\n\t\tBootstrapSwitch = (function() {\r\n\t\t\tfunction BootstrapSwitch(element, options) {\r\n\t\t\t\tif (options == null) {\r\n\t\t\t\t\toptions = {};\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element = $(element);\r\n\t\t\t\tthis.options = $.extend({}, $.fn.bootstrapSwitch.defaults, {\r\n\t\t\t\t\tstate: this.$element.is(\":checked\"),\r\n\t\t\t\t\tsize: this.$element.data(\"size\"),\r\n\t\t\t\t\tanimate: this.$element.data(\"animate\"),\r\n\t\t\t\t\tdisabled: this.$element.is(\":disabled\"),\r\n\t\t\t\t\treadonly: this.$element.is(\"[readonly]\"),\r\n\t\t\t\t\tindeterminate: this.$element.data(\"indeterminate\"),\r\n\t\t\t\t\tonColor: this.$element.data(\"on-color\"),\r\n\t\t\t\t\toffColor: this.$element.data(\"off-color\"),\r\n\t\t\t\t\tonText: this.$element.data(\"on-text\"),\r\n\t\t\t\t\toffText: this.$element.data(\"off-text\"),\r\n\t\t\t\t\tlabelText: this.$element.data(\"label-text\"),\r\n\t\t\t\t\tbaseClass: this.$element.data(\"base-class\"),\r\n\t\t\t\t\twrapperClass: this.$element.data(\"wrapper-class\"),\r\n\t\t\t\t\tradioAllOff: this.$element.data(\"radio-all-off\")\r\n\t\t\t\t}, options);\r\n\t\t\t\tthis.$wrapper = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": (function(_this) {\r\n\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\tvar classes;\r\n\t\t\t\t\t\t\tclasses = [\"\" + _this.options.baseClass].concat(_this._getClasses(_this.options.wrapperClass));\r\n\t\t\t\t\t\t\tclasses.push(_this.options.state ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (_this.options.size != null) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-\" + _this.options.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.disabled) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-disabled\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.readonly) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-readonly\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.$element.attr(\"id\")) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-id-\" + (_this.$element.attr(\"id\")));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn classes.join(\" \");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)()\r\n\t\t\t\t});\r\n\t\t\t\tthis.$container = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-container\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.$on = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.onText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-on \" + this.options.baseClass + \"-\" + this.options.onColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$off = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.offText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-off \" + this.options.baseClass + \"-\" + this.options.offColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$label = $(\"<label>\", {\r\n\t\t\t\t\thtml: this.options.labelText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-label\"\r\n\t\t\t\t});\r\n\t\t\t\tif (this.options.indeterminate) {\r\n\t\t\t\t\tthis.$element.prop(\"indeterminate\", true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element.on(\"init.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onInit.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$element.on(\"switchChange.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onSwitchChange.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$container = this.$element.wrap(this.$container).parent();\r\n\t\t\t\tthis.$wrapper = this.$container.wrap(this.$wrapper).parent();\r\n\t\t\t\tthis.$element.before(this.$on).before(this.$label).before(this.$off).trigger(\"init.bootstrapSwitch\");\r\n\t\t\t\tthis._elementHandlers();\r\n\t\t\t\tthis._handleHandlers();\r\n\t\t\t\tthis._labelHandlers();\r\n\t\t\t\tthis._formHandler();\r\n\t\t\t}\r\n\r\n\t\t\tBootstrapSwitch.prototype._constructor = BootstrapSwitch;\r\n\r\n\t\t\tBootstrapSwitch.prototype.state = function(value, skip) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.state;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.state && !this.options.radioAllOff && this.$element.is(':radio')) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$element.prop(\"checked\", value).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleState = function(skip) {\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$element.prop(\"checked\", !this.options.state).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.size = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.size;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.size != null) {\r\n\t\t\t\t\tthis.$wrapper.removeClass(\"\" + this.options.baseClass + \"-\" + this.options.size);\r\n\t\t\t\t}\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$wrapper.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.size = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.animate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.animate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-animate\");\r\n\t\t\t\tthis.options.animate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.disabled = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.disabled;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.$element.prop(\"disabled\", value);\r\n\t\t\t\tthis.options.disabled = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleDisabled = function() {\r\n\t\t\t\tthis.$element.prop(\"disabled\", !this.options.disabled);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.options.disabled = !this.options.disabled;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.readonly = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.readonly;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.$element.prop(\"readonly\", value);\r\n\t\t\t\tthis.options.readonly = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleReadonly = function() {\r\n\t\t\t\tthis.$element.prop(\"readonly\", !this.options.readonly);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.options.readonly = !this.options.readonly;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.indeterminate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.indeterminate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", value);\r\n\t\t\t\tthis.options.indeterminate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleIndeterminate = function() {\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", !this.options.indeterminate);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.options.indeterminate = !this.options.indeterminate;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.onColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$on.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.onColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.offColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$off.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.offColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.html(value);\r\n\t\t\t\tthis.options.onText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.offText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.html(value);\r\n\t\t\t\tthis.options.offText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.labelText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.labelText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$label.html(value);\r\n\t\t\t\tthis.options.labelText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.baseClass = function(value) {\r\n\t\t\t\treturn this.options.baseClass;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.wrapperClass = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(\" \"));\r\n\t\t\t\tthis.$wrapper.addClass(this._getClasses(value).join(\" \"));\r\n\t\t\t\tthis.options.wrapperClass = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.radioAllOff = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.radioAllOff;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.radioAllOff = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onInit = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onInit = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onSwitchChange = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onSwitchChange = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.destroy = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.length) {\r\n\t\t\t\t\t$form.off(\"reset.bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.$container.children().not(this.$element).remove();\r\n\t\t\t\tthis.$element.unwrap().unwrap().off(\".bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._elementHandlers = function() {\r\n\t\t\t\treturn this.$element.on({\r\n\t\t\t\t\t\"change.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e, skip) {\r\n\t\t\t\t\t\t\tvar checked;\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\tchecked = _this.$element.is(\":checked\");\r\n\t\t\t\t\t\t\tif (checked === _this.options.state) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.options.state = checked;\r\n\t\t\t\t\t\t\t_this.$wrapper.removeClass(checked ? \"\" + _this.options.baseClass + \"-off\" : \"\" + _this.options.baseClass + \"-on\").addClass(checked ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (!skip) {\r\n\t\t\t\t\t\t\t\tif (_this.$element.is(\":radio\")) {\r\n\t\t\t\t\t\t\t\t\t$(\"[name='\" + (_this.$element.attr('name')) + \"']\").not(_this.$element).prop(\"checked\", false).trigger(\"change.bootstrapSwitch\", true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn _this.$element.trigger(\"switchChange.bootstrapSwitch\", [checked]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"focus.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"blur.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"keydown.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!e.which || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tswitch (e.which) {\r\n\t\t\t\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(false);\r\n\t\t\t\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._handleHandlers = function() {\r\n\t\t\t\tthis.$on.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(false);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\treturn this.$off.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(true);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._labelHandlers = function() {\r\n\t\t\t\treturn this.$label.on({\r\n\t\t\t\t\t\"mousemove.bootstrapSwitch touchmove.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tvar left, pageX, percent, right;\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragged = true;\r\n\t\t\t\t\t\t\tpageX = e.pageX || e.originalEvent.touches[0].pageX;\r\n\t\t\t\t\t\t\tpercent = ((pageX - _this.$wrapper.offset().left) / _this.$wrapper.width()) * 100;\r\n\t\t\t\t\t\t\tleft = 25;\r\n\t\t\t\t\t\t\tright = 75;\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t_this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (percent < left) {\r\n\t\t\t\t\t\t\t\tpercent = left;\r\n\t\t\t\t\t\t\t} else if (percent > right) {\r\n\t\t\t\t\t\t\t\tpercent = right;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\" + (percent - right) + \"%\");\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mousedown.bootstrapSwitch touchstart.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (_this.isLabelDragging || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragging = true;\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseup.bootstrapSwitch touchend.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tif (_this.isLabelDragged) {\r\n\t\t\t\t\t\t\t\t_this.isLabelDragged = false;\r\n\t\t\t\t\t\t\t\t_this.state(parseInt(_this.$container.css(\"margin-left\"), 10) > -(_this.$container.width() / 6));\r\n\t\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t\t_this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.state(!_this.options.state);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn _this.isLabelDragging = false;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseleave.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\treturn _this.$label.trigger(\"mouseup.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._formHandler = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.data(\"bootstrap-switch\")) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn $form.on(\"reset.bootstrapSwitch\", function() {\r\n\t\t\t\t\treturn window.setTimeout(function() {\r\n\t\t\t\t\t\treturn $form.find(\"input\").filter(function() {\r\n\t\t\t\t\t\t\treturn $(this).data(\"bootstrap-switch\");\r\n\t\t\t\t\t\t}).each(function() {\r\n\t\t\t\t\t\t\treturn $(this).bootstrapSwitch(\"state\", this.checked);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}).data(\"bootstrap-switch\", true);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._getClasses = function(classes) {\r\n\t\t\t\tvar c, cls, _i, _len;\r\n\t\t\t\tif (!$.isArray(classes)) {\r\n\t\t\t\t\treturn [\"\" + this.options.baseClass + \"-\" + classes];\r\n\t\t\t\t}\r\n\t\t\t\tcls = [];\r\n\t\t\t\tfor (_i = 0, _len = classes.length; _i < _len; _i++) {\r\n\t\t\t\t\tc = classes[_i];\r\n\t\t\t\t\tcls.push(\"\" + this.options.baseClass + \"-\" + c);\r\n\t\t\t\t}\r\n\t\t\t\treturn cls;\r\n\t\t\t};\r\n\r\n\t\t\treturn BootstrapSwitch;\r\n\r\n\t\t})();\r\n\t\t$.fn.bootstrapSwitch = function() {\r\n\t\t\tvar args, option, ret;\r\n\t\t\toption = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n\t\t\tret = this;\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar $this, data;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tdata = $this.data(\"bootstrap-switch\");\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\t$this.data(\"bootstrap-switch\", data = new BootstrapSwitch(this, option));\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof option === \"string\") {\r\n\t\t\t\t\treturn ret = data[option].apply(data, args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\t$.fn.bootstrapSwitch.Constructor = BootstrapSwitch;\r\n\t\treturn $.fn.bootstrapSwitch.defaults = {\r\n\t\t\tstate: true,\r\n\t\t\tsize: null,\r\n\t\t\tanimate: true,\r\n\t\t\tdisabled: false,\r\n\t\t\treadonly: false,\r\n\t\t\tindeterminate: false,\r\n\t\t\tonColor: \"primary\",\r\n\t\t\toffColor: \"default\",\r\n\t\t\tonText: \"ON\",\r\n\t\t\toffText: \"OFF\",\r\n\t\t\tlabelText: \"&nbsp;\",\r\n\t\t\tbaseClass: \"bootstrap-switch\",\r\n\t\t\twrapperClass: \"wrapper\",\r\n\t\t\tradioAllOff: false,\r\n\t\t\tonInit: function() {},\r\n\t\t\tonSwitchChange: function() {}\r\n\t\t};\r\n\t})(window.jQuery, window);\r\n\r\n}).call(this);\r\n;/*!\n * @NOTE ���򵼿ؼ�����ԭ�����ϵ��޸İ汾\n * ����Ҫ������bootstrap��tab����ǩҳ/ѡ�������\n * HTML��������ѭbootstrap��tab���������ṹ\n * jQuery twitter bootstrap wizard plugin\n * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard\n * version 1.0\n * Requires jQuery v1.3.2 or later\n * Supports Bootstrap 2.2.x, 2.3.x, 3.0\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)\n */\n;(function($) {\nvar bootstrapWizardCreate = function(element, options) {\n\tvar element = $(element);\n\tvar obj = this;\n\t\n\t// selector skips any 'li' elements that do not contain a child with a tab data-toggle\n\tvar baseItemSelector = 'li:has([data-toggle=\"tab\"])';\n\n\t// Merge options with defaults\n\tvar $settings = $.extend({}, $.fn.bootstrapWizard.defaults, options),\n\t    $activeTab = null,\n        $navigation = null,\n        $stepAction = null;\n\t\n\tthis.rebindClick = function(selector, fn)\n\t{\n\t\tselector.unbind('click', fn).bind('click', fn);\n\t}\n\n\tthis.fixNavigationButtons = function() {\n\t\t// Get the current active tab\n\t\tif(!$activeTab.length) {\n\t\t\t// Select first one\n\t\t\t$navigation.find('a:first').tab('show');\n\t\t\t$activeTab = $navigation.find(baseItemSelector + ':first');\n\t\t}\n\n\t\t// See if we're currently in the first/last then disable the previous and last buttons\n\t\t$($settings.previousSelector, element).toggleClass($settings.unusableClass, (obj.firstIndex() >= obj.currentIndex()));\n\t\t$($settings.nextSelector, element).toggleClass($settings.unusableClass, (obj.currentIndex() >= obj.navigationLength()));\n        \n        if(obj.currentIndex() >= obj.navigationLength())\n        {\n            var lastAction = $settings.lastAction;\n            if(lastAction == 'remove' || !lastAction)\n                $stepAction.remove();\n            else if(lastAction == 'hide')\n                $stepAction.addClass('hidden');\n        }\n\n\t\t// We are unbinding and rebinding to ensure single firing and no double-click errors\n\t\tobj.rebindClick($($settings.nextSelector, element), obj.next);\n\t\tobj.rebindClick($($settings.previousSelector, element), obj.previous);\n\t\tobj.rebindClick($($settings.lastSelector, element), obj.last);\n\t\tobj.rebindClick($($settings.firstSelector, element), obj.first);\n        \n        //@NOTE: �����¼��� BUG, ע�͵������� onTabChange �¼�\n\t\t/*if($settings.onTabShow && typeof $settings.onTabShow === 'function' && $settings.onTabShow(obj.activePane(), $activeTab, $navigation, obj.currentIndex())===false){\n\t\t\treturn false;\n\t\t}*/\n\t};\n\n\tthis.next = function(e) {\n\n\t\t// If we clicked the last then dont activate this\n\t\tif(element.hasClass('last')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif($settings.onNext && typeof $settings.onNext === 'function' && $settings.onNext(obj.activePane(), $activeTab, $navigation, obj.nextIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// Did we click the last button\n\t\t$index = obj.nextIndex();\n\t\tif($index > obj.navigationLength()) {\n\t\t} else {\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\n\t\t}\n        return this;\n\t};\n\n\tthis.previous = function(e) {\n\n\t\t// If we clicked the first then dont activate this\n\t\tif(element.hasClass('first')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif($settings.onPrevious && typeof $settings.onPrevious === 'function' && $settings.onPrevious(obj.activePane(), $activeTab, $navigation, obj.previousIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t$index = obj.previousIndex();\n\t\tif($index < 0) {\n\t\t} else {\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\n\t\t}\n        return this;\n\t};\n\n\tthis.first = function(e) {\n\t\tif($settings.onFirst && typeof $settings.onFirst === 'function' && $settings.onFirst(obj.activePane(), $activeTab, $navigation, obj.firstIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the element is disabled then we won't do anything\n\t\tif(element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n\t\t$navigation.find(baseItemSelector + ':eq(0) a').tab('show');\n        return this;\n\t};\n\tthis.last = function(e) {\n\t\tif($settings.onLast && typeof $settings.onLast === 'function' && $settings.onLast(obj.activePane(), $activeTab, $navigation, obj.lastIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the element is disabled then we won't do anything\n\t\tif(element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n\t\t$navigation.find(baseItemSelector + ':eq('+obj.navigationLength()+') a').tab('show');\n        return this;\n\t};\n\tthis.currentIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab);\n\t};\n\tthis.firstIndex = function() {\n\t\treturn 0;\n\t};\n\tthis.lastIndex = function() {\n\t\treturn obj.navigationLength();\n\t};\n\tthis.getIndex = function(e) {\n\t\treturn $navigation.find(baseItemSelector).index(e);\n\t};\n\tthis.nextIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) + 1;\n\t};\n\tthis.previousIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) - 1;\n\t};\n\tthis.navigationLength = function() {\n\t\treturn $navigation.find(baseItemSelector).length - 1;\n\t};\n\tthis.activeTab = function() {\n\t\treturn $activeTab;\n\t};\n    this.activePane = function ()\n    {\n        return element.find('.tab-pane.active');\n    };\n\tthis.nextTab = function() {\n\t\treturn $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')').length ? $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')') : null;\n\t};\n\tthis.previousTab = function() {\n\t\tif(obj.currentIndex() <= 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn $navigation.find(baseItemSelector + ':eq('+parseInt(obj.currentIndex()-1)+')');\n\t};\n\tthis.show = function(index) {\n\t\tif (isNaN(index)) {\n\t\t\treturn element.find(baseItemSelector + ' a[href=#' + index + ']').tab('show');\n\t\t}\n\t\telse {\n\t\t\treturn element.find(baseItemSelector + ':eq(' + index + ') a').tab('show');\n\t\t}\n\t};\n\tthis.disable = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').addClass('disabled');\n\t};\n\tthis.enable = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').removeClass('disabled');\n\t};\n\tthis.hide = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').hide();\n\t};\n\tthis.display = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').show();\n\t};\n\tthis.remove = function(args) {\n\t\tvar $index = args[0];\n\t\tvar $removeTabPane = typeof args[1] != 'undefined' ? args[1] : false;\n\t\tvar $item = $navigation.find(baseItemSelector + ':eq('+$index+')');\n\n\t\t// Remove the tab pane first if needed\n\t\tif($removeTabPane) {\n\t\t\tvar $href = $item.find('a').attr('href');\n\t\t\t$($href).remove();\n\t\t}\n\n\t\t// Remove menu item\n\t\t$item.remove();\n\t};\n\t\n\tvar innerTabClick = function (e) {\n\t\t// Get the index of the clicked tab\n\t\tvar clickedIndex = $navigation.find(baseItemSelector).index($(e.currentTarget).parent(baseItemSelector));\n\t\tif($settings.onTabClick && typeof $settings.onTabClick === 'function' && $settings.onTabClick(obj.activePane(), $activeTab, $navigation, obj.currentIndex(), clickedIndex)===false){\n\t\t\treturn false;\n\t\t}\n\t};\n\t\n\tvar innerTabShown = function (e) {  \n        // use shown instead of show to help prevent double firing\n        // @NOTE: double firing ������ onTabShow�¼��ϣ��Ѿ�ע�͵�\n\t\t$element = $(e.target).parent();\n\t\tvar nextTab = $navigation.find(baseItemSelector).index($element);\n\n\t\t// If it's disabled then do not change\n\t\tif($element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n        var $panes = element.find('.tab-pane'),\n            curIdx = obj.currentIndex(),\n            $currentPane = curIdx == -1 ? null : $panes.eq(curIdx),\n            $nextPane = $panes.eq(nextTab)\n\t\tif($settings.onTabChange && typeof $settings.onTabChange === 'function' && $settings.onTabChange($currentPane, $nextPane, curIdx, nextTab, $activeTab, $navigation)===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t$activeTab = $element; // activated tab\n\t\tobj.fixNavigationButtons();\n\t};\n\t\n\tthis.resetWizard = function() {\n\t\t\n\t\t// remove the existing handlers\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('click', innerTabClick);\n        //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('show show.bs.tab', innerTabShown);\n\t\t\n\t\t// reset elements based on current state of the DOM\n\t\t$navigation = element.find('ul:first', element);\n\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n\t\t\n\t\t// re-add handlers\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n        //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\n\t\t\n\t\tobj.fixNavigationButtons();\n\t};\n\n\t$navigation = element.find('ul:first', element);\n\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n    $stepAction = element.find($settings.actionSelector);\n\n\tif(!$navigation.hasClass($settings.tabClass)) {\n\t\t$navigation.addClass($settings.tabClass);\n\t}\n    var $firstPane = element.find('.tab-pane').eq(0);\n\t// Load onInit\n\tif($settings.onInit && typeof $settings.onInit === 'function'){\n\t\t$settings.onInit($firstPane, $activeTab, $navigation, 0);\n\t}\n\n\t// Load onShow\n\tif($settings.onShow && typeof $settings.onShow === 'function'){\n\t\t$settings.onShow($firstPane, $activeTab, $navigation, obj.nextIndex());\n\t}\n\n\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n\n\t// attach to both shown and shown.bs.tab to support Bootstrap versions 2.3.2 and 3.0.0\n    //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\n};\n$.fn.bootstrapWizard = function(options) {\n\t//expose methods\n\tif (typeof options == 'string') {\n\t\tvar args = Array.prototype.slice.call(arguments, 1)\n\t\tif(args.length === 1) {\n\t\t\targs.toString();\n\t\t}\n\t\treturn this.data('bootstrapWizard')[options](args);\n\t}\n\treturn this.each(function(index){\n\t\tvar element = $(this);\n\t\t// Return early if this element already has a plugin instance\n\t\tif (element.data('bootstrapWizard')) return;\n\t\t// pass options to plugin constructor\n\t\tvar wizard = new bootstrapWizardCreate(element, options);\n\t\t// Store plugin object in this element's data\n\t\telement.data('bootstrapWizard', wizard);\n\t\t// and then trigger initial change\n\t\twizard.fixNavigationButtons();\n\t});\n};\n\n// expose options\n$.fn.bootstrapWizard.defaults = {\n\ttabClass:         'step-nav',\n    //��������һ����������һ�����Ȱ�ť����������\n    actionSelector:   '.step-action',\n\tnextSelector:     '.next-step',\n\tpreviousSelector: '.prev-step',\n\tfirstSelector:    '.first-step',\n\tlastSelector:     '.last-step',\n    //��������һ��ʱ����������һ����������һ�����Ȱ�ť��������Ϊ\n    // 'remove' || 'hide' || 'keep'\n    lastAction:       'remove', \n    //�����ð�ť������: 'hidden' || 'disabled' || ��������\n    unusableClass:    'hidden', \n\tonShow:           null,\n\tonInit:           null,\n\tonNext:           null,\n\tonPrevious:       null,\n\tonLast:           null,\n\tonFirst:          null,\n\tonTabChange:      null, \n    //onTabShow:      null, // @NOTE: ���¼��� BUG��ע�͵�\n\tonTabClick:       function () { return false; },\n};\n\n})(jQuery);\n;/*!\r\nChosen, a Select Box Enhancer for jQuery and Prototype\r\nby Patrick Filler for Harvest, http://getharvest.com\r\n\r\nVersion 1.1.0\r\nFull source at https://github.com/harvesthq/chosen\r\nCopyright (c) 2011 Harvest http://getharvest.com\r\n\r\nMIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md\r\nThis file is generated by `grunt build`, do not edit it by hand.\r\n*/\r\n\r\n(function() {\r\n\tvar $, AbstractChosen, Chosen, SelectParser, _ref,\r\n\t\t__hasProp = {}.hasOwnProperty,\r\n\t\t__extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\r\n\r\n\tSelectParser = (function() {\r\n\t\tfunction SelectParser() {\r\n\t\t\tthis.options_index = 0;\r\n\t\t\tthis.parsed = [];\r\n\t\t}\r\n\r\n\t\tSelectParser.prototype.add_node = function(child) {\r\n\t\t\tif (child.nodeName.toUpperCase() === \"OPTGROUP\") {\r\n\t\t\t\treturn this.add_group(child);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.add_option(child);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_group = function(group) {\r\n\t\t\tvar group_position, option, _i, _len, _ref, _results;\r\n\t\t\tgroup_position = this.parsed.length;\r\n\t\t\tthis.parsed.push({\r\n\t\t\t\tarray_index: group_position,\r\n\t\t\t\tgroup: true,\r\n\t\t\t\tlabel: this.escapeExpression(group.label),\r\n\t\t\t\tchildren: 0,\r\n\t\t\t\tdisabled: group.disabled\r\n\t\t\t});\r\n\t\t\t_ref = group.childNodes;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\t_results.push(this.add_option(option, group_position, group.disabled));\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_option = function(option, group_position, group_disabled) {\r\n\t\t\tif (option.nodeName.toUpperCase() === \"OPTION\") {\r\n\t\t\t\tif (option.text !== \"\") {\r\n\t\t\t\t\tif (group_position != null) {\r\n\t\t\t\t\t\tthis.parsed[group_position].children += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tvalue: option.value,\r\n\t\t\t\t\t\ttext: option.text,\r\n\t\t\t\t\t\thtml: option.innerHTML,\r\n\t\t\t\t\t\tselected: option.selected,\r\n\t\t\t\t\t\tdisabled: group_disabled === true ? group_disabled : option.disabled,\r\n\t\t\t\t\t\tgroup_array_index: group_position,\r\n\t\t\t\t\t\tclasses: option.className,\r\n\t\t\t\t\t\tstyle: option.style.cssText\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tempty: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.options_index += 1;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.escapeExpression = function(text) {\r\n\t\t\tvar map, unsafe_chars;\r\n\t\t\tif ((text == null) || text === false) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (!/[\\&\\<\\>\\\"\\'\\`]/.test(text)) {\r\n\t\t\t\treturn text;\r\n\t\t\t}\r\n\t\t\tmap = {\r\n\t\t\t\t\"<\": \"&lt;\",\r\n\t\t\t\t\">\": \"&gt;\",\r\n\t\t\t\t'\"': \"&quot;\",\r\n\t\t\t\t\"'\": \"&#x27;\",\r\n\t\t\t\t\"`\": \"&#x60;\"\r\n\t\t\t};\r\n\t\t\tunsafe_chars = /&(?!\\w+;)|[\\<\\>\\\"\\'\\`]/g;\r\n\t\t\treturn text.replace(unsafe_chars, function(chr) {\r\n\t\t\t\treturn map[chr] || \"&amp;\";\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn SelectParser;\r\n\r\n\t})();\r\n\r\n\tSelectParser.select_to_array = function(select) {\r\n\t\tvar child, parser, _i, _len, _ref;\r\n\t\tparser = new SelectParser();\r\n\t\t_ref = select.childNodes;\r\n\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\tchild = _ref[_i];\r\n\t\t\tparser.add_node(child);\r\n\t\t}\r\n\t\treturn parser.parsed;\r\n\t};\r\n\r\n\tAbstractChosen = (function() {\r\n\t\tfunction AbstractChosen(form_field, options) {\r\n\t\t\tthis.form_field = form_field;\r\n\t\t\tthis.options = options != null ? options : {};\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.is_multiple = this.form_field.multiple;\r\n\t\t\tthis.set_default_text();\r\n\t\t\tthis.set_default_values();\r\n\t\t\tthis.setup();\r\n\t\t\tthis.set_up_html();\r\n\t\t\tthis.register_observers();\r\n\t\t}\r\n\r\n\t\tAbstractChosen.prototype.set_default_values = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.click_test_action = function(evt) {\r\n\t\t\t\treturn _this.test_active_click(evt);\r\n\t\t\t};\r\n\t\t\tthis.activate_action = function(evt) {\r\n\t\t\t\treturn _this.activate_field(evt);\r\n\t\t\t};\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.mouse_on_container = false;\r\n\t\t\tthis.results_showing = false;\r\n\t\t\tthis.result_highlighted = null;\r\n\t\t\tthis.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\r\n\t\t\tthis.disable_search_threshold = this.options.disable_search_threshold || 0;\r\n\t\t\tthis.disable_search = this.options.disable_search || false;\r\n\t\t\tthis.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\r\n\t\t\tthis.group_search = this.options.group_search != null ? this.options.group_search : true;\r\n\t\t\tthis.search_contains = this.options.search_contains || false;\r\n\t\t\tthis.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\r\n\t\t\tthis.max_selected_options = this.options.max_selected_options || Infinity;\r\n\t\t\tthis.inherit_select_classes = this.options.inherit_select_classes || false;\r\n\t\t\tthis.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\r\n\t\t\treturn this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.set_default_text = function() {\r\n\t\t\tif (this.form_field.getAttribute(\"data-placeholder\")) {\r\n\t\t\t\tthis.default_text = this.form_field.getAttribute(\"data-placeholder\");\r\n\t\t\t} else if (this.is_multiple) {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\r\n\t\t\t} else {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\r\n\t\t\t}\r\n\t\t\treturn this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_enter = function() {\r\n\t\t\treturn this.mouse_on_container = true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_leave = function() {\r\n\t\t\treturn this.mouse_on_container = false;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_focus = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\t\treturn _this.container_mousedown();\r\n\t\t\t\t\t}), 50);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_blur = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.mouse_on_container) {\r\n\t\t\t\tthis.active_field = false;\r\n\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\treturn _this.blur_test();\r\n\t\t\t\t}), 100);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_option_build = function(options) {\r\n\t\t\tvar content, data, _i, _len, _ref;\r\n\t\t\tcontent = '';\r\n\t\t\t_ref = this.results_data;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tdata = _ref[_i];\r\n\t\t\t\tif (data.group) {\r\n\t\t\t\t\tcontent += this.result_add_group(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent += this.result_add_option(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (options != null ? options.first : void 0) {\r\n\t\t\t\t\tif (data.selected && this.is_multiple) {\r\n\t\t\t\t\t\tthis.choice_build(data);\r\n\t\t\t\t\t} else if (data.selected && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.single_set_selected_text(data.text);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn content;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_option = function(option) {\r\n\t\t\tvar classes, option_el;\r\n\t\t\tif (!option.search_match) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!this.include_option_in_results(option)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tclasses = [];\r\n\t\t\tif (!option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"active-result\");\r\n\t\t\t}\r\n\t\t\tif (option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"disabled-result\");\r\n\t\t\t}\r\n\t\t\tif (option.selected) {\r\n\t\t\t\tclasses.push(\"result-selected\");\r\n\t\t\t}\r\n\t\t\tif (option.group_array_index != null) {\r\n\t\t\t\tclasses.push(\"group-option\");\r\n\t\t\t}\r\n\t\t\tif (option.classes !== \"\") {\r\n\t\t\t\tclasses.push(option.classes);\r\n\t\t\t}\r\n\t\t\toption_el = document.createElement(\"li\");\r\n\t\t\toption_el.className = classes.join(\" \");\r\n\t\t\toption_el.style.cssText = option.style;\r\n\t\t\toption_el.setAttribute(\"data-option-array-index\", option.array_index);\r\n\t\t\toption_el.innerHTML = option.search_text;\r\n\t\t\treturn this.outerHTML(option_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_group = function(group) {\r\n\t\t\tvar group_el;\r\n\t\t\tif (!(group.search_match || group.group_match)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!(group.active_options > 0)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tgroup_el = document.createElement(\"li\");\r\n\t\t\tgroup_el.className = \"group-result\";\r\n\t\t\tgroup_el.innerHTML = group.search_text;\r\n\t\t\treturn this.outerHTML(group_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_update_field = function() {\r\n\t\t\tthis.set_default_text();\r\n\t\t\tif (!this.is_multiple) {\r\n\t\t\t\tthis.results_reset_cleanup();\r\n\t\t\t}\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tthis.results_build();\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.reset_single_select_options = function() {\r\n\t\t\tvar result, _i, _len, _ref, _results;\r\n\t\t\t_ref = this.results_data;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tresult = _ref[_i];\r\n\t\t\t\tif (result.selected) {\r\n\t\t\t\t\t_results.push(result.selected = false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_results.push(void 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_toggle = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_search = function(evt) {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.winnow_results = function() {\r\n\t\t\tvar escapedSearchText, option, regex, regexAnchor, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\r\n\t\t\tthis.no_results_clear();\r\n\t\t\tresults = 0;\r\n\t\t\tsearchText = this.get_search_text();\r\n\t\t\tescapedSearchText = searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n\t\t\tregexAnchor = this.search_contains ? \"\" : \"^\";\r\n\t\t\tregex = new RegExp(regexAnchor + escapedSearchText, 'i');\r\n\t\t\tzregex = new RegExp(escapedSearchText, 'i');\r\n\t\t\t_ref = this.results_data;\r\n\t\t\t// add by HuHao for supporting Chinese pinyin match\r\n\t\t\tif (this.options.getMatchedFn && $.isFunction(this.options.getMatchedFn)) {\r\n\t\t\t\tvar matchedOptions = this.options.getMatchedFn(searchText);\r\n\t\t\t\tvar search_value_match = function (v, matches, curSearchText) {\r\n\t\t\t\t\tvar m = matches[v];\r\n\t\t\t\t\tif (!curSearchText || !curSearchText.length) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn !m ? false : true;\r\n\t\t\t\t};\r\n\t\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\t\toption = _ref[_i];\r\n\t\t\t\t\toption.search_match =false;\r\n\t\t\t\t\tresults_group = null;\r\n\t\t\t\t\tif (this.include_option_in_results(option)) {\r\n\t\t\t\t\t\tif (option.group) {\r\n\t\t\t\t\t\t\toption.group_match = false;\r\n\t\t\t\t\t\t\toption.active_options = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n\t\t\t\t\t\t\tresults_group = this.results_data[option.group_array_index];\r\n\t\t\t\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresults_group.active_options += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!(option.group && !this.group_search)) {\r\n\t\t\t\t\t\t\toption.search_text = option.group ? option.label : option.html;\r\n\t\t\t\t\t\t\toption.search_match = search_value_match(option.value, matchedOptions, searchText);\r\n\t\t\t\t\t\t\tif (option.search_match && !option.group) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (option.search_match) {\r\n\t\t\t\t\t\t\t\tif (results_group != null) {\r\n\t\t\t\t\t\t\t\t\tresults_group.group_match = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n\t\t\t\t\t\t\t\toption.search_match = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// this is origin code\r\n\t\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\t\toption = _ref[_i];\r\n\t\t\t\t\toption.search_match = false;\r\n\t\t\t\t\tresults_group = null;\r\n\t\t\t\t\tif (this.include_option_in_results(option)) {\r\n\t\t\t\t\t\tif (option.group) {\r\n\t\t\t\t\t\t\toption.group_match = false;\r\n\t\t\t\t\t\t\toption.active_options = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n\t\t\t\t\t\t\tresults_group = this.results_data[option.group_array_index];\r\n\t\t\t\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresults_group.active_options += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!(option.group && !this.group_search)) {\r\n\t\t\t\t\t\t\toption.search_text = option.group ? option.label : option.html;\r\n\t\t\t\t\t\t\toption.search_match = this.search_string_match(option.search_text, regex);\r\n\t\t\t\t\t\t\tif (option.search_match && !option.group) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (option.search_match) {\r\n\t\t\t\t\t\t\t\tif (searchText.length) {\r\n\t\t\t\t\t\t\t\t\tstartpos = option.search_text.search(zregex);\r\n\t\t\t\t\t\t\t\t\ttext = option.search_text.substr(0, startpos + searchText.length) + '</em>' + option.search_text.substr(startpos + searchText.length);\r\n\t\t\t\t\t\t\t\t\toption.search_text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (results_group != null) {\r\n\t\t\t\t\t\t\t\t\tresults_group.group_match = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n\t\t\t\t\t\t\t\toption.search_match = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tif (results < 1 && searchText.length) {\r\n\t\t\t\tthis.update_results_content(\"\");\r\n\t\t\t\treturn this.no_results(searchText);\r\n\t\t\t} else {\r\n\t\t\t\tthis.update_results_content(this.results_option_build());\r\n\t\t\t\treturn this.winnow_results_set_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_string_match = function(search_string, regex) {\r\n\t\t\tvar part, parts, _i, _len;\r\n\t\t\tif (regex.test(search_string)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (this.enable_split_word_search && (search_string.indexOf(\" \") >= 0 || search_string.indexOf(\"[\") === 0)) {\r\n\t\t\t\tparts = search_string.replace(/\\[|\\]/g, \"\").split(\" \");\r\n\t\t\t\tif (parts.length) {\r\n\t\t\t\t\tfor (_i = 0, _len = parts.length; _i < _len; _i++) {\r\n\t\t\t\t\t\tpart = parts[_i];\r\n\t\t\t\t\t\tif (regex.test(part)) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_count = function() {\r\n\t\t\tvar option, _i, _len, _ref;\r\n\t\t\tif (this.selected_option_count != null) {\r\n\t\t\t\treturn this.selected_option_count;\r\n\t\t\t}\r\n\t\t\tthis.selected_option_count = 0;\r\n\t\t\t_ref = this.form_field.options;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\tif (option.selected) {\r\n\t\t\t\t\tthis.selected_option_count += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.selected_option_count;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tif (!(this.results_showing || this.is_disabled)) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.keyup_checker = function(evt) {\r\n\t\t\tvar stroke, _ref;\r\n\t\t\tstroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tif (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else if (!this.pending_backstroke) {\r\n\t\t\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\t\t\treturn this.results_search();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\treturn this.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 27:\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tcase 9:\r\n\t\t\t\tcase 38:\r\n\t\t\t\tcase 40:\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 91:\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn this.results_search();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.clipboard_event_checker = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\treturn setTimeout((function() {\r\n\t\t\t\treturn _this.results_search();\r\n\t\t\t}), 50);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.container_width = function() {\r\n\t\t\tif (this.options.width != null) {\r\n\t\t\t\treturn this.options.width;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\" + this.form_field.offsetWidth + \"px\";\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.include_option_in_results = function(option) {\r\n\t\t\tif (this.is_multiple && (!this.display_selected_options && option.selected)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!this.display_disabled_options && option.disabled) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (option.empty) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchstart = function(evt) {\r\n\t\t\tthis.touch_started = true;\r\n\t\t\treturn this.search_results_mouseover(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchmove = function(evt) {\r\n\t\t\tthis.touch_started = false;\r\n\t\t\treturn this.search_results_mouseout(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchend = function(evt) {\r\n\t\t\tif (this.touch_started) {\r\n\t\t\t\treturn this.search_results_mouseup(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.outerHTML = function(element) {\r\n\t\t\tvar tmp;\r\n\t\t\tif (element.outerHTML) {\r\n\t\t\t\treturn element.outerHTML;\r\n\t\t\t}\r\n\t\t\ttmp = document.createElement(\"div\");\r\n\t\t\ttmp.appendChild(element);\r\n\t\t\treturn tmp.innerHTML;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.browser_is_supported = function() {\r\n\t\t\tif (window.navigator.appName === \"Microsoft Internet Explorer\") {\r\n\t\t\t\treturn document.documentMode >= 8;\r\n\t\t\t}\r\n\t\t\tif (/iP(od|hone)/i.test(window.navigator.userAgent)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (/Android/i.test(window.navigator.userAgent)) {\r\n\t\t\t\tif (/Mobile/i.test(window.navigator.userAgent)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.default_multiple_text = \"Select Some Options\";\r\n\r\n\t\tAbstractChosen.default_single_text = \"Select an Option\";\r\n\r\n\t\tAbstractChosen.default_no_result_text = \"No results match\";\r\n\r\n\t\treturn AbstractChosen;\r\n\r\n\t})();\r\n\r\n\t$ = jQuery;\r\n\r\n\t$.fn.extend({\r\n\t\tchosen: function(options) {\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\treturn this.each(function(input_field) {\r\n\t\t\t\tvar $this, chosen;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tchosen = $this.data('chosen');\r\n\t\t\t\tif (options === 'destroy' && chosen) {\r\n\t\t\t\t\tchosen.destroy();\r\n\t\t\t\t} else if (!chosen) {\r\n\t\t\t\t\t$this.data('chosen', new Chosen(this, options));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tChosen = (function(_super) {\r\n\t\t__extends(Chosen, _super);\r\n\r\n\t\tfunction Chosen() {\r\n\t\t\t_ref = Chosen.__super__.constructor.apply(this, arguments);\r\n\t\t\treturn _ref;\r\n\t\t}\r\n\r\n\t\tChosen.prototype.setup = function() {\r\n\t\t\tthis.form_field_jq = $(this.form_field);\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.is_rtl = this.form_field_jq.hasClass(\"chosen-rtl\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_up_html = function() {\r\n\t\t\tvar container_classes, container_props;\r\n\t\t\tcontainer_classes = [\"chosen-container\"];\r\n\t\t\tcontainer_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\r\n\t\t\tif (this.inherit_select_classes && this.form_field.className) {\r\n\t\t\t\tcontainer_classes.push(this.form_field.className);\r\n\t\t\t}\r\n\t\t\tif (this.is_rtl) {\r\n\t\t\t\tcontainer_classes.push(\"chosen-rtl\");\r\n\t\t\t}\r\n\t\t\tcontainer_props = {\r\n\t\t\t\t'class': container_classes.join(' '),\r\n\t\t\t\t'style': \"width: \" + (this.container_width()) + \";\",\r\n\t\t\t\t'title': this.form_field.title\r\n\t\t\t};\r\n\t\t\tif (this.form_field.id.length) {\r\n\t\t\t\tcontainer_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\r\n\t\t\t}\r\n\t\t\tthis.container = $(\"<div />\", container_props);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.container.html('<ul class=\"chosen-choices\"><li class=\"search-field\"><input type=\"text\" value=\"' + this.default_text + '\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chosen-drop\"><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.html('<a class=\"chosen-single chosen-default\" tabindex=\"-1\"><span>' + this.default_text + '</span><div><b></b></div></a><div class=\"chosen-drop\"><div class=\"chosen-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t}\r\n\t\t\tthis.form_field_jq.hide().after(this.container);\r\n\t\t\tthis.dropdown = this.container.find('div.chosen-drop').first();\r\n\t\t\tthis.search_field = this.container.find('input').first();\r\n\t\t\tthis.search_results = this.container.find('ul.chosen-results').first();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tthis.search_no_results = this.container.find('li.no-results').first();\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices = this.container.find('ul.chosen-choices').first();\r\n\t\t\t\tthis.search_container = this.container.find('li.search-field').first();\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_container = this.container.find('div.chosen-search').first();\r\n\t\t\t\tthis.selected_item = this.container.find('.chosen-single').first();\r\n\t\t\t}\r\n\t\t\tthis.results_build();\r\n\t\t\tthis.set_tab_index();\r\n\t\t\tthis.set_label_behavior();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:ready\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.register_observers = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.container.bind('mousedown.chosen', function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.container_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseenter.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_enter(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseleave.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_leave(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseover.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseover(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseout.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseout(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mousewheel.chosen DOMMouseScroll.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mousewheel(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchstart.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchstart(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchmove.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchmove(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchend.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchend(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:updated.chosen\", function(evt) {\r\n\t\t\t\t_this.results_update_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:activate.chosen\", function(evt) {\r\n\t\t\t\t_this.activate_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:open.chosen\", function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:close.chosen\", function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('blur.chosen', function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keyup.chosen', function(evt) {\r\n\t\t\t\t_this.keyup_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keydown.chosen', function(evt) {\r\n\t\t\t\t_this.keydown_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('focus.chosen', function(evt) {\r\n\t\t\t\t_this.input_focus(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('cut.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('paste.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\treturn this.search_choices.bind('click.chosen', function(evt) {\r\n\t\t\t\t\t_this.choices_click(evt);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn this.container.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.destroy = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tif (this.search_field[0].tabIndex) {\r\n\t\t\t\tthis.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\r\n\t\t\t}\r\n\t\t\tthis.container.remove();\r\n\t\t\tthis.form_field_jq.removeData('chosen');\r\n\t\t\treturn this.form_field_jq.show();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_disabled = function() {\r\n\t\t\tthis.is_disabled = this.form_field_jq[0].disabled;\r\n\t\t\tif (this.is_disabled) {\r\n\t\t\t\tthis.container.addClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = true;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\tthis.selected_item.unbind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.removeClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = false;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\treturn this.selected_item.bind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mousedown = function(evt) {\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\tif (evt && evt.type === \"mousedown\" && !this.results_showing) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\r\n\t\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(this.container[0].ownerDocument).bind('click.chosen', this.click_test_action);\r\n\t\t\t\t\t\tthis.results_show();\r\n\t\t\t\t\t} else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tthis.results_toggle();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mouseup = function(evt) {\r\n\t\t\tif (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\r\n\t\t\t\treturn this.results_reset(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mousewheel = function(evt) {\r\n\t\t\tvar delta;\r\n\t\t\tif (evt.originalEvent) {\r\n\t\t\t\tdelta = -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\r\n\t\t\t}\r\n\t\t\tif (delta != null) {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tif (evt.type === 'DOMMouseScroll') {\r\n\t\t\t\t\tdelta = delta * 40;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_results.scrollTop(delta + this.search_results.scrollTop());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.blur_test = function(evt) {\r\n\t\t\tif (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.close_field = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.results_hide();\r\n\t\t\tthis.container.removeClass(\"chosen-container-active\");\r\n\t\t\tthis.clear_backstroke();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\treturn this.search_field_scale();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.activate_field = function() {\r\n\t\t\tthis.container.addClass(\"chosen-container-active\");\r\n\t\t\tthis.active_field = true;\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\treturn this.search_field.focus();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.test_active_click = function(evt) {\r\n\t\t\tvar active_container;\r\n\t\t\tactive_container = $(evt.target).closest('.chosen-container');\r\n\t\t\tif (active_container.length && this.container[0] === active_container[0]) {\r\n\t\t\t\treturn this.active_field = true;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_build = function() {\r\n\t\t\tthis.parsing = true;\r\n\t\t\tthis.selected_option_count = null;\r\n\t\t\tthis.results_data = SelectParser.select_to_array(this.form_field);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices.find(\"li.search-choice\").remove();\r\n\t\t\t} else if (!this.is_multiple) {\r\n\t\t\t\tthis.single_set_selected_text();\r\n\t\t\t\tif (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\r\n\t\t\t\t\tthis.search_field[0].readOnly = true;\r\n\t\t\t\t\tthis.container.addClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.search_field[0].readOnly = false;\r\n\t\t\t\t\tthis.container.removeClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.update_results_content(this.results_option_build({\r\n\t\t\t\tfirst: true\r\n\t\t\t}));\r\n\t\t\tthis.search_field_disabled();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\treturn this.parsing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_do_highlight = function(el) {\r\n\t\t\tvar high_bottom, high_top, maxHeight, visible_bottom, visible_top;\r\n\t\t\tif (el.length) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.result_highlight = el;\r\n\t\t\t\tthis.result_highlight.addClass(\"highlighted\");\r\n\t\t\t\tmaxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\r\n\t\t\t\tvisible_top = this.search_results.scrollTop();\r\n\t\t\t\tvisible_bottom = maxHeight + visible_top;\r\n\t\t\t\thigh_top = this.result_highlight.position().top + this.search_results.scrollTop();\r\n\t\t\t\thigh_bottom = high_top + this.result_highlight.outerHeight();\r\n\t\t\t\tif (high_bottom >= visible_bottom) {\r\n\t\t\t\t\treturn this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\r\n\t\t\t\t} else if (high_top < visible_top) {\r\n\t\t\t\t\treturn this.search_results.scrollTop(high_top);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_clear_highlight = function() {\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\tthis.result_highlight.removeClass(\"highlighted\");\r\n\t\t\t}\r\n\t\t\treturn this.result_highlight = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_show = function() {\r\n\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.container.addClass(\"chosen-with-drop\");\r\n\t\t\tthis.results_showing = true;\r\n\t\t\tthis.search_field.focus();\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\tthis.winnow_results();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.update_results_content = function(content) {\r\n\t\t\treturn this.search_results.html(content);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_hide = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.container.removeClass(\"chosen-with-drop\");\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this.results_showing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_tab_index = function(el) {\r\n\t\t\tvar ti;\r\n\t\t\tif (this.form_field.tabIndex) {\r\n\t\t\t\tti = this.form_field.tabIndex;\r\n\t\t\t\tthis.form_field.tabIndex = -1;\r\n\t\t\t\treturn this.search_field[0].tabIndex = ti;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_label_behavior = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.form_field_label = this.form_field_jq.parents(\"label\");\r\n\t\t\tif (!this.form_field_label.length && this.form_field.id.length) {\r\n\t\t\t\tthis.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\r\n\t\t\t}\r\n\t\t\tif (this.form_field_label.length > 0) {\r\n\t\t\t\treturn this.form_field_label.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tif (_this.is_multiple) {\r\n\t\t\t\t\t\treturn _this.container_mousedown(evt);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn _this.activate_field();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.show_search_field_default = function() {\r\n\t\t\tif (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\r\n\t\t\t\tthis.search_field.val(this.default_text);\r\n\t\t\t\treturn this.search_field.addClass(\"default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\treturn this.search_field.removeClass(\"default\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseup = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target.length) {\r\n\t\t\t\tthis.result_highlight = target;\r\n\t\t\t\tthis.result_select(evt);\r\n\t\t\t\treturn this.search_field.focus();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseover = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target) {\r\n\t\t\t\treturn this.result_do_highlight(target);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseout = function(evt) {\r\n\t\t\tif ($(evt.target).hasClass(\"active-result\" || $(evt.target).parents('.active-result').first())) {\r\n\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_build = function(item) {\r\n\t\t\tvar choice, close_link,\r\n\t\t\t\t_this = this;\r\n\t\t\tchoice = $('<li />', {\r\n\t\t\t\t\"class\": \"search-choice\"\r\n\t\t\t}).html(\"<span>\" + item.html + \"</span>\");\r\n\t\t\tif (item.disabled) {\r\n\t\t\t\tchoice.addClass('search-choice-disabled');\r\n\t\t\t} else {\r\n\t\t\t\tclose_link = $('<a />', {\r\n\t\t\t\t\t\"class\": 'search-choice-close',\r\n\t\t\t\t\t'data-option-array-index': item.array_index\r\n\t\t\t\t});\r\n\t\t\t\tclose_link.bind('click.chosen', function(evt) {\r\n\t\t\t\t\treturn _this.choice_destroy_link_click(evt);\r\n\t\t\t\t});\r\n\t\t\t\tchoice.append(close_link);\r\n\t\t\t}\r\n\t\t\treturn this.search_container.before(choice);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy_link_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\treturn this.choice_destroy($(evt.target));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy = function(link) {\r\n\t\t\tif (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\r\n\t\t\t\tthis.show_search_field_default();\r\n\t\t\t\tif (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tlink.parents('li').first().remove();\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset = function() {\r\n\t\t\tthis.reset_single_select_options();\r\n\t\t\tthis.form_field.options[0].selected = true;\r\n\t\t\tthis.single_set_selected_text();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.results_reset_cleanup();\r\n\t\t\tthis.form_field_jq.trigger(\"change\");\r\n\t\t\tif (this.active_field) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset_cleanup = function() {\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.selected_item.find(\"abbr\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_select = function(evt) {\r\n\t\t\tvar high, item;\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\thigh = this.result_highlight;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\t\tchosen: this\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\thigh.removeClass(\"active-result\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.reset_single_select_options();\r\n\t\t\t\t}\r\n\t\t\t\titem = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\r\n\t\t\t\titem.selected = true;\r\n\t\t\t\tthis.form_field.options[item.options_index].selected = true;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\tthis.choice_build(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.single_set_selected_text(item.text);\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\tif (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\t\t'selected': this.form_field.options[item.options_index].value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_set_selected_text = function(text) {\r\n\t\t\tif (text == null) {\r\n\t\t\t\ttext = this.default_text;\r\n\t\t\t}\r\n\t\t\tif (text === this.default_text) {\r\n\t\t\t\tthis.selected_item.addClass(\"chosen-default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.single_deselect_control_build();\r\n\t\t\t\tthis.selected_item.removeClass(\"chosen-default\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.find(\"span\").text(text);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_deselect = function(pos) {\r\n\t\t\tvar result_data;\r\n\t\t\tresult_data = this.results_data[pos];\r\n\t\t\tif (!this.form_field.options[result_data.options_index].disabled) {\r\n\t\t\t\tresult_data.selected = false;\r\n\t\t\t\tthis.form_field.options[result_data.options_index].selected = false;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\tthis.winnow_results();\r\n\t\t\t\t}\r\n\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\tdeselected: this.form_field.options[result_data.options_index].value\r\n\t\t\t\t});\r\n\t\t\t\tthis.search_field_scale();\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_deselect_control_build = function() {\r\n\t\t\tif (!this.allow_single_deselect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.selected_item.find(\"abbr\").length) {\r\n\t\t\t\tthis.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.addClass(\"chosen-single-with-deselect\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.get_search_text = function() {\r\n\t\t\tif (this.search_field.val() === this.default_text) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t} else {\r\n\t\t\t\treturn $('<div/>').text($.trim(this.search_field.val())).html();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.winnow_results_set_highlight = function() {\r\n\t\t\tvar do_high, selected_results;\r\n\t\t\tselected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\r\n\t\t\tdo_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\r\n\t\t\tif (do_high != null) {\r\n\t\t\t\treturn this.result_do_highlight(do_high);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results = function(terms) {\r\n\t\t\tvar no_results_html;\r\n\t\t\tno_results_html = $('<li class=\"no-results\">' + this.results_none_found + ' \"<span></span>\"</li>');\r\n\t\t\tno_results_html.find(\"span\").first().html(terms);\r\n\t\t\tthis.search_results.append(no_results_html);\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:no_results\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results_clear = function() {\r\n\t\t\treturn this.search_results.find(\".no-results\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_arrow = function() {\r\n\t\t\tvar next_sib;\r\n\t\t\tif (this.results_showing && this.result_highlight) {\r\n\t\t\t\tnext_sib = this.result_highlight.nextAll(\"li.active-result\").first();\r\n\t\t\t\tif (next_sib) {\r\n\t\t\t\t\treturn this.result_do_highlight(next_sib);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keyup_arrow = function() {\r\n\t\t\tvar prev_sibs;\r\n\t\t\tif (!this.results_showing && !this.is_multiple) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t} else if (this.result_highlight) {\r\n\t\t\t\tprev_sibs = this.result_highlight.prevAll(\"li.active-result\");\r\n\t\t\t\tif (prev_sibs.length) {\r\n\t\t\t\t\treturn this.result_do_highlight(prev_sibs.first());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.choices_count() > 0) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_backstroke = function() {\r\n\t\t\tvar next_available_destroy;\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.choice_destroy(this.pending_backstroke.find(\"a\").first());\r\n\t\t\t\treturn this.clear_backstroke();\r\n\t\t\t} else {\r\n\t\t\t\tnext_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\r\n\t\t\t\tif (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\r\n\t\t\t\t\tthis.pending_backstroke = next_available_destroy;\r\n\t\t\t\t\tif (this.single_backstroke_delete) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.pending_backstroke.addClass(\"search-choice-focus\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.clear_backstroke = function() {\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.pending_backstroke.removeClass(\"search-choice-focus\");\r\n\t\t\t}\r\n\t\t\treturn this.pending_backstroke = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_checker = function(evt) {\r\n\t\t\tvar stroke, _ref1;\r\n\t\t\tstroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tif (stroke !== 8 && this.pending_backstroke) {\r\n\t\t\t\tthis.clear_backstroke();\r\n\t\t\t}\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tthis.backstroke_length = this.search_field.val().length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tif (this.results_showing && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.mouse_on_container = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keyup_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keydown_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_scale = function() {\r\n\t\t\tvar div, f_width, h, style, style_block, styles, w, _i, _len;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\th = 0;\r\n\t\t\t\tw = 0;\r\n\t\t\t\tstyle_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\r\n\t\t\t\tstyles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];\r\n\t\t\t\tfor (_i = 0, _len = styles.length; _i < _len; _i++) {\r\n\t\t\t\t\tstyle = styles[_i];\r\n\t\t\t\t\tstyle_block += style + \":\" + this.search_field.css(style) + \";\";\r\n\t\t\t\t}\r\n\t\t\t\tdiv = $('<div />', {\r\n\t\t\t\t\t'style': style_block\r\n\t\t\t\t});\r\n\t\t\t\tdiv.text(this.search_field.val());\r\n\t\t\t\t$('body').append(div);\r\n\t\t\t\tw = div.width() + 25;\r\n\t\t\t\tdiv.remove();\r\n\t\t\t\tf_width = this.container.outerWidth();\r\n\t\t\t\tif (w > f_width - 10) {\r\n\t\t\t\t\tw = f_width - 10;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_field.css({\r\n\t\t\t\t\t'width': w + 'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn Chosen;\r\n\r\n\t})(AbstractChosen);\r\n\r\n}).call(this);\r\n;/*\n * Lazy Load - jQuery plugin for lazy loading images\n *\n * Copyright (c) 2007-2013 Mika Tuupola\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Project home:\n *   http://www.appelsiini.net/projects/lazyload\n *\n * Version:  1.9.3\n *\n */\n\n(function($, window, document, undefined) {\n    var $window = $(window);\n\n    $.fn.lazyload = function(options) {\n        var elements = this;\n        var $container;\n        var settings = {\n            threshold       : 0,\n            failure_limit   : 0,\n            event           : \"scroll\",\n            effect          : \"show\",\n            container       : window,\n            data_attribute  : \"original\",\n            skip_invisible  : true,\n            appear          : null,\n            load            : null,\n            placeholder     : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\"\n        };\n\n        function update() {\n            var counter = 0;\n\n            elements.each(function() {\n                var $this = $(this);\n                if (settings.skip_invisible && !$this.is(\":visible\")) {\n                    return;\n                }\n                if ($.abovethetop(this, settings) ||\n                    $.leftofbegin(this, settings)) {\n                        /* Nothing. */\n                } else if (!$.belowthefold(this, settings) &&\n                    !$.rightoffold(this, settings)) {\n                        $this.trigger(\"appear\");\n                        /* if we found an image we'll load, reset the counter */\n                        counter = 0;\n                } else {\n                    if (++counter > settings.failure_limit) {\n                        return false;\n                    }\n                }\n            });\n\n        }\n\n        if(options) {\n            /* Maintain BC for a couple of versions. */\n            if (undefined !== options.failurelimit) {\n                options.failure_limit = options.failurelimit;\n                delete options.failurelimit;\n            }\n            if (undefined !== options.effectspeed) {\n                options.effect_speed = options.effectspeed;\n                delete options.effectspeed;\n            }\n\n            $.extend(settings, options);\n        }\n\n        /* Cache container as jQuery as object. */\n        $container = (settings.container === undefined ||\n                      settings.container === window) ? $window : $(settings.container);\n\n        /* Fire one scroll event per scroll. Not one scroll event per image. */\n        if (0 === settings.event.indexOf(\"scroll\")) {\n            $container.bind(settings.event, function() {\n                return update();\n            });\n        }\n\n        this.each(function() {\n            var self = this;\n            var $self = $(self);\n\n            self.loaded = false;\n\n            /* If no src attribute given use data:uri. */\n            if ($self.attr(\"src\") === undefined || $self.attr(\"src\") === false) {\n                if ($self.is(\"img\")) {\n                    $self.attr(\"src\", settings.placeholder);\n                }\n            }\n\n            /* When appear is triggered load original image. */\n            $self.one(\"appear\", function() {\n                if (!this.loaded) {\n                    if (settings.appear) {\n                        var elements_left = elements.length;\n                        settings.appear.call(self, elements_left, settings);\n                    }\n                    $(\"<img />\")\n                        .bind(\"load\", function() {\n\n                            var original = $self.attr(\"data-\" + settings.data_attribute);\n                            $self.hide();\n                            if ($self.is(\"img\")) {\n                                $self.attr(\"src\", original);\n                            } else {\n                                $self.css(\"background-image\", \"url('\" + original + \"')\");\n                            }\n                            $self[settings.effect](settings.effect_speed);\n\n                            self.loaded = true;\n\n                            /* Remove image from array so it is not looped next time. */\n                            var temp = $.grep(elements, function(element) {\n                                return !element.loaded;\n                            });\n                            elements = $(temp);\n\n                            if (settings.load) {\n                                var elements_left = elements.length;\n                                settings.load.call(self, elements_left, settings);\n                            }\n                        })\n                        .attr(\"src\", $self.attr(\"data-\" + settings.data_attribute));\n                }\n            });\n\n            /* When wanted event is triggered load original image */\n            /* by triggering appear.                              */\n            if (0 !== settings.event.indexOf(\"scroll\")) {\n                $self.bind(settings.event, function() {\n                    if (!self.loaded) {\n                        $self.trigger(\"appear\");\n                    }\n                });\n            }\n        });\n\n        /* Check if something appears when window is resized. */\n        $window.bind(\"resize\", function() {\n            update();\n        });\n\n        /* With IOS5 force loading images when navigating with back button. */\n        /* Non optimal workaround. */\n        if ((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)) {\n            $window.bind(\"pageshow\", function(event) {\n                if (event.originalEvent && event.originalEvent.persisted) {\n                    elements.each(function() {\n                        $(this).trigger(\"appear\");\n                    });\n                }\n            });\n        }\n\n        /* Force initial check if images should appear. */\n        $(document).ready(function() {\n            update();\n        });\n\n        return this;\n    };\n\n    /* Convenience methods in jQuery namespace.           */\n    /* Use as  $.belowthefold(element, {threshold : 100, container : window}) */\n\n    $.belowthefold = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = (window.innerHeight ? window.innerHeight : $window.height()) + $window.scrollTop();\n        } else {\n            fold = $(settings.container).offset().top + $(settings.container).height();\n        }\n\n        return fold <= $(element).offset().top - settings.threshold;\n    };\n\n    $.rightoffold = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.width() + $window.scrollLeft();\n        } else {\n            fold = $(settings.container).offset().left + $(settings.container).width();\n        }\n\n        return fold <= $(element).offset().left - settings.threshold;\n    };\n\n    $.abovethetop = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.scrollTop();\n        } else {\n            fold = $(settings.container).offset().top;\n        }\n\n        return fold >= $(element).offset().top + settings.threshold  + $(element).height();\n    };\n\n    $.leftofbegin = function(element, settings) {\n        var fold;\n\n        if (settings.container === undefined || settings.container === window) {\n            fold = $window.scrollLeft();\n        } else {\n            fold = $(settings.container).offset().left;\n        }\n\n        return fold >= $(element).offset().left + settings.threshold + $(element).width();\n    };\n\n    $.inviewport = function(element, settings) {\n         return !$.rightoffold(element, settings) && !$.leftofbegin(element, settings) &&\n                !$.belowthefold(element, settings) && !$.abovethetop(element, settings);\n     };\n\n    /* Custom selectors for your convenience.   */\n    /* Use as $(\"img:below-the-fold\").something() or */\n    /* $(\"img\").filter(\":below-the-fold\").something() which is faster */\n\n    $.extend($.expr[\":\"], {\n        \"below-the-fold\" : function(a) { return $.belowthefold(a, {threshold : 0}); },\n        \"above-the-top\"  : function(a) { return !$.belowthefold(a, {threshold : 0}); },\n        \"right-of-screen\": function(a) { return $.rightoffold(a, {threshold : 0}); },\n        \"left-of-screen\" : function(a) { return !$.rightoffold(a, {threshold : 0}); },\n        \"in-viewport\"    : function(a) { return $.inviewport(a, {threshold : 0}); },\n        /* Maintain BC for couple of versions. */\n        \"above-the-fold\" : function(a) { return !$.belowthefold(a, {threshold : 0}); },\n        \"right-of-fold\"  : function(a) { return $.rightoffold(a, {threshold : 0}); },\n        \"left-of-fold\"   : function(a) { return !$.rightoffold(a, {threshold : 0}); }\n    });\n\n})(jQuery, window, document);\n"]}