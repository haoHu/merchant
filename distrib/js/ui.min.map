{"version":3,"file":"ui.min.js","sources":["ui.js"],"names":["$","window","IX","ns","PopoverMsgTip","cfg","$tar","$XP","msg","type","placement","trigger","container","afterShow","$XF","afterHide","popover","html","popoverEl","addClass","content","on","TopTip","tpl","Handlebars","compile","Hualala","TplLib","get","tipEl","id","appendTo","bind","close.bs.alert","e","closed.bs.alert","alert","setTimeout","ModalDialog","config","inherit","ifDrag","dragHandler","containment","overFlow","zIndex","showTitle","showFooter","hideCloseBtn","title","hideWithRemove","clz","afterRemove","emptyFn","aftetShow","onBeforeDrag","onDragging","onAfterDrag","$self","$con","$dialogHead","$dialogBody","$dialogFoot","$closeBtn","dialogId","dialogTpl","dialogCfg","initStyle","_zIndex","isNaN","css","z-index","hide","bindEvent","remove","$handler","length","self","draggable","cursor","handle","dialogHead","start","drag","stop","init","find","_model","_","dialog","header","body","footer","_hide","modal","_show","show","setTitle","uploadImg","options","$dialog","backdrop","keyboard","defaults","onSuccess","onTooLarge","onConcel","onStart","opts","extend","topTip","UI","Head_Pic_Rece_URL","imgPath","imageTooLarge","Head_Pic_Cancel","uploadStart","jQuery","fn","IXPager","this","settings","total","page","maxVisible","leaps","href","hrefVar","next","prev","data","isNumeric","genHref","n","replace","renderPager","$IXPager","pg","maxV","step","vis","Math","floor","$pages","removeClass","first","toggleClass","attr","last","$curPage","filter","not","d","each","index","toogle","$this","htm","push","c","min","append","join","delegate","parseInt","hasClass","__slice","slice","BootstrapSwitch","element","$element","bootstrapSwitch","state","is","size","animate","disabled","readonly","indeterminate","onColor","offColor","onText","offText","labelText","baseClass","wrapperClass","radioAllOff","$wrapper","class","_this","classes","concat","_getClasses","$container","$on","$off","$label","prop","onInit","apply","arguments","onSwitchChange","wrap","parent","before","_elementHandlers","_handleHandlers","_labelHandlers","_formHandler","prototype","_constructor","value","skip","toggleState","toggleDisabled","toggleReadonly","toggleIndeterminate","color","destroy","$form","closest","off","removeData","children","unwrap","change.bootstrapSwitch","checked","preventDefault","stopImmediatePropagation","focus.bootstrapSwitch","blur.bootstrapSwitch","keydown.bootstrapSwitch","which","mousemove.bootstrapSwitch touchmove.bootstrapSwitch","left","pageX","percent","right","isLabelDragging","isLabelDragged","originalEvent","touches","offset","width","mousedown.bootstrapSwitch touchstart.bootstrapSwitch","mouseup.bootstrapSwitch touchend.bootstrapSwitch","mouseleave.bootstrapSwitch","cls","_i","_len","isArray","args","option","ret","call","Constructor","bootstrapWizardCreate","obj","baseItemSelector","$settings","bootstrapWizard","$activeTab","$navigation","$stepAction","rebindClick","selector","unbind","fixNavigationButtons","tab","previousSelector","unusableClass","firstIndex","currentIndex","nextSelector","navigationLength","lastAction","previous","lastSelector","firstSelector","onNext","activePane","nextIndex","$index","onPrevious","previousIndex","onFirst","onLast","lastIndex","getIndex","activeTab","nextTab","previousTab","disable","enable","display","$removeTabPane","$item","$href","innerTabClick","clickedIndex","currentTarget","onTabClick","innerTabShown","target","$panes","curIdx","$currentPane","eq","$nextPane","onTabChange","resetWizard","actionSelector","tabClass","$firstPane","onShow","Array","toString","wizard","AbstractChosen","Chosen","SelectParser","_ref","__hasProp","hasOwnProperty","__extends","child","ctor","constructor","key","__super__","options_index","parsed","add_node","nodeName","toUpperCase","add_group","add_option","group","group_position","_results","array_index","label","escapeExpression","childNodes","group_disabled","text","innerHTML","selected","group_array_index","className","style","cssText","empty","map","unsafe_chars","test","<",">","\"","'","`","chr","select_to_array","select","parser","form_field","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","click_test_action","evt","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","group_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","display_selected_options","display_disabled_options","default_text","getAttribute","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","no_results_text","default_no_result_text","mouse_enter","mouse_leave","input_focus","container_mousedown","input_blur","blur_test","results_option_build","results_data","result_add_group","result_add_option","choice_build","single_set_selected_text","option_el","search_match","include_option_in_results","document","createElement","setAttribute","search_text","outerHTML","group_el","group_match","active_options","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","winnow_results","reset_single_select_options","result","results_toggle","results_hide","results_show","results_search","escapedSearchText","regex","regexAnchor","results","results_group","searchText","startpos","zregex","no_results_clear","get_search_text","RegExp","search_string_match","search","substr","update_results_content","no_results","winnow_results_set_highlight","search_string","part","parts","indexOf","split","choices_count","selected_option_count","choices_click","is_disabled","keyup_checker","stroke","keyCode","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","clipboard_event_checker","container_width","offsetWidth","search_results_touchstart","touch_started","search_results_mouseover","search_results_touchmove","search_results_mouseout","search_results_touchend","search_results_mouseup","tmp","appendChild","navigator","appName","documentMode","userAgent","chosen","_super","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","container_classes","container_props","after","dropdown","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","container_mouseup","search_results_mousewheel","keydown_checker","ownerDocument","tabIndex","search_field_disabled","close_field","parents","val","results_reset","delta","wheelDelta","detail","scrollTop","clear_backstroke","show_search_field_default","focus","active_container","parsing","readOnly","result_do_highlight","el","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","position","top","outerHeight","ti","form_field_label","item","choice","close_link","data-option-array-index","choice_destroy_link_click","stopPropagation","choice_destroy","link","result_deselect","high","metaKey","ctrlKey","single_deselect_control_build","pos","result_data","deselected","trim","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","siblings","_ref1","div","f_width","h","style_block","styles","w","outerWidth"],"mappings":"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","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n(function ($, window) {\r\n\tIX.ns(\"Hualala.UI\");\r\n\r\n\t/**\r\n\t * show popover tip for target element\r\n\t * @param  {[Object]} cfg [description]\r\n\t *         trigger : 'click|hover|focus|manual'\r\n\t *         targetEl : popover tip apply on this $tar\r\n\t *         msg : tip content\r\n\t *         type : tip message type\r\n\t *         placement : string|function \r\n\t *         container : selector\r\n\t *         afterShow : function \r\n\t *         afterHide : function \r\n\t * @return {[null]}     [description]\r\n\t */\r\n\tvar PopoverMsgTip = function (cfg) {\r\n\t\tvar $tar = $XP(cfg, 'targetEl', null);\r\n\t\tif (!$tar) return ;\r\n\t\t$tar = $($tar);\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\ttype = $XP(cfg, 'type', 'warning'),\r\n\t\t\tplacement = $XP(cfg, 'placement', 'left'),\r\n\t\t\ttrigger = $XP(cfg, 'trigger', 'click'),\r\n\t\t\ttitle = $XP(cfg, 'title', ''),\r\n\t\t\tcontainer = $XP(cfg, 'container', false),\r\n\t\t\tafterShow = $XF(cfg, 'afterShow'),\r\n\t\t\tafterHide = $XF(cfg, 'afterHide');\r\n\t\t$tar.popover({\r\n\t\t\thtml : true,\r\n\t\t\tplacement : function (popoverEl, triggerEl) {\r\n\t\t\t\t// console.info(popoverEl);\r\n\t\t\t\t// console.info(triggerEl);\r\n\t\t\t\t// console.info(this);\r\n\t\t\t\t$(popoverEl).addClass(type);\r\n\t\t\t\treturn placement;\r\n\t\t\t},\r\n\t\t\ttrigger : trigger,\r\n\t\t\t// type : type,\r\n\t\t\tcontent : msg,\r\n\t\t\tcontainer : container\r\n\t\t});\r\n\t\t$tar.on('shown.bs.popover', function () {\r\n\t\t\tafterShow($tar, type);\r\n\t\t});\r\n\t\t$tar.on('hidden.bs.popover', function () {\r\n\t\t\tafterHide($tar, type);\r\n\t\t\t$tar.popover('destroy');\r\n\t\t});\r\n\t\t$tar.popover('show');\r\n\t};\r\n\r\n\t/**\r\n\t * show tip message for model window\r\n\t * \r\n\t * @param {[Object]} cfg [config params]\r\n\t *        msg : \"string\",\r\n\t *        type : \"danger|warning|success\",\r\n\t *        afterClosed : function () {},\r\n\t *        afterClose : function () {}\r\n\t * @return {[jQuery Obj] } [tip obj]\r\n\t */\r\n\tvar TopTip = function (cfg) {\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_toptip'));\r\n\t\tvar tipEl = $(tpl({\r\n\t\t\tid : IX.id(),\r\n\t\t\ttype : $XP(cfg, 'type', 'warning'),\r\n\t\t\tmsg : $XP(cfg, 'msg', '')\r\n\t\t}));\r\n\t\ttipEl.appendTo('body');\r\n\t\ttipEl.bind({\r\n\t\t\t'close.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClose')(e);\r\n\t\t\t},\r\n\t\t\t'closed.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClosed')(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\ttipEl.alert();\r\n\t\tsetTimeout(function () {\r\n\t\t\ttipEl.alert('close');\r\n\t\t}, $XP(cfg, 'interval', 1500));\r\n\t};\r\n\r\n\t/**\r\n\t * cfg :{\r\n\t * \t\tcontainer : DOM|jQuery Obj //default $('body') \r\n\t * \t\tid : '',\t//default IX.id()\r\n\t * \t\tzIndex : null,\t//default null\r\n\t * \t\tdragHandler : null,\t//拖动手柄 default null\r\n\t * \t\tcontainment : null,\t//拖动范围容器 default null\r\n\t * \t\toverFlow : false,\t//default false\r\n\t * \t\tmovable : false\t,\t//default false\r\n\t * \t\tshowTitle : true ,\t//default true\r\n\t * \t\tshowFooter : true,\t//default true\r\n\t * \t\thideCloseBtn : true,\t//default true 默认屏蔽窗口的关闭按钮\r\n\t * \t\ttitle : '',\t\t\t//title string\r\n\t * \t\thideWithRemove : true,\t//隐藏时是否删除\r\n\t * \t\tclz : '',\t\t\t//dialog className\r\n\t * \t\tafterRemove : function () {},\r\n\t * \t\tafterHide : function () {},\r\n\t * \t\tonBeforeDrag : function () {},\r\n\t * \t\tonDragging : function () {},\r\n\t * \t\tonAfterDrag : function () {}\r\n\t * }\r\n\t */\r\n\tvar ModalDialog = function (cfg) {\r\n\t\tvar config = IX.inherit({\r\n\t\t\tcontainer : null,\r\n\t\t\tid : null,\r\n\t\t\thtml : '',\r\n\t\t\tifDrag : false,\r\n\t\t\tdragHandler : null,\r\n\t\t\tcontainment : null,\r\n\t\t\toverFlow : false,\r\n\t\t\tzIndex : null,\r\n\t\t\tshowTitle : true,\r\n\t\t\tshowFooter : true,\r\n\t\t\thideCloseBtn : true,\r\n\t\t\ttitle : '',\r\n\t\t\thideWithRemove : true,\r\n\t\t\tclz : '',\r\n\t\t\tafterRemove : IX.emptyFn,\r\n\t\t\tafterHide : IX.emptyFn,\r\n\t\t\taftetShow : IX.emptyFn,\r\n\t\t\tonBeforeDrag : IX.emptyFn,\r\n\t\t\tonDragging : IX.emptyFn,\r\n\t\t\tonAfterDrag : IX.emptyFn\r\n\t\t}, cfg);\r\n\r\n\t\tvar $self = null, $con = null, $modal = null, isFirst = true;\r\n\t\tvar $dialogHead = null, $dialogBody = null, $dialogFoot = null, $closeBtn = null;\r\n\t\tvar dialogId = $XP(config, 'id', 'modal_dialog_' + IX.id());\r\n\t\tvar dialogTpl = Handlebars.compile(Hualala.TplLib.get('tpl_modal_dialog'));\r\n\t\tvar dialogCfg = {\r\n\t\t\tclz : $XP(config, 'clz', ''),\r\n\t\t\tid : dialogId,\r\n\t\t\ttitle : $XP(config, 'title', '')\r\n\t\t};\r\n\r\n\t\tvar initStyle = function () {\r\n\t\t\tvar _overflow = $XP(config, 'overFlow', false),\r\n\t\t\t\t_zIndex = $XP(config, 'zIndex', null);\r\n\t\t\t// $dialogBody.css({\r\n\t\t\t// \t\"overflow\" : !_overflow : 'hidden' : 'auto'\r\n\t\t\t// });\r\n\t\t\tif (_zIndex && !isNaN(_zIndex)) {\r\n\t\t\t\t$self.css({\r\n\t\t\t\t\t'z-index' : _zIndex\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showTitle', false)) {\r\n\t\t\t\t$dialogHead.hide();\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showFooter', false)) {\r\n\t\t\t\t$dialogFoot.hide();\r\n\t\t\t}\r\n\t\t\tif (!!$XP(config, 'hideCloseBtn', false)) {\r\n\t\t\t\t$closeBtn.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar bindEvent = function () {\r\n\t\t\t$self.on('hidden.bs.modal', function (e) {\r\n\t\t\t\t$XF(config, 'afterHide')(e);\r\n\t\t\t\tif ($XP(config, 'hideWithRemove', false)) {\r\n\t\t\t\t\t$self.remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!config.ifDrag || (!config.showTitle && !config.dragHandler)) return;\r\n\t\t\tvar $handler = $(dragHandler, $self);\r\n\t\t\tif ($handler.length == 0) return;\r\n\t\t\tif (!self.draggable) return;\r\n\t\t\t$self.draggable({\r\n\t\t\t\tcursor : 'move',\r\n\t\t\t\tcontainment : config.containment || 'document',\r\n\t\t\t\thandle : config.showTitle ? dialogHead : $handler,\r\n\t\t\t\tstart : config.onBeforeDrag,\r\n\t\t\t\tdrag : config.onDragging,\r\n\t\t\t\tstop : config.onAfterDrag\r\n\t\t\t});\t\r\n\t\t};\r\n\r\n\t\tvar init = function () {\r\n\t\t\t$con = $XP(cfg, 'container', null);\r\n\t\t\t$con = !$con ? $('body') : $($con);\r\n\t\t\t$self = $(dialogTpl(dialogCfg));\r\n\t\t\t$self.appendTo($con);\r\n\t\t\t$dialogHead = $self.find('.modal-header');\r\n\t\t\t$closeBtn = $dialogHead.find('.close');\r\n\t\t\t$dialogBody = $self.find('.modal-body');\r\n\t\t\t$dialogFoot = $self.find('.modal-footer');\r\n\t\t\t_model._ = {\r\n\t\t\t\tcontainer : $con,\r\n\t\t\t\tdialog : $self,\r\n\t\t\t\theader : $dialogHead,\r\n\t\t\t\tbody : $dialogBody,\r\n\t\t\t\tfooter : $dialogFoot\r\n\t\t\t};\r\n\t\t\tinitStyle();\r\n\t\t\tbindEvent();\r\n\t\t};\r\n\r\n\t\tvar _hide = function () {\r\n\t\t\t_model._.dialog.modal('hide');\r\n\t\t};\r\n\r\n\t\tvar _show = function () {\r\n\t\t\t_model._.dialog.modal('show');\r\n\t\t};\r\n\r\n\t\tvar _model = {\r\n\t\t\t_ : {},\r\n\t\t\tshow : _show,\r\n\t\t\thide : _hide,\r\n\t\t\tsetTitle : function (title) {\r\n\t\t\t\t$dialogHead.find('.modal-title').html(title);\r\n\t\t\t}\r\n\t\t};\r\n\t\tinit();\r\n\t\treturn _model;\r\n\t};\r\n    /*\r\n    options = {\r\n        onSuccess: function () {},\r\n        onTooLarge: function () {},\r\n        onConcel: function () {},\r\n        onStart: function () {}\r\n    }*/\r\n    var uploadImg = function uploadImg(options)\r\n    {\r\n        var tpl = Hualala.TplLib.get('tpl_site_uploadimg');\r\n        var $dialog = $(tpl).appendTo('body')\r\n            .modal({backdrop : 'static', keyboard: false});\r\n        \r\n        var defaults = {\r\n            onSuccess: function () {},\r\n            onTooLarge: function () {},\r\n            onConcel: function () { $dialog.modal('hide'); },\r\n            onStart: function () {}\r\n        };\r\n        var opts = $.extend(defaults, options);\r\n        \r\n        var topTip = Hualala.UI.TopTip;\r\n        window.Head_Pic_Rece_URL = function (imgPath, swfId) \r\n        {\r\n            if (\"IOError\" === imgPath)\r\n            {\r\n                topTip({msg: '图片上传失败，请稍候再试'});\r\n                return;\r\n            }\r\n            \r\n            topTip({type: 'success', msg: '图片上传成功！'});\r\n            opts.onSuccess(imgPath, $dialog);\r\n        };\r\n        window.imageTooLarge = function (swfId) \r\n        {\r\n            topTip({msg: '您上传的图片过大，请换一张'});\r\n            opts.onTooLarge();\r\n        };\r\n        window.Head_Pic_Cancel = function(swfId) { opts.onConcel($dialog); };\r\n        window.uploadStart = function(swfId) { opts.onStart(); };\r\n        \r\n    }\r\n\r\n\tHualala.UI.PopoverMsgTip = PopoverMsgTip;\r\n\tHualala.UI.TopTip = TopTip;\r\n\tHualala.UI.ModalDialog = ModalDialog;\r\n    Hualala.UI.uploadImg = uploadImg;\r\n})(jQuery, window);;(function ($, window) {\r\n\t/**\r\n\t * bootstrap样式的分页插件\r\n\t * @param {Object} options 配置参数\r\n\t *     @param {Int} total total pges count\r\n\t *     @param {Int} page start page number\r\n\t *     @param {Int} maxVisible 最大可视页码数量(每次显示多少个页码按钮)\r\n\t *     @param {Boolean} leaps 是否支持跳页\r\n\t *     @param {String Template} href 链接模板\r\n\t *     @param {String} hrefVar href模板替换的标志\r\n\t *     @param {Html} next Next Btn 填充\r\n\t *     @param {Html} prev Prev Btn 填充\r\n\t *     \r\n\t */\r\n\t$.fn.IXPager = function (options) {\r\n\t\tvar $self = this,\r\n\t\t\tsettings = $.extend({\r\n\t\t\t\ttotal : 0,\r\n\t\t\t\tpage : 1,\r\n\t\t\t\tmaxVisible : null,\r\n\t\t\t\tleaps : true,\r\n\t\t\t\thref : '#page_{{number}}',\r\n\t\t\t\threfVar : '{{number}}',\r\n\t\t\t\tnext : '&raquo;',\r\n\t\t\t\tprev : '&laquo;'\r\n\t\t\t}, \r\n\t\t\t$self.data('settings') || {}, \r\n\t\t\toptions || {});\r\n\r\n\t\tif (settings.total <= 0 ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t// 所有页码全部显示\r\n\t\tif (!$.isNumeric(settings.maxVisible) && !settings.maxVisible) {\r\n\t\t\tsettings.maxVisible = settings.total;\r\n\t\t}\r\n\t\t// 保存当前设置\r\n\t\t$self.data('settings', settings);\r\n\r\n\t\tvar genHref = function (n) {\r\n\t\t\treturn settings.href.replace(settings.hrefVar, n);\r\n\t\t};\r\n\r\n\t\tvar renderPager = function ($IXPager, page) {\r\n\t\t\tvar pg, maxV = settings.maxVisible == 0 ? 1 : settings.maxVisible,\r\n\t\t\t\tstep = settings.maxVisible == 1 ? 0 : 1,\r\n\t\t\t\tvis = Math.floor((page - 1) / maxV) * maxV,\r\n\t\t\t\t$pages = $IXPager.find('li');\r\n\t\t\tsettings.page = page = page < 0 ? 0 : page > settings.total ? settings.total : page;\r\n\t\t\t$pages.removeClass('disabled');\r\n\t\t\tpg = page - 1 < 1 ? 1 \r\n\t\t\t\t: (settings.leaps && page - 1 >= settings.maxVisible) \r\n\t\t\t\t? (Math.floor((page - 1) / maxV) * maxV) : (page - 1);\r\n\t\t\t$pages.first().toggleClass('disabled', page === 1)\r\n\t\t\t\t.attr('data-pg', pg).find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tpg = (page + 1) > settings.total ? settings.total : \r\n\t\t\t\t(settings.leaps && page + 1 < settings.total - settings.maxVisible) ?\r\n\t\t\t\t(vis + settings.maxVisible + step) : (page + 1);\r\n\t\t\t$pages.last().toggleClass('disabled', page === settings.total).attr('data-pg', pg)\r\n\t\t\t\t.find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tvar $curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\tif (!$curPage.not('.next, .prev').length) {\r\n\t\t\t\tvar d = page <= vis ? -settings.maxVisible : 0;\r\n\t\t\t\t$pages.not('.next, .prev').each(function (index) {\r\n\t\t\t\t\tpg = index + 1 + vis + d;\r\n\t\t\t\t\t$(this).attr('data-pg', pg).toogle(pg <= settings.total)\r\n\t\t\t\t\t\t.find('a').html(pg).attr('href', genHref(pg));\r\n\t\t\t\t});\r\n\t\t\t\t$curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\t}\r\n\t\t\t$curPage.addClass('disabled');\r\n\t\t\t$self.data('settings', settings);\r\n\t\t};\r\n\r\n\t\treturn this.each(function () {\r\n\t\t\tvar $IXPager, pg, $this = $(this),\r\n\t\t\t\thtm = ['<ul class=\"pagination ix-pager\">'];\r\n\t\t\tif (settings.prev) {\r\n\t\t\t\thtm.push('<li data-pg=\"1\" class=\"ix-pager-prev\"><a href=\"' + genHref(1) + '\">' + settings.prev + '</a></li>');\r\n\t\t\t}\r\n\t\t\tfor (var c = 1; c <= Math.min(settings.total, settings.maxVisible); c++) {\r\n\t\t\t\thtm.push('<li data-pg=\"' + c + '\"><a href=\"' + genHref(c) + '\">' + c + '</a></li>');\r\n\t\t\t}\r\n\t\t\tif (settings.next) {\r\n\t\t\t\tpg = settings.leaps && settings.total > settings.maxVisible \r\n\t\t\t\t\t? Math.min(settings.maxVisible + 1, settings.total) : 2;\r\n\t\t\t\thtm.push('<li data-pg=\"' + pg + '\" class=\"ix-pager-next\"><a href=\"' + genHref(pg) + '\">' + settings.next + '</a></li>');\r\n\t\t\t}\r\n\t\t\thtm.push('</ul>');\r\n\t\t\t$this.find('ul.ix-pager').remove();\r\n\t\t\t$this.append(htm.join(''));\r\n\t\t\t$IXPager = $this.find('ul.ix-pager');\r\n\t\t\t$IXPager.delegate('li', 'click', function paginationClickFn() {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tpage = parseInt($this.attr('data-pg'), 10);\r\n\t\t\t\tif ($this.hasClass('disabled')) {\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\trenderPager($IXPager, page);\r\n\t\t\t\t$self.trigger('page', page)\r\n\t\t\t});\r\n\t\t\trenderPager($IXPager, settings.page);\r\n\t\t});\r\n\t};\r\n})(jQuery, window);\r\n;/* ========================================================================\r\n * bootstrap-switch - v3.0.2\r\n * http://www.bootstrap-switch.org\r\n * ========================================================================\r\n * Copyright 2012-2013 Mattia Larentis\r\n *\r\n * ========================================================================\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *\t\t http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================================\r\n */\r\n\r\n(function() {\r\n\tvar __slice = [].slice;\r\n\r\n\t(function($, window) {\r\n\t\t\"use strict\";\r\n\t\tvar BootstrapSwitch;\r\n\t\tBootstrapSwitch = (function() {\r\n\t\t\tfunction BootstrapSwitch(element, options) {\r\n\t\t\t\tif (options == null) {\r\n\t\t\t\t\toptions = {};\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element = $(element);\r\n\t\t\t\tthis.options = $.extend({}, $.fn.bootstrapSwitch.defaults, {\r\n\t\t\t\t\tstate: this.$element.is(\":checked\"),\r\n\t\t\t\t\tsize: this.$element.data(\"size\"),\r\n\t\t\t\t\tanimate: this.$element.data(\"animate\"),\r\n\t\t\t\t\tdisabled: this.$element.is(\":disabled\"),\r\n\t\t\t\t\treadonly: this.$element.is(\"[readonly]\"),\r\n\t\t\t\t\tindeterminate: this.$element.data(\"indeterminate\"),\r\n\t\t\t\t\tonColor: this.$element.data(\"on-color\"),\r\n\t\t\t\t\toffColor: this.$element.data(\"off-color\"),\r\n\t\t\t\t\tonText: this.$element.data(\"on-text\"),\r\n\t\t\t\t\toffText: this.$element.data(\"off-text\"),\r\n\t\t\t\t\tlabelText: this.$element.data(\"label-text\"),\r\n\t\t\t\t\tbaseClass: this.$element.data(\"base-class\"),\r\n\t\t\t\t\twrapperClass: this.$element.data(\"wrapper-class\"),\r\n\t\t\t\t\tradioAllOff: this.$element.data(\"radio-all-off\")\r\n\t\t\t\t}, options);\r\n\t\t\t\tthis.$wrapper = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": (function(_this) {\r\n\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\tvar classes;\r\n\t\t\t\t\t\t\tclasses = [\"\" + _this.options.baseClass].concat(_this._getClasses(_this.options.wrapperClass));\r\n\t\t\t\t\t\t\tclasses.push(_this.options.state ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (_this.options.size != null) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-\" + _this.options.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.disabled) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-disabled\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.readonly) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-readonly\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.$element.attr(\"id\")) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-id-\" + (_this.$element.attr(\"id\")));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn classes.join(\" \");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)()\r\n\t\t\t\t});\r\n\t\t\t\tthis.$container = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-container\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.$on = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.onText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-on \" + this.options.baseClass + \"-\" + this.options.onColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$off = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.offText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-off \" + this.options.baseClass + \"-\" + this.options.offColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$label = $(\"<label>\", {\r\n\t\t\t\t\thtml: this.options.labelText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-label\"\r\n\t\t\t\t});\r\n\t\t\t\tif (this.options.indeterminate) {\r\n\t\t\t\t\tthis.$element.prop(\"indeterminate\", true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element.on(\"init.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onInit.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$element.on(\"switchChange.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onSwitchChange.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$container = this.$element.wrap(this.$container).parent();\r\n\t\t\t\tthis.$wrapper = this.$container.wrap(this.$wrapper).parent();\r\n\t\t\t\tthis.$element.before(this.$on).before(this.$label).before(this.$off).trigger(\"init.bootstrapSwitch\");\r\n\t\t\t\tthis._elementHandlers();\r\n\t\t\t\tthis._handleHandlers();\r\n\t\t\t\tthis._labelHandlers();\r\n\t\t\t\tthis._formHandler();\r\n\t\t\t}\r\n\r\n\t\t\tBootstrapSwitch.prototype._constructor = BootstrapSwitch;\r\n\r\n\t\t\tBootstrapSwitch.prototype.state = function(value, skip) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.state;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.state && !this.options.radioAllOff && this.$element.is(':radio')) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$element.prop(\"checked\", value).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleState = function(skip) {\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$element.prop(\"checked\", !this.options.state).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.size = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.size;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.size != null) {\r\n\t\t\t\t\tthis.$wrapper.removeClass(\"\" + this.options.baseClass + \"-\" + this.options.size);\r\n\t\t\t\t}\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$wrapper.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.size = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.animate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.animate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-animate\");\r\n\t\t\t\tthis.options.animate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.disabled = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.disabled;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.$element.prop(\"disabled\", value);\r\n\t\t\t\tthis.options.disabled = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleDisabled = function() {\r\n\t\t\t\tthis.$element.prop(\"disabled\", !this.options.disabled);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.options.disabled = !this.options.disabled;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.readonly = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.readonly;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.$element.prop(\"readonly\", value);\r\n\t\t\t\tthis.options.readonly = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleReadonly = function() {\r\n\t\t\t\tthis.$element.prop(\"readonly\", !this.options.readonly);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.options.readonly = !this.options.readonly;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.indeterminate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.indeterminate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", value);\r\n\t\t\t\tthis.options.indeterminate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleIndeterminate = function() {\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", !this.options.indeterminate);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.options.indeterminate = !this.options.indeterminate;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.onColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$on.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.onColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.offColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$off.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.offColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.html(value);\r\n\t\t\t\tthis.options.onText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.offText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.html(value);\r\n\t\t\t\tthis.options.offText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.labelText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.labelText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$label.html(value);\r\n\t\t\t\tthis.options.labelText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.baseClass = function(value) {\r\n\t\t\t\treturn this.options.baseClass;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.wrapperClass = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(\" \"));\r\n\t\t\t\tthis.$wrapper.addClass(this._getClasses(value).join(\" \"));\r\n\t\t\t\tthis.options.wrapperClass = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.radioAllOff = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.radioAllOff;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.radioAllOff = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onInit = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onInit = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onSwitchChange = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onSwitchChange = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.destroy = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.length) {\r\n\t\t\t\t\t$form.off(\"reset.bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.$container.children().not(this.$element).remove();\r\n\t\t\t\tthis.$element.unwrap().unwrap().off(\".bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._elementHandlers = function() {\r\n\t\t\t\treturn this.$element.on({\r\n\t\t\t\t\t\"change.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e, skip) {\r\n\t\t\t\t\t\t\tvar checked;\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\tchecked = _this.$element.is(\":checked\");\r\n\t\t\t\t\t\t\tif (checked === _this.options.state) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.options.state = checked;\r\n\t\t\t\t\t\t\t_this.$wrapper.removeClass(checked ? \"\" + _this.options.baseClass + \"-off\" : \"\" + _this.options.baseClass + \"-on\").addClass(checked ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (!skip) {\r\n\t\t\t\t\t\t\t\tif (_this.$element.is(\":radio\")) {\r\n\t\t\t\t\t\t\t\t\t$(\"[name='\" + (_this.$element.attr('name')) + \"']\").not(_this.$element).prop(\"checked\", false).trigger(\"change.bootstrapSwitch\", true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn _this.$element.trigger(\"switchChange.bootstrapSwitch\", [checked]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"focus.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"blur.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"keydown.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!e.which || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tswitch (e.which) {\r\n\t\t\t\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(false);\r\n\t\t\t\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._handleHandlers = function() {\r\n\t\t\t\tthis.$on.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(false);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\treturn this.$off.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(true);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._labelHandlers = function() {\r\n\t\t\t\treturn this.$label.on({\r\n\t\t\t\t\t\"mousemove.bootstrapSwitch touchmove.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tvar left, pageX, percent, right;\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragged = true;\r\n\t\t\t\t\t\t\tpageX = e.pageX || e.originalEvent.touches[0].pageX;\r\n\t\t\t\t\t\t\tpercent = ((pageX - _this.$wrapper.offset().left) / _this.$wrapper.width()) * 100;\r\n\t\t\t\t\t\t\tleft = 25;\r\n\t\t\t\t\t\t\tright = 75;\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t_this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (percent < left) {\r\n\t\t\t\t\t\t\t\tpercent = left;\r\n\t\t\t\t\t\t\t} else if (percent > right) {\r\n\t\t\t\t\t\t\t\tpercent = right;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\" + (percent - right) + \"%\");\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mousedown.bootstrapSwitch touchstart.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (_this.isLabelDragging || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragging = true;\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseup.bootstrapSwitch touchend.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tif (_this.isLabelDragged) {\r\n\t\t\t\t\t\t\t\t_this.isLabelDragged = false;\r\n\t\t\t\t\t\t\t\t_this.state(parseInt(_this.$container.css(\"margin-left\"), 10) > -(_this.$container.width() / 6));\r\n\t\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t\t_this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.state(!_this.options.state);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn _this.isLabelDragging = false;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseleave.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\treturn _this.$label.trigger(\"mouseup.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._formHandler = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.data(\"bootstrap-switch\")) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn $form.on(\"reset.bootstrapSwitch\", function() {\r\n\t\t\t\t\treturn window.setTimeout(function() {\r\n\t\t\t\t\t\treturn $form.find(\"input\").filter(function() {\r\n\t\t\t\t\t\t\treturn $(this).data(\"bootstrap-switch\");\r\n\t\t\t\t\t\t}).each(function() {\r\n\t\t\t\t\t\t\treturn $(this).bootstrapSwitch(\"state\", this.checked);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}).data(\"bootstrap-switch\", true);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._getClasses = function(classes) {\r\n\t\t\t\tvar c, cls, _i, _len;\r\n\t\t\t\tif (!$.isArray(classes)) {\r\n\t\t\t\t\treturn [\"\" + this.options.baseClass + \"-\" + classes];\r\n\t\t\t\t}\r\n\t\t\t\tcls = [];\r\n\t\t\t\tfor (_i = 0, _len = classes.length; _i < _len; _i++) {\r\n\t\t\t\t\tc = classes[_i];\r\n\t\t\t\t\tcls.push(\"\" + this.options.baseClass + \"-\" + c);\r\n\t\t\t\t}\r\n\t\t\t\treturn cls;\r\n\t\t\t};\r\n\r\n\t\t\treturn BootstrapSwitch;\r\n\r\n\t\t})();\r\n\t\t$.fn.bootstrapSwitch = function() {\r\n\t\t\tvar args, option, ret;\r\n\t\t\toption = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n\t\t\tret = this;\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar $this, data;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tdata = $this.data(\"bootstrap-switch\");\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\t$this.data(\"bootstrap-switch\", data = new BootstrapSwitch(this, option));\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof option === \"string\") {\r\n\t\t\t\t\treturn ret = data[option].apply(data, args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\t$.fn.bootstrapSwitch.Constructor = BootstrapSwitch;\r\n\t\treturn $.fn.bootstrapSwitch.defaults = {\r\n\t\t\tstate: true,\r\n\t\t\tsize: null,\r\n\t\t\tanimate: true,\r\n\t\t\tdisabled: false,\r\n\t\t\treadonly: false,\r\n\t\t\tindeterminate: false,\r\n\t\t\tonColor: \"primary\",\r\n\t\t\toffColor: \"default\",\r\n\t\t\tonText: \"ON\",\r\n\t\t\toffText: \"OFF\",\r\n\t\t\tlabelText: \"&nbsp;\",\r\n\t\t\tbaseClass: \"bootstrap-switch\",\r\n\t\t\twrapperClass: \"wrapper\",\r\n\t\t\tradioAllOff: false,\r\n\t\t\tonInit: function() {},\r\n\t\t\tonSwitchChange: function() {}\r\n\t\t};\r\n\t})(window.jQuery, window);\r\n\r\n}).call(this);\r\n;/*!\n * @NOTE ���򵼿ؼ�����ԭ�����ϵ��޸İ汾\n * ����Ҫ������bootstrap��tab����ǩҳ/ѡ�������\n * HTML��������ѭbootstrap��tab���������ṹ\n * jQuery twitter bootstrap wizard plugin\n * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard\n * version 1.0\n * Requires jQuery v1.3.2 or later\n * Supports Bootstrap 2.2.x, 2.3.x, 3.0\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)\n */\n;(function($) {\nvar bootstrapWizardCreate = function(element, options) {\n\tvar element = $(element);\n\tvar obj = this;\n\t\n\t// selector skips any 'li' elements that do not contain a child with a tab data-toggle\n\tvar baseItemSelector = 'li:has([data-toggle=\"tab\"])';\n\n\t// Merge options with defaults\n\tvar $settings = $.extend({}, $.fn.bootstrapWizard.defaults, options),\n\t    $activeTab = null,\n        $navigation = null,\n        $stepAction = null;\n\t\n\tthis.rebindClick = function(selector, fn)\n\t{\n\t\tselector.unbind('click', fn).bind('click', fn);\n\t}\n\n\tthis.fixNavigationButtons = function() {\n\t\t// Get the current active tab\n\t\tif(!$activeTab.length) {\n\t\t\t// Select first one\n\t\t\t$navigation.find('a:first').tab('show');\n\t\t\t$activeTab = $navigation.find(baseItemSelector + ':first');\n\t\t}\n\n\t\t// See if we're currently in the first/last then disable the previous and last buttons\n\t\t$($settings.previousSelector, element).toggleClass($settings.unusableClass, (obj.firstIndex() >= obj.currentIndex()));\n\t\t$($settings.nextSelector, element).toggleClass($settings.unusableClass, (obj.currentIndex() >= obj.navigationLength()));\n        \n        if(obj.currentIndex() >= obj.navigationLength())\n        {\n            var lastAction = $settings.lastAction;\n            if(lastAction == 'remove' || !lastAction)\n                $stepAction.remove();\n            else if(lastAction == 'hide')\n                $stepAction.addClass('hidden');\n        }\n\n\t\t// We are unbinding and rebinding to ensure single firing and no double-click errors\n\t\tobj.rebindClick($($settings.nextSelector, element), obj.next);\n\t\tobj.rebindClick($($settings.previousSelector, element), obj.previous);\n\t\tobj.rebindClick($($settings.lastSelector, element), obj.last);\n\t\tobj.rebindClick($($settings.firstSelector, element), obj.first);\n        \n        //@NOTE: �����¼��� BUG, ע�͵������� onTabChange �¼�\n\t\t/*if($settings.onTabShow && typeof $settings.onTabShow === 'function' && $settings.onTabShow(obj.activePane(), $activeTab, $navigation, obj.currentIndex())===false){\n\t\t\treturn false;\n\t\t}*/\n\t};\n\n\tthis.next = function(e) {\n\n\t\t// If we clicked the last then dont activate this\n\t\tif(element.hasClass('last')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif($settings.onNext && typeof $settings.onNext === 'function' && $settings.onNext(obj.activePane(), $activeTab, $navigation, obj.nextIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// Did we click the last button\n\t\t$index = obj.nextIndex();\n\t\tif($index > obj.navigationLength()) {\n\t\t} else {\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\n\t\t}\n        return this;\n\t};\n\n\tthis.previous = function(e) {\n\n\t\t// If we clicked the first then dont activate this\n\t\tif(element.hasClass('first')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif($settings.onPrevious && typeof $settings.onPrevious === 'function' && $settings.onPrevious(obj.activePane(), $activeTab, $navigation, obj.previousIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t$index = obj.previousIndex();\n\t\tif($index < 0) {\n\t\t} else {\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\n\t\t}\n        return this;\n\t};\n\n\tthis.first = function(e) {\n\t\tif($settings.onFirst && typeof $settings.onFirst === 'function' && $settings.onFirst(obj.activePane(), $activeTab, $navigation, obj.firstIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the element is disabled then we won't do anything\n\t\tif(element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n\t\t$navigation.find(baseItemSelector + ':eq(0) a').tab('show');\n        return this;\n\t};\n\tthis.last = function(e) {\n\t\tif($settings.onLast && typeof $settings.onLast === 'function' && $settings.onLast(obj.activePane(), $activeTab, $navigation, obj.lastIndex())===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the element is disabled then we won't do anything\n\t\tif(element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n\t\t$navigation.find(baseItemSelector + ':eq('+obj.navigationLength()+') a').tab('show');\n        return this;\n\t};\n\tthis.currentIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab);\n\t};\n\tthis.firstIndex = function() {\n\t\treturn 0;\n\t};\n\tthis.lastIndex = function() {\n\t\treturn obj.navigationLength();\n\t};\n\tthis.getIndex = function(e) {\n\t\treturn $navigation.find(baseItemSelector).index(e);\n\t};\n\tthis.nextIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) + 1;\n\t};\n\tthis.previousIndex = function() {\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) - 1;\n\t};\n\tthis.navigationLength = function() {\n\t\treturn $navigation.find(baseItemSelector).length - 1;\n\t};\n\tthis.activeTab = function() {\n\t\treturn $activeTab;\n\t};\n    this.activePane = function ()\n    {\n        return element.find('.tab-pane.active');\n    };\n\tthis.nextTab = function() {\n\t\treturn $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')').length ? $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')') : null;\n\t};\n\tthis.previousTab = function() {\n\t\tif(obj.currentIndex() <= 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn $navigation.find(baseItemSelector + ':eq('+parseInt(obj.currentIndex()-1)+')');\n\t};\n\tthis.show = function(index) {\n\t\tif (isNaN(index)) {\n\t\t\treturn element.find(baseItemSelector + ' a[href=#' + index + ']').tab('show');\n\t\t}\n\t\telse {\n\t\t\treturn element.find(baseItemSelector + ':eq(' + index + ') a').tab('show');\n\t\t}\n\t};\n\tthis.disable = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').addClass('disabled');\n\t};\n\tthis.enable = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').removeClass('disabled');\n\t};\n\tthis.hide = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').hide();\n\t};\n\tthis.display = function(index) {\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').show();\n\t};\n\tthis.remove = function(args) {\n\t\tvar $index = args[0];\n\t\tvar $removeTabPane = typeof args[1] != 'undefined' ? args[1] : false;\n\t\tvar $item = $navigation.find(baseItemSelector + ':eq('+$index+')');\n\n\t\t// Remove the tab pane first if needed\n\t\tif($removeTabPane) {\n\t\t\tvar $href = $item.find('a').attr('href');\n\t\t\t$($href).remove();\n\t\t}\n\n\t\t// Remove menu item\n\t\t$item.remove();\n\t};\n\t\n\tvar innerTabClick = function (e) {\n\t\t// Get the index of the clicked tab\n\t\tvar clickedIndex = $navigation.find(baseItemSelector).index($(e.currentTarget).parent(baseItemSelector));\n\t\tif($settings.onTabClick && typeof $settings.onTabClick === 'function' && $settings.onTabClick(obj.activePane(), $activeTab, $navigation, obj.currentIndex(), clickedIndex)===false){\n\t\t\treturn false;\n\t\t}\n\t};\n\t\n\tvar innerTabShown = function (e) {  \n        // use shown instead of show to help prevent double firing\n        // @NOTE: double firing ������ onTabShow�¼��ϣ��Ѿ�ע�͵�\n\t\t$element = $(e.target).parent();\n\t\tvar nextTab = $navigation.find(baseItemSelector).index($element);\n\n\t\t// If it's disabled then do not change\n\t\tif($element.hasClass('disabled')) {\n\t\t\treturn false;\n\t\t}\n        var $panes = element.find('.tab-pane'),\n            curIdx = obj.currentIndex(),\n            $currentPane = curIdx == -1 ? null : $panes.eq(curIdx),\n            $nextPane = $panes.eq(nextTab)\n\t\tif($settings.onTabChange && typeof $settings.onTabChange === 'function' && $settings.onTabChange($currentPane, $nextPane, curIdx, nextTab, $activeTab, $navigation)===false){\n\t\t\treturn false;\n\t\t}\n\n\t\t$activeTab = $element; // activated tab\n\t\tobj.fixNavigationButtons();\n\t};\n\t\n\tthis.resetWizard = function() {\n\t\t\n\t\t// remove the existing handlers\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('click', innerTabClick);\n        //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('show show.bs.tab', innerTabShown);\n\t\t\n\t\t// reset elements based on current state of the DOM\n\t\t$navigation = element.find('ul:first', element);\n\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n\t\t\n\t\t// re-add handlers\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n        //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\n\t\t\n\t\tobj.fixNavigationButtons();\n\t};\n\n\t$navigation = element.find('ul:first', element);\n\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\n    $stepAction = element.find($settings.actionSelector);\n\n\tif(!$navigation.hasClass($settings.tabClass)) {\n\t\t$navigation.addClass($settings.tabClass);\n\t}\n    var $firstPane = element.find('.tab-pane').eq(0);\n\t// Load onInit\n\tif($settings.onInit && typeof $settings.onInit === 'function'){\n\t\t$settings.onInit($firstPane, $activeTab, $navigation, 0);\n\t}\n\n\t// Load onShow\n\tif($settings.onShow && typeof $settings.onShow === 'function'){\n\t\t$settings.onShow($firstPane, $activeTab, $navigation, obj.nextIndex());\n\t}\n\n\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\n\n\t// attach to both shown and shown.bs.tab to support Bootstrap versions 2.3.2 and 3.0.0\n    //@NOTE: ���� shown �¼���Ϊ show �¼�\n\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\n};\n$.fn.bootstrapWizard = function(options) {\n\t//expose methods\n\tif (typeof options == 'string') {\n\t\tvar args = Array.prototype.slice.call(arguments, 1)\n\t\tif(args.length === 1) {\n\t\t\targs.toString();\n\t\t}\n\t\treturn this.data('bootstrapWizard')[options](args);\n\t}\n\treturn this.each(function(index){\n\t\tvar element = $(this);\n\t\t// Return early if this element already has a plugin instance\n\t\tif (element.data('bootstrapWizard')) return;\n\t\t// pass options to plugin constructor\n\t\tvar wizard = new bootstrapWizardCreate(element, options);\n\t\t// Store plugin object in this element's data\n\t\telement.data('bootstrapWizard', wizard);\n\t\t// and then trigger initial change\n\t\twizard.fixNavigationButtons();\n\t});\n};\n\n// expose options\n$.fn.bootstrapWizard.defaults = {\n\ttabClass:         'step-nav',\n    //��������һ����������һ�����Ȱ�ť����������\n    actionSelector:   '.step-action',\n\tnextSelector:     '.next-step',\n\tpreviousSelector: '.prev-step',\n\tfirstSelector:    '.first-step',\n\tlastSelector:     '.last-step',\n    //��������һ��ʱ����������һ����������һ�����Ȱ�ť��������Ϊ\n    // 'remove' || 'hide' || 'keep'\n    lastAction:       'remove', \n    //�����ð�ť������: 'hidden' || 'disabled' || ��������\n    unusableClass:    'hidden', \n\tonShow:           null,\n\tonInit:           null,\n\tonNext:           null,\n\tonPrevious:       null,\n\tonLast:           null,\n\tonFirst:          null,\n\tonTabChange:      null, \n    //onTabShow:      null, // @NOTE: ���¼��� BUG��ע�͵�\n\tonTabClick:       function () { return false; },\n};\n\n})(jQuery);\n;/*!\r\nChosen, a Select Box Enhancer for jQuery and Prototype\r\nby Patrick Filler for Harvest, http://getharvest.com\r\n\r\nVersion 1.1.0\r\nFull source at https://github.com/harvesthq/chosen\r\nCopyright (c) 2011 Harvest http://getharvest.com\r\n\r\nMIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md\r\nThis file is generated by `grunt build`, do not edit it by hand.\r\n*/\r\n\r\n(function() {\r\n\tvar $, AbstractChosen, Chosen, SelectParser, _ref,\r\n\t\t__hasProp = {}.hasOwnProperty,\r\n\t\t__extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\r\n\r\n\tSelectParser = (function() {\r\n\t\tfunction SelectParser() {\r\n\t\t\tthis.options_index = 0;\r\n\t\t\tthis.parsed = [];\r\n\t\t}\r\n\r\n\t\tSelectParser.prototype.add_node = function(child) {\r\n\t\t\tif (child.nodeName.toUpperCase() === \"OPTGROUP\") {\r\n\t\t\t\treturn this.add_group(child);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.add_option(child);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_group = function(group) {\r\n\t\t\tvar group_position, option, _i, _len, _ref, _results;\r\n\t\t\tgroup_position = this.parsed.length;\r\n\t\t\tthis.parsed.push({\r\n\t\t\t\tarray_index: group_position,\r\n\t\t\t\tgroup: true,\r\n\t\t\t\tlabel: this.escapeExpression(group.label),\r\n\t\t\t\tchildren: 0,\r\n\t\t\t\tdisabled: group.disabled\r\n\t\t\t});\r\n\t\t\t_ref = group.childNodes;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\t_results.push(this.add_option(option, group_position, group.disabled));\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_option = function(option, group_position, group_disabled) {\r\n\t\t\tif (option.nodeName.toUpperCase() === \"OPTION\") {\r\n\t\t\t\tif (option.text !== \"\") {\r\n\t\t\t\t\tif (group_position != null) {\r\n\t\t\t\t\t\tthis.parsed[group_position].children += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tvalue: option.value,\r\n\t\t\t\t\t\ttext: option.text,\r\n\t\t\t\t\t\thtml: option.innerHTML,\r\n\t\t\t\t\t\tselected: option.selected,\r\n\t\t\t\t\t\tdisabled: group_disabled === true ? group_disabled : option.disabled,\r\n\t\t\t\t\t\tgroup_array_index: group_position,\r\n\t\t\t\t\t\tclasses: option.className,\r\n\t\t\t\t\t\tstyle: option.style.cssText\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tempty: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.options_index += 1;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.escapeExpression = function(text) {\r\n\t\t\tvar map, unsafe_chars;\r\n\t\t\tif ((text == null) || text === false) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (!/[\\&\\<\\>\\\"\\'\\`]/.test(text)) {\r\n\t\t\t\treturn text;\r\n\t\t\t}\r\n\t\t\tmap = {\r\n\t\t\t\t\"<\": \"&lt;\",\r\n\t\t\t\t\">\": \"&gt;\",\r\n\t\t\t\t'\"': \"&quot;\",\r\n\t\t\t\t\"'\": \"&#x27;\",\r\n\t\t\t\t\"`\": \"&#x60;\"\r\n\t\t\t};\r\n\t\t\tunsafe_chars = /&(?!\\w+;)|[\\<\\>\\\"\\'\\`]/g;\r\n\t\t\treturn text.replace(unsafe_chars, function(chr) {\r\n\t\t\t\treturn map[chr] || \"&amp;\";\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn SelectParser;\r\n\r\n\t})();\r\n\r\n\tSelectParser.select_to_array = function(select) {\r\n\t\tvar child, parser, _i, _len, _ref;\r\n\t\tparser = new SelectParser();\r\n\t\t_ref = select.childNodes;\r\n\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\tchild = _ref[_i];\r\n\t\t\tparser.add_node(child);\r\n\t\t}\r\n\t\treturn parser.parsed;\r\n\t};\r\n\r\n\tAbstractChosen = (function() {\r\n\t\tfunction AbstractChosen(form_field, options) {\r\n\t\t\tthis.form_field = form_field;\r\n\t\t\tthis.options = options != null ? options : {};\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.is_multiple = this.form_field.multiple;\r\n\t\t\tthis.set_default_text();\r\n\t\t\tthis.set_default_values();\r\n\t\t\tthis.setup();\r\n\t\t\tthis.set_up_html();\r\n\t\t\tthis.register_observers();\r\n\t\t}\r\n\r\n\t\tAbstractChosen.prototype.set_default_values = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.click_test_action = function(evt) {\r\n\t\t\t\treturn _this.test_active_click(evt);\r\n\t\t\t};\r\n\t\t\tthis.activate_action = function(evt) {\r\n\t\t\t\treturn _this.activate_field(evt);\r\n\t\t\t};\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.mouse_on_container = false;\r\n\t\t\tthis.results_showing = false;\r\n\t\t\tthis.result_highlighted = null;\r\n\t\t\tthis.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\r\n\t\t\tthis.disable_search_threshold = this.options.disable_search_threshold || 0;\r\n\t\t\tthis.disable_search = this.options.disable_search || false;\r\n\t\t\tthis.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\r\n\t\t\tthis.group_search = this.options.group_search != null ? this.options.group_search : true;\r\n\t\t\tthis.search_contains = this.options.search_contains || false;\r\n\t\t\tthis.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\r\n\t\t\tthis.max_selected_options = this.options.max_selected_options || Infinity;\r\n\t\t\tthis.inherit_select_classes = this.options.inherit_select_classes || false;\r\n\t\t\tthis.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\r\n\t\t\treturn this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.set_default_text = function() {\r\n\t\t\tif (this.form_field.getAttribute(\"data-placeholder\")) {\r\n\t\t\t\tthis.default_text = this.form_field.getAttribute(\"data-placeholder\");\r\n\t\t\t} else if (this.is_multiple) {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\r\n\t\t\t} else {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\r\n\t\t\t}\r\n\t\t\treturn this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_enter = function() {\r\n\t\t\treturn this.mouse_on_container = true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_leave = function() {\r\n\t\t\treturn this.mouse_on_container = false;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_focus = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\t\treturn _this.container_mousedown();\r\n\t\t\t\t\t}), 50);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_blur = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.mouse_on_container) {\r\n\t\t\t\tthis.active_field = false;\r\n\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\treturn _this.blur_test();\r\n\t\t\t\t}), 100);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_option_build = function(options) {\r\n\t\t\tvar content, data, _i, _len, _ref;\r\n\t\t\tcontent = '';\r\n\t\t\t_ref = this.results_data;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tdata = _ref[_i];\r\n\t\t\t\tif (data.group) {\r\n\t\t\t\t\tcontent += this.result_add_group(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent += this.result_add_option(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (options != null ? options.first : void 0) {\r\n\t\t\t\t\tif (data.selected && this.is_multiple) {\r\n\t\t\t\t\t\tthis.choice_build(data);\r\n\t\t\t\t\t} else if (data.selected && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.single_set_selected_text(data.text);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn content;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_option = function(option) {\r\n\t\t\tvar classes, option_el;\r\n\t\t\tif (!option.search_match) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!this.include_option_in_results(option)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tclasses = [];\r\n\t\t\tif (!option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"active-result\");\r\n\t\t\t}\r\n\t\t\tif (option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"disabled-result\");\r\n\t\t\t}\r\n\t\t\tif (option.selected) {\r\n\t\t\t\tclasses.push(\"result-selected\");\r\n\t\t\t}\r\n\t\t\tif (option.group_array_index != null) {\r\n\t\t\t\tclasses.push(\"group-option\");\r\n\t\t\t}\r\n\t\t\tif (option.classes !== \"\") {\r\n\t\t\t\tclasses.push(option.classes);\r\n\t\t\t}\r\n\t\t\toption_el = document.createElement(\"li\");\r\n\t\t\toption_el.className = classes.join(\" \");\r\n\t\t\toption_el.style.cssText = option.style;\r\n\t\t\toption_el.setAttribute(\"data-option-array-index\", option.array_index);\r\n\t\t\toption_el.innerHTML = option.search_text;\r\n\t\t\treturn this.outerHTML(option_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_group = function(group) {\r\n\t\t\tvar group_el;\r\n\t\t\tif (!(group.search_match || group.group_match)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!(group.active_options > 0)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tgroup_el = document.createElement(\"li\");\r\n\t\t\tgroup_el.className = \"group-result\";\r\n\t\t\tgroup_el.innerHTML = group.search_text;\r\n\t\t\treturn this.outerHTML(group_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_update_field = function() {\r\n\t\t\tthis.set_default_text();\r\n\t\t\tif (!this.is_multiple) {\r\n\t\t\t\tthis.results_reset_cleanup();\r\n\t\t\t}\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tthis.results_build();\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.reset_single_select_options = function() {\r\n\t\t\tvar result, _i, _len, _ref, _results;\r\n\t\t\t_ref = this.results_data;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tresult = _ref[_i];\r\n\t\t\t\tif (result.selected) {\r\n\t\t\t\t\t_results.push(result.selected = false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_results.push(void 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_toggle = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_search = function(evt) {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.winnow_results = function() {\r\n\t\t\tvar escapedSearchText, option, regex, regexAnchor, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\r\n\t\t\tthis.no_results_clear();\r\n\t\t\tresults = 0;\r\n\t\t\tsearchText = this.get_search_text();\r\n\t\t\tescapedSearchText = searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n\t\t\tregexAnchor = this.search_contains ? \"\" : \"^\";\r\n\t\t\tregex = new RegExp(regexAnchor + escapedSearchText, 'i');\r\n\t\t\tzregex = new RegExp(escapedSearchText, 'i');\r\n\t\t\t_ref = this.results_data;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\toption.search_match = false;\r\n\t\t\t\tresults_group = null;\r\n\t\t\t\tif (this.include_option_in_results(option)) {\r\n\t\t\t\t\tif (option.group) {\r\n\t\t\t\t\t\toption.group_match = false;\r\n\t\t\t\t\t\toption.active_options = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n\t\t\t\t\t\tresults_group = this.results_data[option.group_array_index];\r\n\t\t\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\r\n\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresults_group.active_options += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!(option.group && !this.group_search)) {\r\n\t\t\t\t\t\toption.search_text = option.group ? option.label : option.html;\r\n\t\t\t\t\t\toption.search_match = this.search_string_match(option.search_text, regex);\r\n\t\t\t\t\t\tif (option.search_match && !option.group) {\r\n\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (option.search_match) {\r\n\t\t\t\t\t\t\tif (searchText.length) {\r\n\t\t\t\t\t\t\t\tstartpos = option.search_text.search(zregex);\r\n\t\t\t\t\t\t\t\ttext = option.search_text.substr(0, startpos + searchText.length) + '</em>' + option.search_text.substr(startpos + searchText.length);\r\n\t\t\t\t\t\t\t\toption.search_text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (results_group != null) {\r\n\t\t\t\t\t\t\t\tresults_group.group_match = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n\t\t\t\t\t\t\toption.search_match = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tif (results < 1 && searchText.length) {\r\n\t\t\t\tthis.update_results_content(\"\");\r\n\t\t\t\treturn this.no_results(searchText);\r\n\t\t\t} else {\r\n\t\t\t\tthis.update_results_content(this.results_option_build());\r\n\t\t\t\treturn this.winnow_results_set_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_string_match = function(search_string, regex) {\r\n\t\t\tvar part, parts, _i, _len;\r\n\t\t\tif (regex.test(search_string)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (this.enable_split_word_search && (search_string.indexOf(\" \") >= 0 || search_string.indexOf(\"[\") === 0)) {\r\n\t\t\t\tparts = search_string.replace(/\\[|\\]/g, \"\").split(\" \");\r\n\t\t\t\tif (parts.length) {\r\n\t\t\t\t\tfor (_i = 0, _len = parts.length; _i < _len; _i++) {\r\n\t\t\t\t\t\tpart = parts[_i];\r\n\t\t\t\t\t\tif (regex.test(part)) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_count = function() {\r\n\t\t\tvar option, _i, _len, _ref;\r\n\t\t\tif (this.selected_option_count != null) {\r\n\t\t\t\treturn this.selected_option_count;\r\n\t\t\t}\r\n\t\t\tthis.selected_option_count = 0;\r\n\t\t\t_ref = this.form_field.options;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\tif (option.selected) {\r\n\t\t\t\t\tthis.selected_option_count += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.selected_option_count;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tif (!(this.results_showing || this.is_disabled)) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.keyup_checker = function(evt) {\r\n\t\t\tvar stroke, _ref;\r\n\t\t\tstroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tif (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else if (!this.pending_backstroke) {\r\n\t\t\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\t\t\treturn this.results_search();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\treturn this.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 27:\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tcase 9:\r\n\t\t\t\tcase 38:\r\n\t\t\t\tcase 40:\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 91:\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn this.results_search();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.clipboard_event_checker = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\treturn setTimeout((function() {\r\n\t\t\t\treturn _this.results_search();\r\n\t\t\t}), 50);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.container_width = function() {\r\n\t\t\tif (this.options.width != null) {\r\n\t\t\t\treturn this.options.width;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\" + this.form_field.offsetWidth + \"px\";\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.include_option_in_results = function(option) {\r\n\t\t\tif (this.is_multiple && (!this.display_selected_options && option.selected)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!this.display_disabled_options && option.disabled) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (option.empty) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchstart = function(evt) {\r\n\t\t\tthis.touch_started = true;\r\n\t\t\treturn this.search_results_mouseover(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchmove = function(evt) {\r\n\t\t\tthis.touch_started = false;\r\n\t\t\treturn this.search_results_mouseout(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchend = function(evt) {\r\n\t\t\tif (this.touch_started) {\r\n\t\t\t\treturn this.search_results_mouseup(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.outerHTML = function(element) {\r\n\t\t\tvar tmp;\r\n\t\t\tif (element.outerHTML) {\r\n\t\t\t\treturn element.outerHTML;\r\n\t\t\t}\r\n\t\t\ttmp = document.createElement(\"div\");\r\n\t\t\ttmp.appendChild(element);\r\n\t\t\treturn tmp.innerHTML;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.browser_is_supported = function() {\r\n\t\t\tif (window.navigator.appName === \"Microsoft Internet Explorer\") {\r\n\t\t\t\treturn document.documentMode >= 8;\r\n\t\t\t}\r\n\t\t\tif (/iP(od|hone)/i.test(window.navigator.userAgent)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (/Android/i.test(window.navigator.userAgent)) {\r\n\t\t\t\tif (/Mobile/i.test(window.navigator.userAgent)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.default_multiple_text = \"Select Some Options\";\r\n\r\n\t\tAbstractChosen.default_single_text = \"Select an Option\";\r\n\r\n\t\tAbstractChosen.default_no_result_text = \"No results match\";\r\n\r\n\t\treturn AbstractChosen;\r\n\r\n\t})();\r\n\r\n\t$ = jQuery;\r\n\r\n\t$.fn.extend({\r\n\t\tchosen: function(options) {\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\treturn this.each(function(input_field) {\r\n\t\t\t\tvar $this, chosen;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tchosen = $this.data('chosen');\r\n\t\t\t\tif (options === 'destroy' && chosen) {\r\n\t\t\t\t\tchosen.destroy();\r\n\t\t\t\t} else if (!chosen) {\r\n\t\t\t\t\t$this.data('chosen', new Chosen(this, options));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tChosen = (function(_super) {\r\n\t\t__extends(Chosen, _super);\r\n\r\n\t\tfunction Chosen() {\r\n\t\t\t_ref = Chosen.__super__.constructor.apply(this, arguments);\r\n\t\t\treturn _ref;\r\n\t\t}\r\n\r\n\t\tChosen.prototype.setup = function() {\r\n\t\t\tthis.form_field_jq = $(this.form_field);\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.is_rtl = this.form_field_jq.hasClass(\"chosen-rtl\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_up_html = function() {\r\n\t\t\tvar container_classes, container_props;\r\n\t\t\tcontainer_classes = [\"chosen-container\"];\r\n\t\t\tcontainer_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\r\n\t\t\tif (this.inherit_select_classes && this.form_field.className) {\r\n\t\t\t\tcontainer_classes.push(this.form_field.className);\r\n\t\t\t}\r\n\t\t\tif (this.is_rtl) {\r\n\t\t\t\tcontainer_classes.push(\"chosen-rtl\");\r\n\t\t\t}\r\n\t\t\tcontainer_props = {\r\n\t\t\t\t'class': container_classes.join(' '),\r\n\t\t\t\t'style': \"width: \" + (this.container_width()) + \";\",\r\n\t\t\t\t'title': this.form_field.title\r\n\t\t\t};\r\n\t\t\tif (this.form_field.id.length) {\r\n\t\t\t\tcontainer_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\r\n\t\t\t}\r\n\t\t\tthis.container = $(\"<div />\", container_props);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.container.html('<ul class=\"chosen-choices\"><li class=\"search-field\"><input type=\"text\" value=\"' + this.default_text + '\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chosen-drop\"><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.html('<a class=\"chosen-single chosen-default\" tabindex=\"-1\"><span>' + this.default_text + '</span><div><b></b></div></a><div class=\"chosen-drop\"><div class=\"chosen-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t}\r\n\t\t\tthis.form_field_jq.hide().after(this.container);\r\n\t\t\tthis.dropdown = this.container.find('div.chosen-drop').first();\r\n\t\t\tthis.search_field = this.container.find('input').first();\r\n\t\t\tthis.search_results = this.container.find('ul.chosen-results').first();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tthis.search_no_results = this.container.find('li.no-results').first();\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices = this.container.find('ul.chosen-choices').first();\r\n\t\t\t\tthis.search_container = this.container.find('li.search-field').first();\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_container = this.container.find('div.chosen-search').first();\r\n\t\t\t\tthis.selected_item = this.container.find('.chosen-single').first();\r\n\t\t\t}\r\n\t\t\tthis.results_build();\r\n\t\t\tthis.set_tab_index();\r\n\t\t\tthis.set_label_behavior();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:ready\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.register_observers = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.container.bind('mousedown.chosen', function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.container_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseenter.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_enter(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseleave.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_leave(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseover.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseover(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseout.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseout(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mousewheel.chosen DOMMouseScroll.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mousewheel(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchstart.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchstart(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchmove.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchmove(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchend.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchend(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:updated.chosen\", function(evt) {\r\n\t\t\t\t_this.results_update_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:activate.chosen\", function(evt) {\r\n\t\t\t\t_this.activate_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:open.chosen\", function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:close.chosen\", function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('blur.chosen', function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keyup.chosen', function(evt) {\r\n\t\t\t\t_this.keyup_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keydown.chosen', function(evt) {\r\n\t\t\t\t_this.keydown_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('focus.chosen', function(evt) {\r\n\t\t\t\t_this.input_focus(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('cut.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('paste.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\treturn this.search_choices.bind('click.chosen', function(evt) {\r\n\t\t\t\t\t_this.choices_click(evt);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn this.container.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.destroy = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tif (this.search_field[0].tabIndex) {\r\n\t\t\t\tthis.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\r\n\t\t\t}\r\n\t\t\tthis.container.remove();\r\n\t\t\tthis.form_field_jq.removeData('chosen');\r\n\t\t\treturn this.form_field_jq.show();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_disabled = function() {\r\n\t\t\tthis.is_disabled = this.form_field_jq[0].disabled;\r\n\t\t\tif (this.is_disabled) {\r\n\t\t\t\tthis.container.addClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = true;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\tthis.selected_item.unbind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.removeClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = false;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\treturn this.selected_item.bind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mousedown = function(evt) {\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\tif (evt && evt.type === \"mousedown\" && !this.results_showing) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\r\n\t\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(this.container[0].ownerDocument).bind('click.chosen', this.click_test_action);\r\n\t\t\t\t\t\tthis.results_show();\r\n\t\t\t\t\t} else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tthis.results_toggle();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mouseup = function(evt) {\r\n\t\t\tif (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\r\n\t\t\t\treturn this.results_reset(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mousewheel = function(evt) {\r\n\t\t\tvar delta;\r\n\t\t\tif (evt.originalEvent) {\r\n\t\t\t\tdelta = -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\r\n\t\t\t}\r\n\t\t\tif (delta != null) {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tif (evt.type === 'DOMMouseScroll') {\r\n\t\t\t\t\tdelta = delta * 40;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_results.scrollTop(delta + this.search_results.scrollTop());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.blur_test = function(evt) {\r\n\t\t\tif (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.close_field = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.results_hide();\r\n\t\t\tthis.container.removeClass(\"chosen-container-active\");\r\n\t\t\tthis.clear_backstroke();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\treturn this.search_field_scale();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.activate_field = function() {\r\n\t\t\tthis.container.addClass(\"chosen-container-active\");\r\n\t\t\tthis.active_field = true;\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\treturn this.search_field.focus();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.test_active_click = function(evt) {\r\n\t\t\tvar active_container;\r\n\t\t\tactive_container = $(evt.target).closest('.chosen-container');\r\n\t\t\tif (active_container.length && this.container[0] === active_container[0]) {\r\n\t\t\t\treturn this.active_field = true;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_build = function() {\r\n\t\t\tthis.parsing = true;\r\n\t\t\tthis.selected_option_count = null;\r\n\t\t\tthis.results_data = SelectParser.select_to_array(this.form_field);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices.find(\"li.search-choice\").remove();\r\n\t\t\t} else if (!this.is_multiple) {\r\n\t\t\t\tthis.single_set_selected_text();\r\n\t\t\t\tif (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\r\n\t\t\t\t\tthis.search_field[0].readOnly = true;\r\n\t\t\t\t\tthis.container.addClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.search_field[0].readOnly = false;\r\n\t\t\t\t\tthis.container.removeClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.update_results_content(this.results_option_build({\r\n\t\t\t\tfirst: true\r\n\t\t\t}));\r\n\t\t\tthis.search_field_disabled();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\treturn this.parsing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_do_highlight = function(el) {\r\n\t\t\tvar high_bottom, high_top, maxHeight, visible_bottom, visible_top;\r\n\t\t\tif (el.length) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.result_highlight = el;\r\n\t\t\t\tthis.result_highlight.addClass(\"highlighted\");\r\n\t\t\t\tmaxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\r\n\t\t\t\tvisible_top = this.search_results.scrollTop();\r\n\t\t\t\tvisible_bottom = maxHeight + visible_top;\r\n\t\t\t\thigh_top = this.result_highlight.position().top + this.search_results.scrollTop();\r\n\t\t\t\thigh_bottom = high_top + this.result_highlight.outerHeight();\r\n\t\t\t\tif (high_bottom >= visible_bottom) {\r\n\t\t\t\t\treturn this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\r\n\t\t\t\t} else if (high_top < visible_top) {\r\n\t\t\t\t\treturn this.search_results.scrollTop(high_top);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_clear_highlight = function() {\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\tthis.result_highlight.removeClass(\"highlighted\");\r\n\t\t\t}\r\n\t\t\treturn this.result_highlight = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_show = function() {\r\n\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.container.addClass(\"chosen-with-drop\");\r\n\t\t\tthis.results_showing = true;\r\n\t\t\tthis.search_field.focus();\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\tthis.winnow_results();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.update_results_content = function(content) {\r\n\t\t\treturn this.search_results.html(content);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_hide = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.container.removeClass(\"chosen-with-drop\");\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this.results_showing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_tab_index = function(el) {\r\n\t\t\tvar ti;\r\n\t\t\tif (this.form_field.tabIndex) {\r\n\t\t\t\tti = this.form_field.tabIndex;\r\n\t\t\t\tthis.form_field.tabIndex = -1;\r\n\t\t\t\treturn this.search_field[0].tabIndex = ti;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_label_behavior = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.form_field_label = this.form_field_jq.parents(\"label\");\r\n\t\t\tif (!this.form_field_label.length && this.form_field.id.length) {\r\n\t\t\t\tthis.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\r\n\t\t\t}\r\n\t\t\tif (this.form_field_label.length > 0) {\r\n\t\t\t\treturn this.form_field_label.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tif (_this.is_multiple) {\r\n\t\t\t\t\t\treturn _this.container_mousedown(evt);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn _this.activate_field();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.show_search_field_default = function() {\r\n\t\t\tif (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\r\n\t\t\t\tthis.search_field.val(this.default_text);\r\n\t\t\t\treturn this.search_field.addClass(\"default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\treturn this.search_field.removeClass(\"default\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseup = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target.length) {\r\n\t\t\t\tthis.result_highlight = target;\r\n\t\t\t\tthis.result_select(evt);\r\n\t\t\t\treturn this.search_field.focus();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseover = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target) {\r\n\t\t\t\treturn this.result_do_highlight(target);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseout = function(evt) {\r\n\t\t\tif ($(evt.target).hasClass(\"active-result\" || $(evt.target).parents('.active-result').first())) {\r\n\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_build = function(item) {\r\n\t\t\tvar choice, close_link,\r\n\t\t\t\t_this = this;\r\n\t\t\tchoice = $('<li />', {\r\n\t\t\t\t\"class\": \"search-choice\"\r\n\t\t\t}).html(\"<span>\" + item.html + \"</span>\");\r\n\t\t\tif (item.disabled) {\r\n\t\t\t\tchoice.addClass('search-choice-disabled');\r\n\t\t\t} else {\r\n\t\t\t\tclose_link = $('<a />', {\r\n\t\t\t\t\t\"class\": 'search-choice-close',\r\n\t\t\t\t\t'data-option-array-index': item.array_index\r\n\t\t\t\t});\r\n\t\t\t\tclose_link.bind('click.chosen', function(evt) {\r\n\t\t\t\t\treturn _this.choice_destroy_link_click(evt);\r\n\t\t\t\t});\r\n\t\t\t\tchoice.append(close_link);\r\n\t\t\t}\r\n\t\t\treturn this.search_container.before(choice);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy_link_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\treturn this.choice_destroy($(evt.target));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy = function(link) {\r\n\t\t\tif (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\r\n\t\t\t\tthis.show_search_field_default();\r\n\t\t\t\tif (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tlink.parents('li').first().remove();\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset = function() {\r\n\t\t\tthis.reset_single_select_options();\r\n\t\t\tthis.form_field.options[0].selected = true;\r\n\t\t\tthis.single_set_selected_text();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.results_reset_cleanup();\r\n\t\t\tthis.form_field_jq.trigger(\"change\");\r\n\t\t\tif (this.active_field) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset_cleanup = function() {\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.selected_item.find(\"abbr\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_select = function(evt) {\r\n\t\t\tvar high, item;\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\thigh = this.result_highlight;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\t\tchosen: this\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\thigh.removeClass(\"active-result\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.reset_single_select_options();\r\n\t\t\t\t}\r\n\t\t\t\titem = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\r\n\t\t\t\titem.selected = true;\r\n\t\t\t\tthis.form_field.options[item.options_index].selected = true;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\tthis.choice_build(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.single_set_selected_text(item.text);\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\tif (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\t\t'selected': this.form_field.options[item.options_index].value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_set_selected_text = function(text) {\r\n\t\t\tif (text == null) {\r\n\t\t\t\ttext = this.default_text;\r\n\t\t\t}\r\n\t\t\tif (text === this.default_text) {\r\n\t\t\t\tthis.selected_item.addClass(\"chosen-default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.single_deselect_control_build();\r\n\t\t\t\tthis.selected_item.removeClass(\"chosen-default\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.find(\"span\").text(text);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_deselect = function(pos) {\r\n\t\t\tvar result_data;\r\n\t\t\tresult_data = this.results_data[pos];\r\n\t\t\tif (!this.form_field.options[result_data.options_index].disabled) {\r\n\t\t\t\tresult_data.selected = false;\r\n\t\t\t\tthis.form_field.options[result_data.options_index].selected = false;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\tthis.winnow_results();\r\n\t\t\t\t}\r\n\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\tdeselected: this.form_field.options[result_data.options_index].value\r\n\t\t\t\t});\r\n\t\t\t\tthis.search_field_scale();\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_deselect_control_build = function() {\r\n\t\t\tif (!this.allow_single_deselect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.selected_item.find(\"abbr\").length) {\r\n\t\t\t\tthis.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.addClass(\"chosen-single-with-deselect\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.get_search_text = function() {\r\n\t\t\tif (this.search_field.val() === this.default_text) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t} else {\r\n\t\t\t\treturn $('<div/>').text($.trim(this.search_field.val())).html();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.winnow_results_set_highlight = function() {\r\n\t\t\tvar do_high, selected_results;\r\n\t\t\tselected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\r\n\t\t\tdo_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\r\n\t\t\tif (do_high != null) {\r\n\t\t\t\treturn this.result_do_highlight(do_high);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results = function(terms) {\r\n\t\t\tvar no_results_html;\r\n\t\t\tno_results_html = $('<li class=\"no-results\">' + this.results_none_found + ' \"<span></span>\"</li>');\r\n\t\t\tno_results_html.find(\"span\").first().html(terms);\r\n\t\t\tthis.search_results.append(no_results_html);\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:no_results\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results_clear = function() {\r\n\t\t\treturn this.search_results.find(\".no-results\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_arrow = function() {\r\n\t\t\tvar next_sib;\r\n\t\t\tif (this.results_showing && this.result_highlight) {\r\n\t\t\t\tnext_sib = this.result_highlight.nextAll(\"li.active-result\").first();\r\n\t\t\t\tif (next_sib) {\r\n\t\t\t\t\treturn this.result_do_highlight(next_sib);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keyup_arrow = function() {\r\n\t\t\tvar prev_sibs;\r\n\t\t\tif (!this.results_showing && !this.is_multiple) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t} else if (this.result_highlight) {\r\n\t\t\t\tprev_sibs = this.result_highlight.prevAll(\"li.active-result\");\r\n\t\t\t\tif (prev_sibs.length) {\r\n\t\t\t\t\treturn this.result_do_highlight(prev_sibs.first());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.choices_count() > 0) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_backstroke = function() {\r\n\t\t\tvar next_available_destroy;\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.choice_destroy(this.pending_backstroke.find(\"a\").first());\r\n\t\t\t\treturn this.clear_backstroke();\r\n\t\t\t} else {\r\n\t\t\t\tnext_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\r\n\t\t\t\tif (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\r\n\t\t\t\t\tthis.pending_backstroke = next_available_destroy;\r\n\t\t\t\t\tif (this.single_backstroke_delete) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.pending_backstroke.addClass(\"search-choice-focus\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.clear_backstroke = function() {\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.pending_backstroke.removeClass(\"search-choice-focus\");\r\n\t\t\t}\r\n\t\t\treturn this.pending_backstroke = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_checker = function(evt) {\r\n\t\t\tvar stroke, _ref1;\r\n\t\t\tstroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tif (stroke !== 8 && this.pending_backstroke) {\r\n\t\t\t\tthis.clear_backstroke();\r\n\t\t\t}\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tthis.backstroke_length = this.search_field.val().length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tif (this.results_showing && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.mouse_on_container = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keyup_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keydown_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_scale = function() {\r\n\t\t\tvar div, f_width, h, style, style_block, styles, w, _i, _len;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\th = 0;\r\n\t\t\t\tw = 0;\r\n\t\t\t\tstyle_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\r\n\t\t\t\tstyles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];\r\n\t\t\t\tfor (_i = 0, _len = styles.length; _i < _len; _i++) {\r\n\t\t\t\t\tstyle = styles[_i];\r\n\t\t\t\t\tstyle_block += style + \":\" + this.search_field.css(style) + \";\";\r\n\t\t\t\t}\r\n\t\t\t\tdiv = $('<div />', {\r\n\t\t\t\t\t'style': style_block\r\n\t\t\t\t});\r\n\t\t\t\tdiv.text(this.search_field.val());\r\n\t\t\t\t$('body').append(div);\r\n\t\t\t\tw = div.width() + 25;\r\n\t\t\t\tdiv.remove();\r\n\t\t\t\tf_width = this.container.outerWidth();\r\n\t\t\t\tif (w > f_width - 10) {\r\n\t\t\t\t\tw = f_width - 10;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_field.css({\r\n\t\t\t\t\t'width': w + 'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn Chosen;\r\n\r\n\t})(AbstractChosen);\r\n\r\n}).call(this);\r\n"]}