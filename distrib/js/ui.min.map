{"version":3,"file":"ui.min.js","sources":["ui.js"],"names":["$","window","imgUpload","$elem","onSuccess","options","defaults","action","inputFileName","accept","dataType","cfg","extend","$form","attr","isBtn","is","click","appendTo","empty","change","button","jqxhr","ajaxSubmit","uploadProgress","onProgress","data","done","rsp","status","setTimeout","TopTip","msg","type","onFail","fail","always","removeAttr","fillSelect","$select","items","k","t","dk","dt","isArray","slice","firstItem","unshift","item","i","push","val","text","isPlainObject","key","html","createChosen","defaultItem","cv","py","matcher","Pymatch","getMatchedFn","searchText","setNames","_","map","el","IX","inherit","name","matchField","matchedSections","match","matchedOptions","each","opts","placeholder_text","no_results_text","allow_single_deselect","obj","findWhere","chosen","createSchemaChosen","$shopSelect","$citySelect","Hualala","Global","getShopQuerySchema","resultcode","resultmsg","topTip","shops","cities","that","this","retShops","value","filter","shop","cityID","siblings","remove","show","ns","PopoverMsgTip","$tar","$XP","placement","trigger","container","afterShow","$XF","afterHide","popover","popoverEl","addClass","content","on","tpl","Handlebars","compile","TplLib","get","tipEl","id","bind","close.bs.alert","e","closed.bs.alert","alert","count","arguments","callee","removeClass","ModalDialog","config","backdrop","ifDrag","dragHandler","containment","overFlow","zIndex","showTitle","showFooter","hideCloseBtn","title","hideWithRemove","clz","sizeCls","afterRemove","emptyFn","onBeforeDrag","onDragging","onAfterDrag","$self","$con","$dialogHead","$dialogBody","$dialogFoot","$closeBtn","dialogId","dialogTpl","dialogCfg","initStyle","_zIndex","isNaN","css","z-index","hide","bindEvent","$handler","length","self","draggable","cursor","handle","dialogHead","start","drag","stop","init","find","_model","dialog","header","body","footer","_hide","modal","_show","setTitle","Alert","label","cbFn","btnTpl","btns","$dialog","$body","$footer","Confirm","okLabel","cancelLabel","okFn","cancelFn","act","EmptyPlaceholder","$el","htm","append","fadeIn","fadeOut","destroy","BreadCrumb","settings","hideRoot","nodes","clickFn","$this","document","location","href","mapRenderData","shift","mapFn","$breadCrumb","apply","breadCrumb","LoadingModal","min","max","progressClz","progressTpl","percent","Common","Math","div","sub","multi","numberToFixed","updateProgress","curProgress","s","uploadImg","onTooLarge","onTooSmall","onStart","onBefore","minSize","saveSize","G","swfRoot","SWF_ROOT","swfSrc","args","$tpl","keyboard","onConcel","UI","Head_Pic_Rece_URL","imgPath","imageTooLarge","imageTooSmall","Head_Pic_Cancel","uploadStart","jQuery","bootstrapWizardCreate","element","baseItemSelector","historyStack","$settings","fn","bsWizard","$activeTab","$navigation","rebindClick","selector","unbind","fixNavigationButtons","previousSelector","toggleClass","firstIndex","currentIndex","nextSelector","navigationLength","finishSelector","lastSelector","backSelector","next","previous","last","firstSelector","first","finish","back","onTabShow","tab","hasClass","onNext","nextIndex","formerIndex","$index","onPrevious","previousIndex","onFirst","onLast","lastIndex","onFinish","pop","onBack","index","getIndex","activeTab","nextTab","previousTab","parseInt","tabToShow","disable","enable","display","$removeTabPane","$item","$href","innerTabClick","$ul","clickedIndex","currentTarget","parent","$clickedTab","onTabClick","innerTabShown","$element","target","onTabChange","resetWizard","off","tabClass","onInit","onShow","Array","prototype","call","toString","wizard","IXPager","total","page","maxVisible","leaps","hrefVar","prev","isNumeric","genHref","n","replace","renderPager","$IXPager","pg","maxV","step","vis","floor","$pages","$curPage","not","d","toggle","c","join","delegate","__slice","BootstrapSwitch","bootstrapSwitch","state","size","animate","disabled","readonly","indeterminate","onColor","offColor","onText","offText","labelText","baseClass","wrapperClass","radioAllOff","$wrapper","class","_this","classes","concat","_getClasses","$container","$on","$off","$label","prop","onSwitchChange","wrap","before","_elementHandlers","_handleHandlers","_labelHandlers","_formHandler","_constructor","skip","toggleState","toggleDisabled","toggleReadonly","toggleIndeterminate","color","closest","removeData","children","unwrap","change.bootstrapSwitch","checked","preventDefault","stopImmediatePropagation","focus.bootstrapSwitch","blur.bootstrapSwitch","keydown.bootstrapSwitch","which","mousemove.bootstrapSwitch touchmove.bootstrapSwitch","left","pageX","right","isLabelDragging","isLabelDragged","originalEvent","touches","offset","width","mousedown.bootstrapSwitch touchstart.bootstrapSwitch","mouseup.bootstrapSwitch touchend.bootstrapSwitch","mouseleave.bootstrapSwitch","cls","_i","_len","option","ret","Constructor","bootstrapWizard","$stepAction","unusableClass","lastAction","activePane","$panes","curIdx","$currentPane","eq","$nextPane","actionSelector","$firstPane","AbstractChosen","Chosen","SelectParser","_ref","__hasProp","hasOwnProperty","__extends","child","ctor","constructor","__super__","options_index","parsed","add_node","nodeName","toUpperCase","add_group","add_option","group","group_position","_results","array_index","escapeExpression","childNodes","group_disabled","innerHTML","selected","group_array_index","className","style","cssText","unsafe_chars","test","<",">","\"","'","`","chr","select_to_array","select","parser","form_field","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","click_test_action","evt","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","disable_search_threshold","disable_search","enable_split_word_search","group_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","display_selected_options","display_disabled_options","default_text","getAttribute","placeholder_text_multiple","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","default_no_result_text","mouse_enter","mouse_leave","input_focus","container_mousedown","input_blur","blur_test","results_option_build","results_data","result_add_group","result_add_option","choice_build","single_set_selected_text","option_el","search_match","include_option_in_results","createElement","setAttribute","search_text","outerHTML","group_el","group_match","active_options","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","winnow_results","reset_single_select_options","result","results_toggle","results_hide","results_show","results_search","escapedSearchText","regex","regexAnchor","results","results_group","startpos","zregex","no_results_clear","get_search_text","RegExp","isFunction","search_value_match","v","matches","curSearchText","m","search_string_match","search","substr","update_results_content","no_results","winnow_results_set_highlight","search_string","part","parts","indexOf","split","choices_count","selected_option_count","choices_click","is_disabled","keyup_checker","stroke","keyCode","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","clipboard_event_checker","container_width","offsetWidth","search_results_touchstart","touch_started","search_results_mouseover","search_results_touchmove","search_results_mouseout","search_results_touchend","search_results_mouseup","tmp","appendChild","navigator","appName","documentMode","userAgent","_super","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","container_classes","container_props","after","dropdown","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","container_mouseup","search_results_mousewheel","keydown_checker","ownerDocument","tabIndex","search_field_disabled","close_field","parents","results_reset","delta","wheelDelta","detail","scrollTop","clear_backstroke","show_search_field_default","focus","active_container","parsing","readOnly","result_do_highlight","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","position","top","outerHeight","ti","form_field_label","choice","close_link","data-option-array-index","choice_destroy_link_click","stopPropagation","choice_destroy","link","result_deselect","high","metaKey","ctrlKey","single_deselect_control_build","pos","result_data","deselected","trim","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","_ref1","f_width","h","style_block","styles","w","outerWidth"],"mappings":"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","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n(function ($, window) {\r\n\tIX.ns(\"Hualala.UI\");\r\n\r\n\t/**\r\n\t * show popover tip for target element\r\n\t * @param  {[Object]} cfg [description]\r\n\t *         trigger : 'click|hover|focus|manual'\r\n\t *         targetEl : popover tip apply on this $tar\r\n\t *         msg : tip content\r\n\t *         type : tip message type\r\n\t *         placement : string|function \r\n\t *         container : selector\r\n\t *         afterShow : function \r\n\t *         afterHide : function \r\n\t * @return {[null]}     [description]\r\n\t */\r\n\tvar PopoverMsgTip = function (cfg) {\r\n\t\tvar $tar = $XP(cfg, 'targetEl', null);\r\n\t\tif (!$tar) return ;\r\n\t\t$tar = $($tar);\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\ttype = $XP(cfg, 'type', 'warning'),\r\n\t\t\tplacement = $XP(cfg, 'placement', 'left'),\r\n\t\t\ttrigger = $XP(cfg, 'trigger', 'click'),\r\n\t\t\ttitle = $XP(cfg, 'title', ''),\r\n\t\t\tcontainer = $XP(cfg, 'container', false),\r\n\t\t\tafterShow = $XF(cfg, 'afterShow'),\r\n\t\t\tafterHide = $XF(cfg, 'afterHide');\r\n\t\t$tar.popover({\r\n\t\t\thtml : true,\r\n\t\t\tplacement : function (popoverEl, triggerEl) {\r\n\t\t\t\t// console.info(popoverEl);\r\n\t\t\t\t// console.info(triggerEl);\r\n\t\t\t\t// console.info(this);\r\n\t\t\t\t$(popoverEl).addClass(type);\r\n\t\t\t\treturn placement;\r\n\t\t\t},\r\n\t\t\ttrigger : trigger,\r\n\t\t\t// type : type,\r\n\t\t\tcontent : msg,\r\n\t\t\tcontainer : container\r\n\t\t});\r\n\t\t$tar.on('shown.bs.popover', function () {\r\n\t\t\tafterShow($tar, type);\r\n\t\t});\r\n\t\t$tar.on('hidden.bs.popover', function () {\r\n\t\t\tafterHide($tar, type);\r\n\t\t\t$tar.popover('destroy');\r\n\t\t});\r\n\t\t$tar.popover('show');\r\n\t};\r\n\r\n\t/**\r\n\t * show tip message for model window\r\n\t * \r\n\t * @param {[Object]} cfg [config params]\r\n\t *        msg : \"string\",\r\n\t *        type : \"danger|warning|success\",\r\n\t *        afterClosed : function () {},\r\n\t *        afterClose : function () {}\r\n\t * @return {[jQuery Obj] } [tip obj]\r\n\t */\r\n\tvar TopTip = function (cfg) {\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_toptip'));\r\n\t\tvar tipEl = $(tpl({\r\n\t\t\tid : IX.id(),\r\n\t\t\ttype : $XP(cfg, 'type', 'warning'),\r\n\t\t\tmsg : $XP(cfg, 'msg', '')\r\n\t\t}));\r\n\t\ttipEl.appendTo('body');\r\n\t\ttipEl.bind({\r\n\t\t\t'close.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClose')(e);\r\n\t\t\t},\r\n\t\t\t'closed.bs.alert' : function (e) {\r\n\t\t\t\t$XF(cfg, 'afterClosed')(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\ttipEl.addClass('popup');\r\n\t\ttipEl.alert();\r\n\t\tvar timmer = null, count = 0;\r\n\t\tsetTimeout(function () {\r\n\t\t\tif (count <= 1) {\r\n\t\t\t\tsetTimeout(arguments.callee, count == 0 ? $XP(cfg, 'interval', 1500) : 500);\r\n\t\t\t\tcount == 1 && tipEl.removeClass('popup').addClass('bubbleover');\r\n\t\t\t\tcount++;\r\n\t\t\t} else {\r\n\t\t\t\ttipEl.alert('close');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, 500);\r\n\t\t// setTimeout(function () {\r\n\t\t// \ttipEl.removeClass('popup').addClass('bubbleover');\r\n\t\t// \ttipEl.alert('close');\r\n\t\t// }, $XP(cfg, 'interval', 3000));\r\n\t};\r\n\r\n\t/**\r\n\t * cfg :{\r\n\t * \t\tcontainer : DOM|jQuery Obj //default $('body') \r\n\t * \t\tid : '',\t//default IX.id()\r\n\t * \t\tbackdrop : true|false|'static'  //true:false:,\r\n\t * \t\t\t\t\t\t\t\t\t\t\tstatic:,\r\n\t * \t\tzIndex : null,\t//default null\r\n\t * \t\tdragHandler : null,\t// default null\r\n\t * \t\tcontainment : null,\t// default null\r\n\t * \t\toverFlow : false,\t//default false\r\n\t * \t\tmovable : false\t,\t//default false\r\n\t * \t\tshowTitle : true ,\t//default true\r\n\t * \t\tshowFooter : true,\t//default true\r\n\t * \t\thideCloseBtn : false,\t//default false \r\n\t * \t\ttitle : '',\t\t\t//title string\r\n\t * \t\thideWithRemove : true,\t//\r\n\t * \t\tclz : '',\t\t\t//dialog className\r\n\t * \t\tafterRemove : function () {},\r\n\t * \t\tafterShow : function () {},\r\n\t * \t\tafterHide : function () {},\r\n\t * \t\tonBeforeDrag : function () {},\r\n\t * \t\tonDragging : function () {},\r\n\t * \t\tonAfterDrag : function () {}\r\n\t * }\r\n\t */\r\n\tvar ModalDialog = function (cfg) {\r\n\t\tvar config = IX.inherit({\r\n\t\t\tcontainer : null,\r\n\t\t\tbackdrop : true,\r\n\t\t\tid : null,\r\n\t\t\thtml : '',\r\n\t\t\tifDrag : false,\r\n\t\t\tdragHandler : null,\r\n\t\t\tcontainment : null,\r\n\t\t\toverFlow : false,\r\n\t\t\tzIndex : null,\r\n\t\t\tshowTitle : true,\r\n\t\t\tshowFooter : true,\r\n\t\t\thideCloseBtn : false,\r\n\t\t\ttitle : '',\r\n\t\t\thideWithRemove : true,\r\n\t\t\tclz : '',\r\n            sizeCls: '', //modal-lg | modal-sm | ''\r\n\t\t\tafterRemove : IX.emptyFn,\r\n\t\t\tafterHide : IX.emptyFn,\r\n\t\t\tafterShow : IX.emptyFn,\r\n\t\t\tonBeforeDrag : IX.emptyFn,\r\n\t\t\tonDragging : IX.emptyFn,\r\n\t\t\tonAfterDrag : IX.emptyFn\r\n\t\t}, cfg);\r\n\r\n\t\tvar $self = null, $con = null, $modal = null, isFirst = true;\r\n\t\tvar $dialogHead = null, $dialogBody = null, $dialogFoot = null, $closeBtn = null;\r\n\t\tvar dialogId = $XP(config, 'id', 'modal_dialog_' + IX.id());\r\n\t\tvar dialogTpl = Handlebars.compile(Hualala.TplLib.get('tpl_modal_dialog'));\r\n\t\tvar dialogCfg = {\r\n\t\t\tclz : $XP(config, 'clz', ''),\r\n\t\t\tid : dialogId,\r\n\t\t\ttitle : $XP(config, 'title', ''),\r\n\t\t\tbackdrop : $XP(config, 'backdrop', true)\r\n\t\t};\r\n\r\n\t\tvar initStyle = function () {\r\n\t\t\tvar _overflow = $XP(config, 'overFlow', false),\r\n\t\t\t\t_zIndex = $XP(config, 'zIndex', null);\r\n\t\t\t// $dialogBody.css({\r\n\t\t\t// \t\"overflow\" : !_overflow : 'hidden' : 'auto'\r\n\t\t\t// });\r\n\t\t\tif (_zIndex && !isNaN(_zIndex)) {\r\n\t\t\t\t$self.css({\r\n\t\t\t\t\t'z-index' : _zIndex\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showTitle', false)) {\r\n\t\t\t\t$dialogHead.hide();\r\n\t\t\t}\r\n\t\t\tif (!$XP(config, 'showFooter', false)) {\r\n\t\t\t\t$dialogFoot.hide();\r\n\t\t\t}\r\n\t\t\tif (!!$XP(config, 'hideCloseBtn', true)) {\r\n\t\t\t\t$closeBtn.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar bindEvent = function () {\r\n\t\t\t$self.on('hidden.bs.modal', function (e) {\r\n\t\t\t\t$XF(config, 'afterHide')(e);\r\n\t\t\t\tif ($XP(config, 'hideWithRemove', false)) {\r\n\t\t\t\t\t$self.remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$self.on('shown.bs.modal', function (e) {\r\n\t\t\t\t$XF(config, 'afterShow')(e);\r\n\t\t\t});\r\n\t\t\tif (!config.ifDrag || (!config.showTitle && !config.dragHandler)) return;\r\n\t\t\tvar $handler = $(dragHandler, $self);\r\n\t\t\tif ($handler.length == 0) return;\r\n\t\t\tif (!self.draggable) return;\r\n\t\t\t$self.draggable({\r\n\t\t\t\tcursor : 'move',\r\n\t\t\t\tcontainment : config.containment || 'document',\r\n\t\t\t\thandle : config.showTitle ? dialogHead : $handler,\r\n\t\t\t\tstart : config.onBeforeDrag,\r\n\t\t\t\tdrag : config.onDragging,\r\n\t\t\t\tstop : config.onAfterDrag\r\n\t\t\t});\t\r\n\t\t};\r\n\r\n\t\tvar init = function () {\r\n\t\t\t$con = $XP(cfg, 'container', null);\r\n\t\t\t$con = !$con ? $('body') : $($con);\r\n\t\t\t$self = $(dialogTpl(dialogCfg));\r\n\t\t\t$self.appendTo($con);\r\n\t\t\t$dialogHead = $self.find('.modal-header');\r\n\t\t\t$closeBtn = $dialogHead.find('.close');\r\n\t\t\t$dialogBody = $self.find('.modal-body');\r\n\t\t\t$dialogFoot = $self.find('.modal-footer');\r\n            config.html && $dialogBody.html(config.html);\r\n            config.sizeCls && $self.find('.modal-dialog').addClass(config.sizeCls);\r\n\t\t\t_model._ = {\r\n\t\t\t\tcontainer : $con,\r\n\t\t\t\tdialog : $self,\r\n\t\t\t\theader : $dialogHead,\r\n\t\t\t\tbody : $dialogBody,\r\n\t\t\t\tfooter : $dialogFoot\r\n\t\t\t};\r\n\t\t\tinitStyle();\r\n\t\t\tbindEvent();\r\n\t\t};\r\n\r\n\t\tvar _hide = function () {\r\n\t\t\t_model._.dialog.modal('hide');\r\n\t\t};\r\n\r\n\t\tvar _show = function () {\r\n\t\t\t_model._.dialog.modal('show');\r\n            return _model;\r\n\t\t};\r\n\r\n\t\tvar _model = {\r\n\t\t\t_ : {},\r\n\t\t\tshow : _show,\r\n\t\t\thide : _hide,\r\n\t\t\tsetTitle : function (title) {\r\n\t\t\t\t$dialogHead.find('.modal-title').html(title);\r\n\t\t\t}\r\n\t\t};\r\n\t\tinit();\r\n\t\treturn _model;\r\n\t};\r\n\r\n\t/**\r\n\t * Alert\r\n\t * @param {Object} cfg \t{msg, label, cbFn}\r\n\t */\r\n\tvar Alert = function (cfg) {\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\tlabel = $XP(cfg, 'label', ''),\r\n\t\t\tcbFn = $XF(cfg, 'cbFn');\r\n\t\tvar btnTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_modal_btns'));\r\n\t\tvar btns = [{\r\n\t\t\tclz : 'btn btn-warning', name : 'ok', label : label\r\n\t\t}];\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_alert_' + IX.id(),\r\n\t\t\tclz : 'x-alert',\r\n\t\t\ttitle : '',\r\n\t\t\tshowTitle : false,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterRemove : function () {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(msg);\r\n\t\t$footer.html(btnTpl({btns:btns}));\r\n\t\t$dialog.on('click', '.btn[name=ok]', function (e) {\r\n\t\t\tmodal.hide();\r\n\t\t\tcbFn();\r\n\t\t});\r\n\t\tmodal.show();\r\n        return modal;\r\n\t};\r\n\t/**\r\n\t * Confirm\r\n\t * @param {Object} cfg  {title, msg, okLabel, okFn, cancelLabel, cancelFn}\r\n\t */\r\n\tvar Confirm = function (cfg) {\r\n\t\tvar msg = $XP(cfg, 'msg', ''),\r\n\t\t\ttitle = $XP(cfg, 'title', ''),\r\n\t\t\tokLabel = $XP(cfg, 'okLabel', ''),\r\n\t\t\tcancelLabel = $XP(cfg, 'cancelLabel', ''),\r\n\t\t\tokFn = $XF(cfg, 'okFn'),\r\n\t\t\tcancelFn = $XF(cfg, 'cancelFn');\r\n\t\tvar btnTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_modal_btns'));\r\n\t\tvar btns = [{\r\n\t\t\tclz : 'btn btn-default', name : 'cancel', label : cancelLabel\r\n\t\t}, {\r\n\t\t\tclz : 'btn btn-warning', name : 'ok', label : okLabel\r\n\t\t}];\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_confirm_' + IX.id(),\r\n\t\t\tclz : 'x-confirm',\r\n\t\t\ttitle : title,\r\n\t\t\tshowTitle : true,\r\n            hideCloseBtn: true,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterRemove : function () {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(msg);\r\n\t\t$footer.html(btnTpl({btns:btns}));\r\n\t\t$dialog.on('click', '.btn[name]', function (e) {\r\n\t\t\tvar act = $(this).attr('name');\r\n\t\t\tmodal.hide();\r\n\t\t\tif (act == 'ok') {\r\n\t\t\t\tokFn();\r\n\t\t\t} else {\r\n\t\t\t\tcancelFn();\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * \r\n\t * @param {Object} cfg {msg, clz, container}\r\n\t */\r\n\tvar EmptyPlaceholder = function (cfg) {\r\n\t\tvar container = $XP(cfg, 'container', $('body')),\r\n\t\t\tmsg = $XP(cfg, 'msg', ''),\r\n\t\t\tclz = $XP(cfg, 'clz', 'text-center');\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_empty_placeholder'));\r\n\t\tvar $el = null;\r\n\t\tvar init = function () {\r\n\t\t\tvar htm = tpl({\r\n\t\t\t\tclz : clz, msg : msg\r\n\t\t\t});\r\n\t\t\t$el = $(htm).hide();\r\n\t\t\tcontainer.append($el);\r\n\t\t};\r\n\t\tinit();\r\n\t\treturn {\r\n\t\t\tel : $el,\r\n\t\t\tshow : function () {\r\n\t\t\t\t$el && $el.fadeIn(400);\r\n\t\t\t},\r\n\t\t\thide : function () {\r\n\t\t\t\t$el && $el.fadeOut(400);\r\n\t\t\t},\r\n\t\t\tdestroy : function () {\r\n\t\t\t\tif ($el) {\r\n\t\t\t\t\t$el.hide().remove();\r\n\t\t\t\t\tdelete this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * \r\n\t * \r\n\t * @param {Object} cfg {container,hideRoot,nodes, clz, clickFn, mapRenderData}\r\n\t *         @param {jQueryObj} container\t\r\n\t *         @param {Boolean} hideRoot \r\n\t *         @param {Array} nodes [{name,label,path},...]\r\n\t *         @param {String} clz \r\n\t *         @param {Function} clickFn ,\r\n\t *         @param {Function} mapRenderData \r\n\t * @return {Object} BreadCrumb\r\n\t */\r\n\tvar BreadCrumb = function (cfg) {\r\n\t\tvar settings = {\r\n\t\t\tcontainer : null,\r\n\t\t\thideRoot : false,\r\n\t\t\tnodes : [],\r\n\t\t\tclz : '',\r\n\t\t\tclickFn : function () {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tdocument.location.href = $this.attr('data-href');\r\n\t\t\t},\r\n\t\t\tmapRenderData : function (data, hideRoot, clz) {\r\n\t\t\t\thideRoot === true && data.shift();\r\n\t\t\t\treturn {\r\n\t\t\t\t\tclz : clz || '',\r\n\t\t\t\t\titems : data\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t\tsettings = IX.inherit(settings, cfg);\r\n\t\tvar tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_breadcrumb'));\r\n\t\tvar mapFn = $XF(settings, 'mapRenderData');\r\n\t\tvar $breadCrumb = $(tpl(mapFn($XP(settings, 'nodes'), $XP(settings, 'hideRoot', false), $XP(settings, 'clz', ''))));\r\n\t\tsettings.container.empty().append($breadCrumb);\r\n\t\t$breadCrumb.on('click', 'a', function (e) {\r\n\t\t\t$XF(settings, 'clickFn').apply(this, e);\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tbreadCrumb : $breadCrumb,\r\n\t\t\tshow : function () {$breadCrumb.show();},\r\n\t\t\thide : function () {$breadCrumb.hide();}\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t *  \r\n\t * @param {Object} cfg \r\n\t *        @param {jQuery Obj} container $('body')\r\n\t *        @param {String} title ...\r\n\t *        @param {String} modalClz \r\n\t *        @param {Int} start 20\r\n\t *        @param {String} progressClz ,progress-bar-warning progress-bar-striped active\r\n\t *        @param {Function} afterShow \r\n\t *        @param {Function} afterHide \r\n\t */\r\n\tvar LoadingModal = function (cfg) {\r\n\t\tvar $container = $XP(cfg, 'container', $('body')),\r\n\t\t\ttitle = $XP(cfg, 'msg', \"...\"),\r\n\t\t\tmodalClz = $XP(cfg, 'modalClz', ''),\r\n\t\t\tstart = $XP(cfg, 'start', 20),\r\n\t\t\tmin = $XP(cfg, 'min', 0),\r\n\t\t\tmax = $XP(cfg, 'max', 100),\r\n\t\t\tprogressClz = $XP(cfg, 'progressClz', 'progress-bar-warning progress-bar-striped active'),\r\n\t\t\tafterShow = $XF(cfg, 'afterShow'),\r\n\t\t\tafterHide = $XF(cfg, 'afterHide');\r\n\t\tvar progressTpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_progress'));\r\n\t\tvar percent = Hualala.Common.Math.div(start, Hualala.Common.Math.sub(max, min));\r\n\t\tvar modal = new ModalDialog({\r\n\t\t\tid : 'ix_progress_' + IX.id(),\r\n\t\t\tclz : 'x-progress',\r\n\t\t\ttitle : title,\r\n\t\t\tshowTitle : true,\r\n\t\t\tshowFooter : false,\r\n\t\t\tbackdrop : 'static',\r\n\t\t\tafterHide : afterHide,\r\n\t\t\tafterShow : afterShow\r\n\t\t});\r\n\t\tvar $dialog = modal._.dialog,\r\n\t\t\t$header = modal._.header,\r\n\t\t\t$body = modal._.body,\r\n\t\t\t$footer = modal._.footer;\r\n\t\t$body.html(progressTpl({\r\n\t\t\tprogressClz : progressClz,\r\n\t\t\tstart : start,\r\n\t\t\tmin : min,\r\n\t\t\tmax : max,\r\n\t\t\tpercent : Hualala.Common.Math.multi(Hualala.Common.Math.numberToFixed(percent, 2), 100) + '%'\r\n\t\t}));\r\n\t\treturn {\r\n\t\t\tmodal : modal,\r\n\t\t\tshow : function () {\r\n\t\t\t\tmodal.show();\r\n\t\t\t},\r\n\t\t\thide : function () {\r\n\t\t\t\tmodal.hide();\r\n\t\t\t},\r\n\t\t\tupdateProgress : function (curProgress) {\r\n\t\t\t\tstart = curProgress;\r\n\t\t\t\tpercent = Hualala.Common.Math.div(start, Hualala.Common.Math.sub(max, min));\r\n\t\t\t\tvar s = Hualala.Common.Math.multi(Hualala.Common.Math.numberToFixed(percent, 2), 100) + '%';\r\n\t\t\t\t$body.find('.progress-bar').attr('aria-valuenow', start).css('width', s);\r\n\t\t\t\t$body.find('.progress-bar>span').html(s);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n    /*\r\n    options = {\r\n        onSuccess: function () {},\r\n        onTooLarge: function () {},\r\n        onConcel: function () {},\r\n        onStart: function () {}\r\n    }*/\r\n    var uploadImg = function uploadImg(options)\r\n    {\r\n        var defaults = {\r\n            onSuccess: function () {},\r\n            onTooLarge: function () {},\r\n            onTooSmall: function () {},\r\n            onStart: function () {},\r\n            onBefore: function () {},\r\n            minSize: 100,\r\n            saveSize: 600\r\n        };\r\n        var opts = $.extend(defaults, options);\r\n        var G = Hualala.Global,\r\n            swfRoot = G.SWF_ROOT + '/',\r\n            swfSrc = swfRoot + 'hualalaImageUpload.swf',\r\n            args = 'swfId=txsc&uploadDataFieldName=upload&uploadSvrURL=http://file.hualala.com/upload&iconsURL=' + swfRoot +'icons&avaQuality=70&minImgFRule=' + opts.minSize + '&saveImgRule=' + opts.saveSize;\r\n            \r\n        var tpl = Handlebars.compile(Hualala.TplLib.get('tpl_site_uploadimg')),\r\n            $tpl = $(tpl({swfSrc: swfSrc, args: args}));\r\n        \r\n        var $dialog = $tpl.appendTo('body')\r\n            .modal({backdrop : 'static', keyboard: false});\r\n        \r\n        opts.onConcel = opts.onConcel || function () { $dialog.modal('hide'); };\r\n        if(typeof opts.onBefore == 'function') opts.onBefore($dialog);\r\n        \r\n        var topTip = Hualala.UI.TopTip;\r\n        window.Head_Pic_Rece_URL = function (imgPath, swfId) \r\n        {\r\n            if (\"IOError\" === imgPath)\r\n            {\r\n                topTip({msg: ''});\r\n                return;\r\n            }\r\n            \r\n            topTip({type: 'success', msg: ''});\r\n            opts.onSuccess(imgPath, $dialog);\r\n        };\r\n        window.imageTooLarge = function (swfId) \r\n        {\r\n            topTip({msg: ''});\r\n            opts.onTooLarge();\r\n        };\r\n        window.imageTooSmall = function (swfId) \r\n        {\r\n            topTip({msg: ''});\r\n            opts.onTooSmall();\r\n        };\r\n        window.Head_Pic_Cancel = function(swfId) { opts.onConcel($dialog); };\r\n        window.uploadStart = function(swfId) { opts.onStart(); };\r\n        \r\n    }\r\n    /**\r\n\t *  \r\n\t * @param {jQuery Object} $elem \r\n\t * @param {Function} onSuccess \r\n\t * @param {Object} options  {\r\n                action: formaction '/imageUpload.action',\r\n                inputFileName: file 'myFile',\r\n                accept: fileaccept 'image/gif,image/jpeg,image/png,image/jpg,image/bmp',\r\n                dataType: $.ajsxdataType 'json'\r\n                onFail: \r\n                onProgress: \r\n            }\r\n\t */\r\n    function imgUpload($elem, onSuccess, options)\r\n    {\r\n        var defaults = {\r\n                action: '/imageUpload.action',\r\n                inputFileName: 'myFile',\r\n                accept: 'image/gif,image/jpeg,image/png,image/jpg,image/bmp',\r\n                dataType: 'json'\r\n            },\r\n            cfg = $.extend({}, defaults, options);\r\n            \r\n        var $form = $('<form method=\"post\" enctype=\"multipart/form-data\">')\r\n                .attr('action', cfg.action);\r\n                \r\n        var isBtn = $elem.is('button');\r\n        if(isBtn) $elem.attr('data-uploading-text', '...');\r\n        \r\n        $elem.click(function()\r\n        {\r\n            $('<input type=\"file\">')\r\n            .attr('name', cfg.inputFileName)\r\n            .attr('accept', cfg.accept)\r\n            .appendTo($form.empty())\r\n            .change(function()\r\n            {\r\n                if(isBtn) $elem.attr('disabled', 'disabled').button('uploading');\r\n                var jqxhr = $form.ajaxSubmit({\r\n                    dataType: cfg.dataType,\r\n                    uploadProgress: cfg.onProgress || function(){}\r\n                }).data('jqxhr');\r\n                jqxhr.done(function(rsp)\r\n                {\r\n                    if(rsp.status == 'success')\r\n                    {\r\n                        setTimeout(function()\r\n                        {\r\n                            TopTip({msg: '', type: 'success'}); \r\n                        }, 1000);\r\n                        onSuccess && onSuccess(rsp);\r\n                    }\r\n                    else\r\n                    {\r\n                        TopTip({msg: '', type: 'danger'});\r\n                        cfg.onFail && cfg.onFail(rsp);\r\n                    }\r\n                })\r\n                .fail(function(rsp)\r\n                {\r\n                    TopTip({msg: '', type: 'danger'});\r\n                    cfg.onFail && cfg.onFail(rsp);\r\n                })\r\n                .always(function()\r\n                {\r\n                    if(isBtn)\r\n                        setTimeout(function()\r\n                        {\r\n                            $elem.removeAttr('disabled').button('reset');\r\n                        }, 1000);\r\n                });\r\n            })\r\n            .click();\r\n        });\r\n    }\r\n    \r\n    function fillSelect($select, items, k, t, dk, dt)\r\n    {\r\n        var options = [];\r\n        if(dk !== false && $.isArray(items))\r\n        {\r\n            items = items.slice();\r\n            var firstItem = {};\r\n            firstItem[k] = dk || '';\r\n            firstItem[t] = dt || '';\r\n            items.unshift(firstItem);\r\n        }\r\n        \r\n        if($.isArray(items))\r\n            for(var i = 0, item; item = items[i++];)\r\n                options.push($('<option>').val(item[k]).text(item[t]));\r\n        else if($.isPlainObject(items))\r\n            for(var key in items)\r\n                options.push($('<option>').val(key).text(items[key]));\r\n        \r\n        return $select.html(options);\r\n    };\r\n    \r\n    function createChosen($select, items, k, t, cfg, defaultItem, cv)\r\n    {\r\n        items = items.slice();\r\n        cfg = cfg || {};\r\n        if(defaultItem !== false)\r\n        {\r\n            defaultItem = defaultItem || {};\r\n            var firstItem = { py: defaultItem.py || 'quan;bu' };\r\n            firstItem[k] = defaultItem[k] || '';\r\n            firstItem[t] = defaultItem[t] || '';\r\n            items.unshift(firstItem);\r\n        }\r\n        \r\n        var matcher = (new Pymatch([])),\r\n            getMatchedFn = function (searchText)\r\n            {\r\n                matcher.setNames(_.map(items, function (el)\r\n                {\r\n                    return IX.inherit(el, {\r\n                        name : el[cfg.matchField || t],\r\n                        py : el.py\r\n                    });\r\n                }));\r\n                \r\n                var matchedSections = matcher.match(searchText),\r\n                    matchedOptions = {};\r\n                \r\n                _.each(matchedSections, function (el, i) {\r\n                    matchedOptions[el[0][k]] = true;\r\n                });\r\n                return matchedOptions;\r\n            },\r\n            opts = {\r\n                placeholder_text : \"\",\r\n                // max_selected_options: 1,\r\n                no_results_text : \"\",\r\n                allow_single_deselect : true,\r\n                getMatchedFn : getMatchedFn\r\n            };\r\n        fillSelect($select, items, k, t, false);\r\n        var obj = {};\r\n        obj[k] = cv;\r\n        cv = _.findWhere(items, obj) ? cv : items[0] ? items[0][k] : '';\r\n        cv && $select.val(cv);\r\n        return $select.chosen($.extend(opts, cfg || {}));\r\n    };\r\n    \r\n    function createSchemaChosen($shopSelect, $citySelect)\r\n    {\r\n        Hualala.Global.getShopQuerySchema({}, function(rsp)\r\n        {\r\n            if(rsp.resultcode != '000')\r\n            {\r\n                rsp.resultmsg && topTip({msg: rsp.resultmsg, type: 'danger'});\r\n                return;\r\n            }\r\n            var shops = rsp.data.shops, cities = rsp.data.cities;\r\n            $citySelect && createChosen($citySelect, cities, 'cityID', 'cityName');\r\n            $shopSelect && createChosen($shopSelect, shops, 'shopID', 'shopName');\r\n            \r\n            if($citySelect && $shopSelect)\r\n            {\r\n                $citySelect.change(function()\r\n                {\r\n                    var that = this;\r\n                    \r\n                    var retShops = !that.value ? shops : _.filter(shops, function(shop)\r\n                    {\r\n                        return shop.cityID == that.value;\r\n                    })\r\n                    $shopSelect.siblings('.chosen-container').remove();\r\n                    createChosen($shopSelect.show().data('chosen', null), retShops, 'shopID', 'shopName');\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\tHualala.UI.PopoverMsgTip = PopoverMsgTip;\r\n\tHualala.UI.TopTip = TopTip;\r\n\tHualala.UI.ModalDialog = ModalDialog;\r\n\tHualala.UI.Alert = Alert;\r\n\tHualala.UI.Confirm = Confirm;\r\n\tHualala.UI.EmptyPlaceholder = EmptyPlaceholder;\r\n\tHualala.UI.BreadCrumb = BreadCrumb;\r\n\tHualala.UI.LoadingModal = LoadingModal;\r\n    \r\n    Hualala.UI.uploadImg = uploadImg;\r\n    Hualala.UI.imgUpload = imgUpload;\r\n    Hualala.UI.fillSelect = fillSelect;\r\n    Hualala.UI.createChosen = createChosen;\r\n    Hualala.UI.createSchemaChosen = createSchemaChosen;\r\n    \r\n    \r\n})(jQuery, window);\r\n\r\n/*!\r\n * jQuery twitter bootstrap wizard plugin\r\n * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard\r\n * version 1.0\r\n * Requires jQuery v1.3.2 or later\r\n * Supports Bootstrap 2.2.x, 2.3.x, 3.0\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)\r\n */\r\n;(function($) {\r\n\tvar bootstrapWizardCreate = function(element, options) {\r\n\t\tvar element = $(element);\r\n\t\tvar obj = this;\r\n\t\t\r\n\t\t// selector skips any 'li' elements that do not contain a child with a tab data-toggle\r\n\t\tvar baseItemSelector = 'li:has([data-toggle=\"tab\"])';\r\n\t\tvar historyStack = [];\r\n\r\n\t\t// Merge options with defaults\r\n\t\tvar $settings = $.extend({}, $.fn.bsWizard.defaults, options);\r\n\t\tvar $activeTab = null;\r\n\t\tvar $navigation = null;\r\n\t\t\r\n\t\tthis.rebindClick = function(selector, fn)\r\n\t\t{\r\n\t\t\tselector.unbind('click', fn).bind('click', fn);\r\n\t\t}\r\n\r\n\t\tthis.fixNavigationButtons = function() {\r\n\t\t\t// Get the current active tab\r\n\t\t\tif(!$activeTab.length) {\r\n\t\t\t\t// Select first one\r\n\t\t\t\t$navigation.find('a:first').tab('show');\r\n\t\t\t\t$activeTab = $navigation.find(baseItemSelector + ':first');\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// See if we're currently in the first/last then disable the previous and last buttons\r\n\t\t\t$($settings.previousSelector, element).toggleClass('disabled', (obj.firstIndex() >= obj.currentIndex()));\r\n\t\t\t$($settings.nextSelector, element).toggleClass('disabled', (obj.currentIndex() >= obj.navigationLength()));\r\n\t\t\t$($settings.nextSelector, element).toggleClass('hidden', (obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0));\r\n\t\t\t$($settings.lastSelector, element).toggleClass('hidden', (obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0));\r\n\t\t\t$($settings.finishSelector, element).toggleClass('hidden', (obj.currentIndex() < obj.navigationLength()));\r\n\t\t\t$($settings.backSelector, element).toggleClass('disabled', (historyStack.length == 0));\r\n\t\t\t$($settings.backSelector, element).toggleClass('hidden', (obj.currentIndex() >= obj.navigationLength() && $($settings.finishSelector, element).length > 0));\r\n\r\n\t\t\t// We are unbinding and rebinding to ensure single firing and no double-click errors\r\n\t\t\tobj.rebindClick($($settings.nextSelector, element), obj.next);\r\n\t\t\tobj.rebindClick($($settings.previousSelector, element), obj.previous);\r\n\t\t\tobj.rebindClick($($settings.lastSelector, element), obj.last);\r\n\t\t\tobj.rebindClick($($settings.firstSelector, element), obj.first);\r\n\t\t\tobj.rebindClick($($settings.finishSelector, element), obj.finish);\r\n\t\t\tobj.rebindClick($($settings.backSelector, element), obj.back);\r\n\r\n\t\t\tif($settings.onTabShow && typeof $settings.onTabShow === 'function' && $settings.onTabShow($activeTab, $navigation, obj.currentIndex())===false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.next = function(e) {\r\n\t\t\t// If we clicked the last then dont activate this\r\n\t\t\tif(element.hasClass('last')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif($settings.onNext && typeof $settings.onNext === 'function' && $settings.onNext($activeTab, $navigation, obj.nextIndex())===false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar formerIndex = obj.currentIndex();\r\n\t\t\t$index = obj.nextIndex();\r\n\r\n\t\t  // Did we click the last button\r\n\t\t\tif($index > obj.navigationLength()) {\r\n\t\t\t} else {\r\n\t\t\t  historyStack.push(formerIndex);\r\n\t\t\t  $navigation.find(baseItemSelector + ':eq(' + $index + ') a').tab('show');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.previous = function(e) {\r\n\t\t\t// If we clicked the first then dont activate this\r\n\t\t\tif(element.hasClass('first')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif($settings.onPrevious && typeof $settings.onPrevious === 'function' && $settings.onPrevious($activeTab, $navigation, obj.previousIndex())===false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar formerIndex = obj.currentIndex();\r\n\t\t\t$index = obj.previousIndex();\r\n\r\n\t\t\tif($index < 0) {\r\n\t\t\t} else {\r\n\t\t\t  historyStack.push(formerIndex);\r\n\t\t\t  $navigation.find(baseItemSelector + ':eq(' + $index + ') a').tab('show');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.first = function (e) {\r\n\t\t\tif($settings.onFirst && typeof $settings.onFirst === 'function' && $settings.onFirst($activeTab, $navigation, obj.firstIndex())===false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// If the element is disabled then we won't do anything\r\n\t\t\tif(element.hasClass('disabled')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\thistoryStack.push(obj.currentIndex());\r\n\t\t\t$navigation.find(baseItemSelector + ':eq(0) a').tab('show');\r\n\t\t};\r\n\r\n\t\tthis.last = function(e) {\r\n\t\t\tif($settings.onLast && typeof $settings.onLast === 'function' && $settings.onLast($activeTab, $navigation, obj.lastIndex())===false){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// If the element is disabled then we won't do anything\r\n\t\t\tif(element.hasClass('disabled')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\thistoryStack.push(obj.currentIndex());\r\n\t\t\t$navigation.find(baseItemSelector + ':eq(' + obj.navigationLength() + ') a').tab('show');\r\n\t\t};\r\n\r\n\t\tthis.finish = function (e) {\r\n\t\t  if ($settings.onFinish && typeof $settings.onFinish === 'function') {\r\n\t\t    $settings.onFinish($activeTab, $navigation, obj.lastIndex());\r\n\t\t  }\r\n\t\t};\r\n\r\n\t\tthis.back = function () {\r\n\t\t  if (historyStack.length == 0) {\r\n\t\t    return null;\r\n\t\t  }\r\n\r\n\t\t  var formerIndex = historyStack.pop();\r\n\t\t  if ($settings.onBack && typeof $settings.onBack === 'function' && $settings.onBack($activeTab, $navigation, formerIndex) === false) {\r\n\t\t    historyStack.push(formerIndex);\r\n\t\t    return false;\r\n\t\t  }\r\n\r\n\t\t  element.find(baseItemSelector + ':eq(' + formerIndex + ') a').tab('show');\r\n\t\t};\r\n\r\n\t\tthis.currentIndex = function() {\r\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab);\r\n\t\t};\r\n\r\n\t\tthis.firstIndex = function() {\r\n\t\t\treturn 0;\r\n\t\t};\r\n\r\n\t\tthis.lastIndex = function() {\r\n\t\t\treturn obj.navigationLength();\r\n\t\t};\r\n\t\tthis.getIndex = function(e) {\r\n\t\t\treturn $navigation.find(baseItemSelector).index(e);\r\n\t\t};\r\n\t\tthis.nextIndex = function() {\r\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab) + 1;\r\n\t\t};\r\n\t\tthis.previousIndex = function() {\r\n\t\t\treturn $navigation.find(baseItemSelector).index($activeTab) - 1;\r\n\t\t};\r\n\t\tthis.navigationLength = function() {\r\n\t\t\treturn $navigation.find(baseItemSelector).length - 1;\r\n\t\t};\r\n\t\tthis.activeTab = function() {\r\n\t\t\treturn $activeTab;\r\n\t\t};\r\n\t\tthis.nextTab = function() {\r\n\t\t\treturn $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')').length ? $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')') : null;\r\n\t\t};\r\n\t\tthis.previousTab = function() {\r\n\t\t\tif(obj.currentIndex() <= 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn $navigation.find(baseItemSelector + ':eq('+parseInt(obj.currentIndex()-1)+')');\r\n\t\t};\r\n\t\tthis.show = function(index) {\r\n\t\t  var tabToShow = isNaN(index) ? \r\n\t      element.find(baseItemSelector + ' a[href=#' + index + ']') : \r\n\t      element.find(baseItemSelector + ':eq(' + index + ') a');\r\n\t\t  if (tabToShow.length > 0) {\r\n\t\t    historyStack.push(obj.currentIndex());\r\n\t\t    tabToShow.tab('show');\r\n\t\t  }\r\n\t\t};\r\n\t\tthis.disable = function (index) {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+index+')').addClass('disabled');\r\n\t\t};\r\n\t\tthis.enable = function(index) {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+index+')').removeClass('disabled');\r\n\t\t};\r\n\t\tthis.hide = function(index) {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+index+')').hide();\r\n\t\t};\r\n\t\tthis.display = function(index) {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+index+')').show();\r\n\t\t};\r\n\t\tthis.remove = function(args) {\r\n\t\t\tvar $index = args[0];\r\n\t\t\tvar $removeTabPane = typeof args[1] != 'undefined' ? args[1] : false;\r\n\t\t\tvar $item = $navigation.find(baseItemSelector + ':eq('+$index+')');\r\n\r\n\t\t\t// Remove the tab pane first if needed\r\n\t\t\tif($removeTabPane) {\r\n\t\t\t\tvar $href = $item.find('a').attr('href');\r\n\t\t\t\t$($href).remove();\r\n\t\t\t}\r\n\r\n\t\t\t// Remove menu item\r\n\t\t\t$item.remove();\r\n\t\t};\r\n\t\t\r\n\t\tvar innerTabClick = function (e) {\r\n\t\t\t// Get the index of the clicked tab\r\n\t\t\tvar $ul = $navigation.find(baseItemSelector);\r\n\t\t\tvar clickedIndex = $ul.index($(e.currentTarget).parent(baseItemSelector));\r\n\t\t\tvar $clickedTab = $( $ul[clickedIndex] );\r\n\t\t\tif($settings.onTabClick && typeof $settings.onTabClick === 'function' && $settings.onTabClick($activeTab, $navigation, obj.currentIndex(), clickedIndex, $clickedTab)===false){\r\n\t\t\t    return false;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tvar innerTabShown = function (e) {  // use shown instead of show to help prevent double firing\r\n\t\t\t$element = $(e.target).parent();\r\n\t\t\tvar nextTab = $navigation.find(baseItemSelector).index($element);\r\n\r\n\t\t\t// If it's disabled then do not change\r\n\t\t\tif($element.hasClass('disabled')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif($settings.onTabChange && typeof $settings.onTabChange === 'function' && $settings.onTabChange($activeTab, $navigation, obj.currentIndex(), nextTab)===false){\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t$activeTab = $element; // activated tab\r\n\t\t\tobj.fixNavigationButtons();\r\n\t\t};\r\n\t\t\r\n\t\tthis.resetWizard = function() {\r\n\t\t\t\r\n\t\t\t// remove the existing handlers\r\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).off('click', innerTabClick);\r\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).off('shown shown.bs.tab', innerTabShown);\r\n\t\t\t\r\n\t\t\t// reset elements based on current state of the DOM\r\n\t\t\t$navigation = element.find('ul:first', element);\r\n\t\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\r\n\t\t\t\r\n\t\t\t// re-add handlers\r\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\r\n\t\t\t$('a[data-toggle=\"tab\"]', $navigation).on('shown shown.bs.tab', innerTabShown);\r\n\t\t\t\r\n\t\t\tobj.fixNavigationButtons();\r\n\t\t};\r\n\r\n\t\t$navigation = element.find('ul:first', element);\r\n\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\r\n\r\n\t\tif(!$navigation.hasClass($settings.tabClass)) {\r\n\t\t\t$navigation.addClass($settings.tabClass);\r\n\t\t}\r\n\r\n\t\t// Load onInit\r\n\t\tif($settings.onInit && typeof $settings.onInit === 'function'){\r\n\t\t\t$settings.onInit($activeTab, $navigation, 0);\r\n\t\t}\r\n\r\n\t\t// Load onShow\r\n\t\tif($settings.onShow && typeof $settings.onShow === 'function'){\r\n\t\t\t$settings.onShow($activeTab, $navigation, obj.nextIndex());\r\n\t\t}\r\n\r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\r\n\r\n\t\t// attach to both shown and shown.bs.tab to support Bootstrap versions 2.3.2 and 3.0.0\r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('shown shown.bs.tab', innerTabShown);\r\n\t};\r\n\t$.fn.bsWizard = function(options) {\r\n\t\t//expose methods\r\n\t\tif (typeof options == 'string') {\r\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1)\r\n\t\t\tif(args.length === 1) {\r\n\t\t\t\targs.toString();\r\n\t\t\t}\r\n\t\t\treturn this.data('bootstrapWizard')[options](args);\r\n\t\t}\r\n\t\treturn this.each(function(index){\r\n\t\t\tvar element = $(this);\r\n\t\t\t// Return early if this element already has a plugin instance\r\n\t\t\tif (element.data('bootstrapWizard')) return;\r\n\t\t\t// pass options to plugin constructor\r\n\t\t\tvar wizard = new bootstrapWizardCreate(element, options);\r\n\t\t\t// Store plugin object in this element's data\r\n\t\t\telement.data('bootstrapWizard', wizard);\r\n\t\t\t// and then trigger initial change\r\n\t\t\twizard.fixNavigationButtons();\r\n\t\t});\r\n\t};\r\n\r\n\t// expose options\r\n\t$.fn.bsWizard.defaults = {\r\n\t\ttabClass:         'nav nav-pills',\r\n\t\tnextSelector:     '.wizard li.next',\r\n\t\tpreviousSelector: '.wizard li.previous',\r\n\t\tfirstSelector:    '.wizard li.first',\r\n\t\tlastSelector:     '.wizard li.last',\r\n\t  finishSelector:   '.wizard li.finish',\r\n\t\tbackSelector:     '.wizard li.back',\r\n\t\tonShow:           null,\r\n\t\tonInit:           null,\r\n\t\tonNext:           null,\r\n\t\tonPrevious:       null,\r\n\t\tonLast:           null,\r\n\t\tonFirst:          null,\r\n\t  onFinish:         null,\r\n\t  onBack:           null,\r\n\t\tonTabChange:      null, \r\n\t\tonTabClick:       null,\r\n\t\tonTabShow:        null\r\n\t};\r\n\r\n})(jQuery);;(function ($, window) {\r\n\t/**\r\n\t * bootstrap\r\n\t * @param {Object} options \r\n\t *     @param {Int} total total pges count\r\n\t *     @param {Int} page start page number\r\n\t *     @param {Int} maxVisible ()\r\n\t *     @param {Boolean} leaps \r\n\t *     @param {String Template} href \r\n\t *     @param {String} hrefVar href\r\n\t *     @param {Html} next Next Btn \r\n\t *     @param {Html} prev Prev Btn \r\n\t *     \r\n\t */\r\n\t$.fn.IXPager = function (options) {\r\n\t\tvar $self = this,\r\n\t\t\tsettings = $.extend({\r\n\t\t\t\ttotal : 0,\r\n\t\t\t\tpage : 1,\r\n\t\t\t\tmaxVisible : null,\r\n\t\t\t\tleaps : true,\r\n\t\t\t\thref : '#page_{{number}}',\r\n\t\t\t\threfVar : '{{number}}',\r\n\t\t\t\tnext : '&raquo;',\r\n\t\t\t\tprev : '&laquo;'\r\n\t\t\t}, \r\n\t\t\t$self.data('settings') || {}, \r\n\t\t\toptions || {});\r\n        \r\n        this.toggleClass('hidden', settings.total <= 1);\r\n\t\tif (settings.total <= 1 ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t// \r\n\t\tif (!$.isNumeric(settings.maxVisible) && !settings.maxVisible) {\r\n\t\t\tsettings.maxVisible = settings.total;\r\n\t\t}\r\n\t\t// \r\n\t\t$self.data('settings', settings);\r\n\r\n\t\tvar genHref = function (n) {\r\n\t\t\treturn settings.href.replace(settings.hrefVar, n);\r\n\t\t};\r\n\r\n\t\tvar renderPager = function ($IXPager, page) {\r\n\t\t\tvar pg, maxV = settings.maxVisible == 0 ? 1 : settings.maxVisible,\r\n\t\t\t\tstep = settings.maxVisible == 1 ? 0 : 1,\r\n\t\t\t\tvis = Math.floor((page - 1) / maxV) * maxV,\r\n\t\t\t\t$pages = $IXPager.find('li');\r\n\t\t\tsettings.page = page = page < 0 ? 0 : page > settings.total ? settings.total : page;\r\n\t\t\t$pages.removeClass('disabled');\r\n\t\t\tpg = page - 1 < 1 ? 1 \r\n\t\t\t\t: (settings.leaps && page - 1 >= settings.maxVisible) \r\n\t\t\t\t? (Math.floor((page - 1) / maxV) * maxV) : (page - 1);\r\n\t\t\t$pages.first().toggleClass('disabled', page === 1)\r\n\t\t\t\t.attr('data-pg', pg).find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tpg = (page + 1) > settings.total ? settings.total : \r\n\t\t\t\t(settings.leaps && page + 1 < settings.total - settings.maxVisible) ?\r\n\t\t\t\t(vis + settings.maxVisible + step) : (page + 1);\r\n\t\t\t$pages.last().toggleClass('disabled', page === settings.total).attr('data-pg', pg)\r\n\t\t\t\t.find('a').attr('href', genHref(pg));\r\n\r\n\t\t\tvar $curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\tif (!$curPage.not('.ix-pager-next, .ix-pager-prev').length) {\r\n\t\t\t\tvar d = page <= vis ? -settings.maxVisible : 0;\r\n\t\t\t\t$pages.not('.ix-pager-next, .ix-pager-prev').each(function (index) {\r\n\t\t\t\t\tpg = index + 1 + vis + d;\r\n\t\t\t\t\t$(this).attr('data-pg', pg).toggle(pg <= settings.total)\r\n\t\t\t\t\t\t.find('a').html(pg).attr('href', genHref(pg));\r\n\t\t\t\t});\r\n\t\t\t\t$curPage = $pages.filter('[data-pg=' + page + ']');\r\n\t\t\t}\r\n\t\t\t$curPage.addClass('disabled');\r\n\t\t\t$self.data('settings', settings);\r\n\t\t};\r\n\r\n\t\treturn this.each(function () {\r\n\t\t\tvar $IXPager, pg, $this = $(this),\r\n\t\t\t\thtm = ['<ul class=\"pagination ix-pager\">'];\r\n            \r\n\t\t\tif (settings.prev) {\r\n\t\t\t\thtm.push('<li data-pg=\"1\" class=\"ix-pager-prev\"><a href=\"' + genHref(1) + '\">' + settings.prev + '</a></li>');\r\n\t\t\t}\r\n\t\t\tfor (var c = 1; c <= Math.min(settings.total, settings.maxVisible); c++) {\r\n\t\t\t\thtm.push('<li data-pg=\"' + c + '\"><a href=\"' + genHref(c) + '\">' + c + '</a></li>');\r\n\t\t\t}\r\n\t\t\t// if (settings.total == 0) {\r\n\t\t\t// \thtm.push('<li data-pg=\"' + 1 + '\" class=\"disabled\"><a href=\"' + genHref(c) + '\">' + 1 + '</a></li>');\r\n\t\t\t// }\r\n\t\t\tif (settings.next) {\r\n\t\t\t\tpg = settings.leaps && settings.total > settings.maxVisible \r\n\t\t\t\t\t? Math.min(settings.maxVisible + 1, settings.total) : 2;\r\n\t\t\t\thtm.push('<li data-pg=\"' + pg + '\" class=\"ix-pager-next\"><a href=\"' + genHref(pg) + '\">' + settings.next + '</a></li>');\r\n\t\t\t}\r\n\t\t\thtm.push('</ul>');\r\n\t\t\t$this.find('ul.ix-pager').remove();\r\n\t\t\t$this.append(htm.join(''));\r\n\t\t\t$IXPager = $this.find('ul.ix-pager');\r\n\t\t\t$IXPager.delegate('li', 'click', function paginationClickFn() {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tpage = parseInt($this.attr('data-pg'), 10);\r\n\t\t\t\tif ($this.hasClass('disabled')) {\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\trenderPager($IXPager, page);\r\n\t\t\t\t$self.trigger('page', page)\r\n\t\t\t});\r\n\t\t\trenderPager($IXPager, settings.page);\r\n\t\t});\r\n\t};\r\n})(jQuery, window);\r\n;/* ========================================================================\r\n * bootstrap-switch - v3.0.2\r\n * http://www.bootstrap-switch.org\r\n * ========================================================================\r\n * Copyright 2012-2013 Mattia Larentis\r\n *\r\n * ========================================================================\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *\t\t http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================================\r\n */\r\n\r\n(function() {\r\n\tvar __slice = [].slice;\r\n\r\n\t(function($, window) {\r\n\t\t\"use strict\";\r\n\t\tvar BootstrapSwitch;\r\n\t\tBootstrapSwitch = (function() {\r\n\t\t\tfunction BootstrapSwitch(element, options) {\r\n\t\t\t\tif (options == null) {\r\n\t\t\t\t\toptions = {};\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element = $(element);\r\n\t\t\t\tthis.options = $.extend({}, $.fn.bootstrapSwitch.defaults, {\r\n\t\t\t\t\tstate: this.$element.is(\":checked\"),\r\n\t\t\t\t\tsize: this.$element.data(\"size\"),\r\n\t\t\t\t\tanimate: this.$element.data(\"animate\"),\r\n\t\t\t\t\tdisabled: this.$element.is(\":disabled\"),\r\n\t\t\t\t\treadonly: this.$element.is(\"[readonly]\"),\r\n\t\t\t\t\tindeterminate: this.$element.data(\"indeterminate\"),\r\n\t\t\t\t\tonColor: this.$element.data(\"on-color\"),\r\n\t\t\t\t\toffColor: this.$element.data(\"off-color\"),\r\n\t\t\t\t\tonText: this.$element.data(\"on-text\"),\r\n\t\t\t\t\toffText: this.$element.data(\"off-text\"),\r\n\t\t\t\t\tlabelText: this.$element.data(\"label-text\"),\r\n\t\t\t\t\tbaseClass: this.$element.data(\"base-class\"),\r\n\t\t\t\t\twrapperClass: this.$element.data(\"wrapper-class\"),\r\n\t\t\t\t\tradioAllOff: this.$element.data(\"radio-all-off\")\r\n\t\t\t\t}, options);\r\n\t\t\t\tthis.$wrapper = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": (function(_this) {\r\n\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\tvar classes;\r\n\t\t\t\t\t\t\tclasses = [\"\" + _this.options.baseClass].concat(_this._getClasses(_this.options.wrapperClass));\r\n\t\t\t\t\t\t\tclasses.push(_this.options.state ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (_this.options.size != null) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-\" + _this.options.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.disabled) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-disabled\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.readonly) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-readonly\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.$element.attr(\"id\")) {\r\n\t\t\t\t\t\t\t\tclasses.push(\"\" + _this.options.baseClass + \"-id-\" + (_this.$element.attr(\"id\")));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn classes.join(\" \");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)()\r\n\t\t\t\t});\r\n\t\t\t\tthis.$container = $(\"<div>\", {\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-container\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.$on = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.onText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-on \" + this.options.baseClass + \"-\" + this.options.onColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$off = $(\"<span>\", {\r\n\t\t\t\t\thtml: this.options.offText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-handle-off \" + this.options.baseClass + \"-\" + this.options.offColor\r\n\t\t\t\t});\r\n\t\t\t\tthis.$label = $(\"<label>\", {\r\n\t\t\t\t\thtml: this.options.labelText,\r\n\t\t\t\t\t\"class\": \"\" + this.options.baseClass + \"-label\"\r\n\t\t\t\t});\r\n\t\t\t\tif (this.options.indeterminate) {\r\n\t\t\t\t\tthis.$element.prop(\"indeterminate\", true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$element.on(\"init.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onInit.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$element.on(\"switchChange.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\treturn _this.options.onSwitchChange.apply(element, arguments);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\tthis.$container = this.$element.wrap(this.$container).parent();\r\n\t\t\t\tthis.$wrapper = this.$container.wrap(this.$wrapper).parent();\r\n\t\t\t\tthis.$element.before(this.$on).before(this.$label).before(this.$off).trigger(\"init.bootstrapSwitch\");\r\n\t\t\t\tthis._elementHandlers();\r\n\t\t\t\tthis._handleHandlers();\r\n\t\t\t\tthis._labelHandlers();\r\n\t\t\t\tthis._formHandler();\r\n\t\t\t}\r\n\r\n\t\t\tBootstrapSwitch.prototype._constructor = BootstrapSwitch;\r\n\r\n\t\t\tBootstrapSwitch.prototype.state = function(value, skip) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.state;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.state && !this.options.radioAllOff && this.$element.is(':radio')) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$element.prop(\"checked\", value).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleState = function(skip) {\r\n\t\t\t\tif (this.options.disabled || this.options.readonly || this.options.indeterminate) {\r\n\t\t\t\t\treturn this.$element;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$element.prop(\"checked\", !this.options.state).trigger(\"change.bootstrapSwitch\", skip);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.size = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.size;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.options.size != null) {\r\n\t\t\t\t\tthis.$wrapper.removeClass(\"\" + this.options.baseClass + \"-\" + this.options.size);\r\n\t\t\t\t}\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$wrapper.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.size = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.animate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.animate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-animate\");\r\n\t\t\t\tthis.options.animate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.disabled = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.disabled;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.$element.prop(\"disabled\", value);\r\n\t\t\t\tthis.options.disabled = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleDisabled = function() {\r\n\t\t\t\tthis.$element.prop(\"disabled\", !this.options.disabled);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-disabled\");\r\n\t\t\t\tthis.options.disabled = !this.options.disabled;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.readonly = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.readonly;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.$element.prop(\"readonly\", value);\r\n\t\t\t\tthis.options.readonly = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleReadonly = function() {\r\n\t\t\t\tthis.$element.prop(\"readonly\", !this.options.readonly);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-readonly\");\r\n\t\t\t\tthis.options.readonly = !this.options.readonly;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.indeterminate = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.indeterminate;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t\tthis.$wrapper[value ? \"addClass\" : \"removeClass\"](\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", value);\r\n\t\t\t\tthis.options.indeterminate = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.toggleIndeterminate = function() {\r\n\t\t\t\tthis.$element.prop(\"indeterminate\", !this.options.indeterminate);\r\n\t\t\t\tthis.$wrapper.toggleClass(\"\" + this.options.baseClass + \"-indeterminate\");\r\n\t\t\t\tthis.options.indeterminate = !this.options.indeterminate;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.onColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$on.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.onColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offColor = function(value) {\r\n\t\t\t\tvar color;\r\n\t\t\t\tcolor = this.options.offColor;\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn color;\r\n\t\t\t\t}\r\n\t\t\t\tif (color != null) {\r\n\t\t\t\t\tthis.$off.removeClass(\"\" + this.options.baseClass + \"-\" + color);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.addClass(\"\" + this.options.baseClass + \"-\" + value);\r\n\t\t\t\tthis.options.offColor = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$on.html(value);\r\n\t\t\t\tthis.options.onText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.offText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.offText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$off.html(value);\r\n\t\t\t\tthis.options.offText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.labelText = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.labelText;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$label.html(value);\r\n\t\t\t\tthis.options.labelText = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.baseClass = function(value) {\r\n\t\t\t\treturn this.options.baseClass;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.wrapperClass = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.wrapperClass;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(\" \"));\r\n\t\t\t\tthis.$wrapper.addClass(this._getClasses(value).join(\" \"));\r\n\t\t\t\tthis.options.wrapperClass = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.radioAllOff = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.radioAllOff;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.radioAllOff = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onInit = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onInit;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onInit = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.onSwitchChange = function(value) {\r\n\t\t\t\tif (typeof value === \"undefined\") {\r\n\t\t\t\t\treturn this.options.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = $.fn.bootstrapSwitch.defaults.onSwitchChange;\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.onSwitchChange = value;\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype.destroy = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.length) {\r\n\t\t\t\t\t$form.off(\"reset.bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.$container.children().not(this.$element).remove();\r\n\t\t\t\tthis.$element.unwrap().unwrap().off(\".bootstrapSwitch\").removeData(\"bootstrap-switch\");\r\n\t\t\t\treturn this.$element;\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._elementHandlers = function() {\r\n\t\t\t\treturn this.$element.on({\r\n\t\t\t\t\t\"change.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e, skip) {\r\n\t\t\t\t\t\t\tvar checked;\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\tchecked = _this.$element.is(\":checked\");\r\n\t\t\t\t\t\t\tif (checked === _this.options.state) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.options.state = checked;\r\n\t\t\t\t\t\t\t_this.$wrapper.removeClass(checked ? \"\" + _this.options.baseClass + \"-off\" : \"\" + _this.options.baseClass + \"-on\").addClass(checked ? \"\" + _this.options.baseClass + \"-on\" : \"\" + _this.options.baseClass + \"-off\");\r\n\t\t\t\t\t\t\tif (!skip) {\r\n\t\t\t\t\t\t\t\tif (_this.$element.is(\":radio\")) {\r\n\t\t\t\t\t\t\t\t\t$(\"[name='\" + (_this.$element.attr('name')) + \"']\").not(_this.$element).prop(\"checked\", false).trigger(\"change.bootstrapSwitch\", true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn _this.$element.trigger(\"switchChange.bootstrapSwitch\", [checked]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"focus.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"blur.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn _this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-focused\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"keydown.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!e.which || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tswitch (e.which) {\r\n\t\t\t\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(false);\r\n\t\t\t\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t\treturn _this.state(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._handleHandlers = function() {\r\n\t\t\t\tthis.$on.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(false);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t\treturn this.$off.on(\"click.bootstrapSwitch\", (function(_this) {\r\n\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t_this.state(true);\r\n\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._labelHandlers = function() {\r\n\t\t\t\treturn this.$label.on({\r\n\t\t\t\t\t\"mousemove.bootstrapSwitch touchmove.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tvar left, pageX, percent, right;\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragged = true;\r\n\t\t\t\t\t\t\tpageX = e.pageX || e.originalEvent.touches[0].pageX;\r\n\t\t\t\t\t\t\tpercent = ((pageX - _this.$wrapper.offset().left) / _this.$wrapper.width()) * 100;\r\n\t\t\t\t\t\t\tleft = 25;\r\n\t\t\t\t\t\t\tright = 75;\r\n\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t_this.$wrapper.removeClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (percent < left) {\r\n\t\t\t\t\t\t\t\tpercent = left;\r\n\t\t\t\t\t\t\t} else if (percent > right) {\r\n\t\t\t\t\t\t\t\tpercent = right;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\" + (percent - right) + \"%\");\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mousedown.bootstrapSwitch touchstart.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (_this.isLabelDragging || _this.options.disabled || _this.options.readonly || _this.options.indeterminate) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t_this.isLabelDragging = true;\r\n\t\t\t\t\t\t\treturn _this.$element.trigger(\"focus.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseup.bootstrapSwitch touchend.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\tif (!_this.isLabelDragging) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tif (_this.isLabelDragged) {\r\n\t\t\t\t\t\t\t\t_this.isLabelDragged = false;\r\n\t\t\t\t\t\t\t\t_this.state(parseInt(_this.$container.css(\"margin-left\"), 10) > -(_this.$container.width() / 6));\r\n\t\t\t\t\t\t\t\tif (_this.options.animate) {\r\n\t\t\t\t\t\t\t\t\t_this.$wrapper.addClass(\"\" + _this.options.baseClass + \"-animate\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.$container.css(\"margin-left\", \"\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.state(!_this.options.state);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn _this.isLabelDragging = false;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this),\r\n\t\t\t\t\t\"mouseleave.bootstrapSwitch\": (function(_this) {\r\n\t\t\t\t\t\treturn function(e) {\r\n\t\t\t\t\t\t\treturn _this.$label.trigger(\"mouseup.bootstrapSwitch\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})(this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._formHandler = function() {\r\n\t\t\t\tvar $form;\r\n\t\t\t\t$form = this.$element.closest(\"form\");\r\n\t\t\t\tif ($form.data(\"bootstrap-switch\")) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn $form.on(\"reset.bootstrapSwitch\", function() {\r\n\t\t\t\t\treturn window.setTimeout(function() {\r\n\t\t\t\t\t\treturn $form.find(\"input\").filter(function() {\r\n\t\t\t\t\t\t\treturn $(this).data(\"bootstrap-switch\");\r\n\t\t\t\t\t\t}).each(function() {\r\n\t\t\t\t\t\t\treturn $(this).bootstrapSwitch(\"state\", this.checked);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}).data(\"bootstrap-switch\", true);\r\n\t\t\t};\r\n\r\n\t\t\tBootstrapSwitch.prototype._getClasses = function(classes) {\r\n\t\t\t\tvar c, cls, _i, _len;\r\n\t\t\t\tif (!$.isArray(classes)) {\r\n\t\t\t\t\treturn [\"\" + this.options.baseClass + \"-\" + classes];\r\n\t\t\t\t}\r\n\t\t\t\tcls = [];\r\n\t\t\t\tfor (_i = 0, _len = classes.length; _i < _len; _i++) {\r\n\t\t\t\t\tc = classes[_i];\r\n\t\t\t\t\tcls.push(\"\" + this.options.baseClass + \"-\" + c);\r\n\t\t\t\t}\r\n\t\t\t\treturn cls;\r\n\t\t\t};\r\n\r\n\t\t\treturn BootstrapSwitch;\r\n\r\n\t\t})();\r\n\t\t$.fn.bootstrapSwitch = function() {\r\n\t\t\tvar args, option, ret;\r\n\t\t\toption = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n\t\t\tret = this;\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar $this, data;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tdata = $this.data(\"bootstrap-switch\");\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\t$this.data(\"bootstrap-switch\", data = new BootstrapSwitch(this, option));\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof option === \"string\") {\r\n\t\t\t\t\treturn ret = data[option].apply(data, args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\t$.fn.bootstrapSwitch.Constructor = BootstrapSwitch;\r\n\t\treturn $.fn.bootstrapSwitch.defaults = {\r\n\t\t\tstate: true,\r\n\t\t\tsize: null,\r\n\t\t\tanimate: true,\r\n\t\t\tdisabled: false,\r\n\t\t\treadonly: false,\r\n\t\t\tindeterminate: false,\r\n\t\t\tonColor: \"primary\",\r\n\t\t\toffColor: \"default\",\r\n\t\t\tonText: \"ON\",\r\n\t\t\toffText: \"OFF\",\r\n\t\t\tlabelText: \"&nbsp;\",\r\n\t\t\tbaseClass: \"bootstrap-switch\",\r\n\t\t\twrapperClass: \"wrapper\",\r\n\t\t\tradioAllOff: false,\r\n\t\t\tonInit: function() {},\r\n\t\t\tonSwitchChange: function() {}\r\n\t\t};\r\n\t})(window.jQuery, window);\r\n\r\n}).call(this);\r\n;/*!\r\n * @NOTE \r\n * bootstraptab/\r\n * HTMLbootstraptab\r\n * jQuery twitter bootstrap wizard plugin\r\n * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard\r\n * version 1.0\r\n * Requires jQuery v1.3.2 or later\r\n * Supports Bootstrap 2.2.x, 2.3.x, 3.0\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)\r\n */\r\n;(function($) {\r\nvar bootstrapWizardCreate = function(element, options) {\r\n\tvar element = $(element);\r\n\tvar obj = this;\r\n\t\r\n\t// selector skips any 'li' elements that do not contain a child with a tab data-toggle\r\n\tvar baseItemSelector = 'li:has([data-toggle=\"tab\"])';\r\n\r\n\t// Merge options with defaults\r\n\tvar $settings = $.extend({}, $.fn.bootstrapWizard.defaults, options),\r\n\t    $activeTab = null,\r\n        $navigation = null,\r\n        $stepAction = null;\r\n\t\r\n\tthis.rebindClick = function(selector, fn)\r\n\t{\r\n\t\tselector.unbind('click', fn).bind('click', fn);\r\n\t}\r\n\r\n\tthis.fixNavigationButtons = function() {\r\n\t\t// Get the current active tab\r\n\t\tif(!$activeTab.length) {\r\n\t\t\t// Select first one\r\n\t\t\t$navigation.find('a:first').tab('show');\r\n\t\t\t$activeTab = $navigation.find(baseItemSelector + ':first');\r\n\t\t}\r\n\r\n\t\t// See if we're currently in the first/last then disable the previous and last buttons\r\n\t\t$($settings.previousSelector, element).toggleClass($settings.unusableClass, (obj.firstIndex() >= obj.currentIndex()));\r\n\t\t$($settings.nextSelector, element).toggleClass($settings.unusableClass, (obj.currentIndex() >= obj.navigationLength()));\r\n        \r\n        if(obj.currentIndex() >= obj.navigationLength())\r\n        {\r\n            var lastAction = $settings.lastAction;\r\n            if(lastAction == 'remove' || !lastAction)\r\n                $stepAction.remove();\r\n            else if(lastAction == 'hide')\r\n                $stepAction.addClass('hidden');\r\n        }\r\n\r\n\t\t// We are unbinding and rebinding to ensure single firing and no double-click errors\r\n\t\tobj.rebindClick($($settings.nextSelector, element), obj.next);\r\n\t\tobj.rebindClick($($settings.previousSelector, element), obj.previous);\r\n\t\tobj.rebindClick($($settings.lastSelector, element), obj.last);\r\n\t\tobj.rebindClick($($settings.firstSelector, element), obj.first);\r\n        \r\n        //@NOTE:  BUG,  onTabChange \r\n\t\t/*if($settings.onTabShow && typeof $settings.onTabShow === 'function' && $settings.onTabShow(obj.activePane(), $activeTab, $navigation, obj.currentIndex())===false){\r\n\t\t\treturn false;\r\n\t\t}*/\r\n\t};\r\n\r\n\tthis.next = function(e) {\r\n\r\n\t\t// If we clicked the last then dont activate this\r\n\t\tif(element.hasClass('last')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif($settings.onNext && typeof $settings.onNext === 'function' && $settings.onNext(obj.activePane(), $activeTab, $navigation, obj.nextIndex())===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Did we click the last button\r\n\t\t$index = obj.nextIndex();\r\n\t\tif($index > obj.navigationLength()) {\r\n\t\t} else {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\r\n\t\t}\r\n        return this;\r\n\t};\r\n\r\n\tthis.previous = function(e) {\r\n\r\n\t\t// If we clicked the first then dont activate this\r\n\t\tif(element.hasClass('first')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif($settings.onPrevious && typeof $settings.onPrevious === 'function' && $settings.onPrevious(obj.activePane(), $activeTab, $navigation, obj.previousIndex())===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t$index = obj.previousIndex();\r\n\t\tif($index < 0) {\r\n\t\t} else {\r\n\t\t\t$navigation.find(baseItemSelector + ':eq('+$index+') a').tab('show');\r\n\t\t}\r\n        return this;\r\n\t};\r\n\r\n\tthis.first = function(e) {\r\n\t\tif($settings.onFirst && typeof $settings.onFirst === 'function' && $settings.onFirst(obj.activePane(), $activeTab, $navigation, obj.firstIndex())===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// If the element is disabled then we won't do anything\r\n\t\tif(element.hasClass('disabled')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t$navigation.find(baseItemSelector + ':eq(0) a').tab('show');\r\n        return this;\r\n\t};\r\n\tthis.last = function(e) {\r\n\t\tif($settings.onLast && typeof $settings.onLast === 'function' && $settings.onLast(obj.activePane(), $activeTab, $navigation, obj.lastIndex())===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// If the element is disabled then we won't do anything\r\n\t\tif(element.hasClass('disabled')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t$navigation.find(baseItemSelector + ':eq('+obj.navigationLength()+') a').tab('show');\r\n        return this;\r\n\t};\r\n\tthis.currentIndex = function() {\r\n\t\treturn $navigation.find(baseItemSelector).index($activeTab);\r\n\t};\r\n\tthis.firstIndex = function() {\r\n\t\treturn 0;\r\n\t};\r\n\tthis.lastIndex = function() {\r\n\t\treturn obj.navigationLength();\r\n\t};\r\n\tthis.getIndex = function(e) {\r\n\t\treturn $navigation.find(baseItemSelector).index(e);\r\n\t};\r\n\tthis.nextIndex = function() {\r\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) + 1;\r\n\t};\r\n\tthis.previousIndex = function() {\r\n\t\treturn $navigation.find(baseItemSelector).index($activeTab) - 1;\r\n\t};\r\n\tthis.navigationLength = function() {\r\n\t\treturn $navigation.find(baseItemSelector).length - 1;\r\n\t};\r\n\tthis.activeTab = function() {\r\n\t\treturn $activeTab;\r\n\t};\r\n    this.activePane = function ()\r\n    {\r\n        return element.find('.tab-pane.active');\r\n    };\r\n\tthis.nextTab = function() {\r\n\t\treturn $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')').length ? $navigation.find(baseItemSelector + ':eq('+(obj.currentIndex()+1)+')') : null;\r\n\t};\r\n\tthis.previousTab = function() {\r\n\t\tif(obj.currentIndex() <= 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn $navigation.find(baseItemSelector + ':eq('+parseInt(obj.currentIndex()-1)+')');\r\n\t};\r\n\tthis.show = function(index) {\r\n\t\tif (isNaN(index)) {\r\n\t\t\treturn element.find(baseItemSelector + ' a[href=#' + index + ']').tab('show');\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn element.find(baseItemSelector + ':eq(' + index + ') a').tab('show');\r\n\t\t}\r\n\t};\r\n\tthis.disable = function(index) {\r\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').addClass('disabled');\r\n\t};\r\n\tthis.enable = function(index) {\r\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').removeClass('disabled');\r\n\t};\r\n\tthis.hide = function(index) {\r\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').hide();\r\n\t};\r\n\tthis.display = function(index) {\r\n\t\t$navigation.find(baseItemSelector + ':eq('+index+')').show();\r\n\t};\r\n\tthis.remove = function(args) {\r\n\t\tvar $index = args[0];\r\n\t\tvar $removeTabPane = typeof args[1] != 'undefined' ? args[1] : false;\r\n\t\tvar $item = $navigation.find(baseItemSelector + ':eq('+$index+')');\r\n\r\n\t\t// Remove the tab pane first if needed\r\n\t\tif($removeTabPane) {\r\n\t\t\tvar $href = $item.find('a').attr('href');\r\n\t\t\t$($href).remove();\r\n\t\t}\r\n\r\n\t\t// Remove menu item\r\n\t\t$item.remove();\r\n\t};\r\n\t\r\n\tvar innerTabClick = function (e) {\r\n\t\t// Get the index of the clicked tab\r\n\t\tvar clickedIndex = $navigation.find(baseItemSelector).index($(e.currentTarget).parent(baseItemSelector));\r\n\t\tif($settings.onTabClick && typeof $settings.onTabClick === 'function' && $settings.onTabClick(obj.activePane(), $activeTab, $navigation, obj.currentIndex(), clickedIndex)===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar innerTabShown = function (e) {  \r\n        // use shown instead of show to help prevent double firing\r\n        // @NOTE: double firing  onTabShow\r\n\t\t$element = $(e.target).parent();\r\n\t\tvar nextTab = $navigation.find(baseItemSelector).index($element);\r\n\r\n\t\t// If it's disabled then do not change\r\n\t\tif($element.hasClass('disabled')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n        var $panes = element.find('.tab-pane'),\r\n            curIdx = obj.currentIndex(),\r\n            $currentPane = curIdx == -1 ? null : $panes.eq(curIdx),\r\n            $nextPane = $panes.eq(nextTab)\r\n\t\tif($settings.onTabChange && typeof $settings.onTabChange === 'function' && $settings.onTabChange($currentPane, $nextPane, curIdx, nextTab, $activeTab, $navigation)===false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t$activeTab = $element; // activated tab\r\n\t\tobj.fixNavigationButtons();\r\n\t};\r\n\t\r\n\tthis.resetWizard = function() {\r\n\t\t\r\n\t\t// remove the existing handlers\r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('click', innerTabClick);\r\n        //@NOTE:  shown  show \r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).off('show show.bs.tab', innerTabShown);\r\n\t\t\r\n\t\t// reset elements based on current state of the DOM\r\n\t\t$navigation = element.find('ul:first', element);\r\n\t\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\r\n\t\t\r\n\t\t// re-add handlers\r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\r\n        //@NOTE:  shown  show \r\n\t\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\r\n\t\t\r\n\t\tobj.fixNavigationButtons();\r\n\t};\r\n\r\n\t$navigation = element.find('ul:first', element);\r\n\t$activeTab = $navigation.find(baseItemSelector + '.active', element);\r\n    $stepAction = element.find($settings.actionSelector);\r\n\r\n\tif(!$navigation.hasClass($settings.tabClass)) {\r\n\t\t$navigation.addClass($settings.tabClass);\r\n\t}\r\n    var $firstPane = element.find('.tab-pane').eq(0);\r\n\t// Load onInit\r\n\tif($settings.onInit && typeof $settings.onInit === 'function'){\r\n\t\t$settings.onInit($firstPane, $activeTab, $navigation, 0);\r\n\t}\r\n\r\n\t// Load onShow\r\n\tif($settings.onShow && typeof $settings.onShow === 'function'){\r\n\t\t$settings.onShow($firstPane, $activeTab, $navigation, obj.nextIndex());\r\n\t}\r\n\r\n\t$('a[data-toggle=\"tab\"]', $navigation).on('click', innerTabClick);\r\n\r\n\t// attach to both shown and shown.bs.tab to support Bootstrap versions 2.3.2 and 3.0.0\r\n    //@NOTE:  shown  show \r\n\t$('a[data-toggle=\"tab\"]', $navigation).on('show show.bs.tab', innerTabShown);\r\n};\r\n$.fn.bootstrapWizard = function(options) {\r\n\t//expose methods\r\n\tif (typeof options == 'string') {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1)\r\n\t\tif(args.length === 1) {\r\n\t\t\targs.toString();\r\n\t\t}\r\n\t\treturn this.data('bootstrapWizard')[options](args);\r\n\t}\r\n\treturn this.each(function(index){\r\n\t\tvar element = $(this);\r\n\t\t// Return early if this element already has a plugin instance\r\n\t\tif (element.data('bootstrapWizard')) return;\r\n\t\t// pass options to plugin constructor\r\n\t\tvar wizard = new bootstrapWizardCreate(element, options);\r\n\t\t// Store plugin object in this element's data\r\n\t\telement.data('bootstrapWizard', wizard);\r\n\t\t// and then trigger initial change\r\n\t\twizard.fixNavigationButtons();\r\n\t});\r\n};\r\n\r\n// expose options\r\n$.fn.bootstrapWizard.defaults = {\r\n\ttabClass:         'step-nav',\r\n    //\r\n    actionSelector:   '.step-action',\r\n\tnextSelector:     '.next-step',\r\n\tpreviousSelector: '.prev-step',\r\n\tfirstSelector:    '.first-step',\r\n\tlastSelector:     '.last-step',\r\n    //\r\n    // 'remove' || 'hide' || 'keep'\r\n    lastAction:       'remove', \r\n    //: 'hidden' || 'disabled' || \r\n    unusableClass:    'hidden', \r\n\tonShow:           null,\r\n\tonInit:           null,\r\n\tonNext:           null,\r\n\tonPrevious:       null,\r\n\tonLast:           null,\r\n\tonFirst:          null,\r\n\tonTabChange:      null, \r\n    //onTabShow:      null, // @NOTE:  BUG\r\n\tonTabClick:       function () { return false; },\r\n};\r\n\r\n})(jQuery);\r\n;/*!\r\nChosen, a Select Box Enhancer for jQuery and Prototype\r\nby Patrick Filler for Harvest, http://getharvest.com\r\n\r\nVersion 1.1.0\r\nFull source at https://github.com/harvesthq/chosen\r\nCopyright (c) 2011 Harvest http://getharvest.com\r\n\r\nMIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md\r\nThis file is generated by `grunt build`, do not edit it by hand.\r\n*/\r\n\r\n(function() {\r\n\tvar $, AbstractChosen, Chosen, SelectParser, _ref,\r\n\t\t__hasProp = {}.hasOwnProperty,\r\n\t\t__extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\r\n\r\n\tSelectParser = (function() {\r\n\t\tfunction SelectParser() {\r\n\t\t\tthis.options_index = 0;\r\n\t\t\tthis.parsed = [];\r\n\t\t}\r\n\r\n\t\tSelectParser.prototype.add_node = function(child) {\r\n\t\t\tif (child.nodeName.toUpperCase() === \"OPTGROUP\") {\r\n\t\t\t\treturn this.add_group(child);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.add_option(child);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_group = function(group) {\r\n\t\t\tvar group_position, option, _i, _len, _ref, _results;\r\n\t\t\tgroup_position = this.parsed.length;\r\n\t\t\tthis.parsed.push({\r\n\t\t\t\tarray_index: group_position,\r\n\t\t\t\tgroup: true,\r\n\t\t\t\tlabel: this.escapeExpression(group.label),\r\n\t\t\t\tchildren: 0,\r\n\t\t\t\tdisabled: group.disabled\r\n\t\t\t});\r\n\t\t\t_ref = group.childNodes;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\t_results.push(this.add_option(option, group_position, group.disabled));\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.add_option = function(option, group_position, group_disabled) {\r\n\t\t\tif (option.nodeName.toUpperCase() === \"OPTION\") {\r\n\t\t\t\tif (option.text !== \"\") {\r\n\t\t\t\t\tif (group_position != null) {\r\n\t\t\t\t\t\tthis.parsed[group_position].children += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tvalue: option.value,\r\n\t\t\t\t\t\ttext: option.text,\r\n\t\t\t\t\t\thtml: option.innerHTML,\r\n\t\t\t\t\t\tselected: option.selected,\r\n\t\t\t\t\t\tdisabled: group_disabled === true ? group_disabled : option.disabled,\r\n\t\t\t\t\t\tgroup_array_index: group_position,\r\n\t\t\t\t\t\tclasses: option.className,\r\n\t\t\t\t\t\tstyle: option.style.cssText\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.parsed.push({\r\n\t\t\t\t\t\tarray_index: this.parsed.length,\r\n\t\t\t\t\t\toptions_index: this.options_index,\r\n\t\t\t\t\t\tempty: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.options_index += 1;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSelectParser.prototype.escapeExpression = function(text) {\r\n\t\t\tvar map, unsafe_chars;\r\n\t\t\tif ((text == null) || text === false) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (!/[\\&\\<\\>\\\"\\'\\`]/.test(text)) {\r\n\t\t\t\treturn text;\r\n\t\t\t}\r\n\t\t\tmap = {\r\n\t\t\t\t\"<\": \"&lt;\",\r\n\t\t\t\t\">\": \"&gt;\",\r\n\t\t\t\t'\"': \"&quot;\",\r\n\t\t\t\t\"'\": \"&#x27;\",\r\n\t\t\t\t\"`\": \"&#x60;\"\r\n\t\t\t};\r\n\t\t\tunsafe_chars = /&(?!\\w+;)|[\\<\\>\\\"\\'\\`]/g;\r\n\t\t\treturn text.replace(unsafe_chars, function(chr) {\r\n\t\t\t\treturn map[chr] || \"&amp;\";\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn SelectParser;\r\n\r\n\t})();\r\n\r\n\tSelectParser.select_to_array = function(select) {\r\n\t\tvar child, parser, _i, _len, _ref;\r\n\t\tparser = new SelectParser();\r\n\t\t_ref = select.childNodes;\r\n\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\tchild = _ref[_i];\r\n\t\t\tparser.add_node(child);\r\n\t\t}\r\n\t\treturn parser.parsed;\r\n\t};\r\n\r\n\tAbstractChosen = (function() {\r\n\t\tfunction AbstractChosen(form_field, options) {\r\n\t\t\tthis.form_field = form_field;\r\n\t\t\tthis.options = options != null ? options : {};\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.is_multiple = this.form_field.multiple;\r\n\t\t\tthis.set_default_text();\r\n\t\t\tthis.set_default_values();\r\n\t\t\tthis.setup();\r\n\t\t\tthis.set_up_html();\r\n\t\t\tthis.register_observers();\r\n\t\t}\r\n\r\n\t\tAbstractChosen.prototype.set_default_values = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.click_test_action = function(evt) {\r\n\t\t\t\treturn _this.test_active_click(evt);\r\n\t\t\t};\r\n\t\t\tthis.activate_action = function(evt) {\r\n\t\t\t\treturn _this.activate_field(evt);\r\n\t\t\t};\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.mouse_on_container = false;\r\n\t\t\tthis.results_showing = false;\r\n\t\t\tthis.result_highlighted = null;\r\n\t\t\tthis.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\r\n\t\t\tthis.disable_search_threshold = this.options.disable_search_threshold || 0;\r\n\t\t\tthis.disable_search = this.options.disable_search || false;\r\n\t\t\tthis.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\r\n\t\t\tthis.group_search = this.options.group_search != null ? this.options.group_search : true;\r\n\t\t\tthis.search_contains = this.options.search_contains || false;\r\n\t\t\tthis.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\r\n\t\t\tthis.max_selected_options = this.options.max_selected_options || Infinity;\r\n\t\t\tthis.inherit_select_classes = this.options.inherit_select_classes || false;\r\n\t\t\tthis.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\r\n\t\t\treturn this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.set_default_text = function() {\r\n\t\t\tif (this.form_field.getAttribute(\"data-placeholder\")) {\r\n\t\t\t\tthis.default_text = this.form_field.getAttribute(\"data-placeholder\");\r\n\t\t\t} else if (this.is_multiple) {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\r\n\t\t\t} else {\r\n\t\t\t\tthis.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\r\n\t\t\t}\r\n\t\t\treturn this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_enter = function() {\r\n\t\t\treturn this.mouse_on_container = true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.mouse_leave = function() {\r\n\t\t\treturn this.mouse_on_container = false;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_focus = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\t\treturn _this.container_mousedown();\r\n\t\t\t\t\t}), 50);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.input_blur = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.mouse_on_container) {\r\n\t\t\t\tthis.active_field = false;\r\n\t\t\t\treturn setTimeout((function() {\r\n\t\t\t\t\treturn _this.blur_test();\r\n\t\t\t\t}), 100);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_option_build = function(options) {\r\n\t\t\tvar content, data, _i, _len, _ref;\r\n\t\t\tcontent = '';\r\n\t\t\t_ref = this.results_data;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tdata = _ref[_i];\r\n\t\t\t\tif (data.group) {\r\n\t\t\t\t\tcontent += this.result_add_group(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent += this.result_add_option(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (options != null ? options.first : void 0) {\r\n\t\t\t\t\tif (data.selected && this.is_multiple) {\r\n\t\t\t\t\t\tthis.choice_build(data);\r\n\t\t\t\t\t} else if (data.selected && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.single_set_selected_text(data.text);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn content;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_option = function(option) {\r\n\t\t\tvar classes, option_el;\r\n\t\t\tif (!option.search_match) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!this.include_option_in_results(option)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tclasses = [];\r\n\t\t\tif (!option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"active-result\");\r\n\t\t\t}\r\n\t\t\tif (option.disabled && !(option.selected && this.is_multiple)) {\r\n\t\t\t\tclasses.push(\"disabled-result\");\r\n\t\t\t}\r\n\t\t\tif (option.selected) {\r\n\t\t\t\tclasses.push(\"result-selected\");\r\n\t\t\t}\r\n\t\t\tif (option.group_array_index != null) {\r\n\t\t\t\tclasses.push(\"group-option\");\r\n\t\t\t}\r\n\t\t\tif (option.classes !== \"\") {\r\n\t\t\t\tclasses.push(option.classes);\r\n\t\t\t}\r\n\t\t\toption_el = document.createElement(\"li\");\r\n\t\t\toption_el.className = classes.join(\" \");\r\n\t\t\toption_el.style.cssText = option.style;\r\n\t\t\toption_el.setAttribute(\"data-option-array-index\", option.array_index);\r\n\t\t\toption_el.innerHTML = option.search_text;\r\n\t\t\treturn this.outerHTML(option_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.result_add_group = function(group) {\r\n\t\t\tvar group_el;\r\n\t\t\tif (!(group.search_match || group.group_match)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!(group.active_options > 0)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tgroup_el = document.createElement(\"li\");\r\n\t\t\tgroup_el.className = \"group-result\";\r\n\t\t\tgroup_el.innerHTML = group.search_text;\r\n\t\t\treturn this.outerHTML(group_el);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_update_field = function() {\r\n\t\t\tthis.set_default_text();\r\n\t\t\tif (!this.is_multiple) {\r\n\t\t\t\tthis.results_reset_cleanup();\r\n\t\t\t}\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tthis.results_build();\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.reset_single_select_options = function() {\r\n\t\t\tvar result, _i, _len, _ref, _results;\r\n\t\t\t_ref = this.results_data;\r\n\t\t\t_results = [];\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tresult = _ref[_i];\r\n\t\t\t\tif (result.selected) {\r\n\t\t\t\t\t_results.push(result.selected = false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_results.push(void 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _results;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_toggle = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.results_search = function(evt) {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\treturn this.winnow_results();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.winnow_results = function() {\r\n\t\t\tvar escapedSearchText, option, regex, regexAnchor, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\r\n\t\t\tthis.no_results_clear();\r\n\t\t\tresults = 0;\r\n\t\t\tsearchText = this.get_search_text();\r\n\t\t\tescapedSearchText = searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n\t\t\tregexAnchor = this.search_contains ? \"\" : \"^\";\r\n\t\t\tregex = new RegExp(regexAnchor + escapedSearchText, 'i');\r\n\t\t\tzregex = new RegExp(escapedSearchText, 'i');\r\n\t\t\t_ref = this.results_data;\r\n\t\t\t// add by HuHao for supporting Chinese pinyin match\r\n\t\t\tif (this.options.getMatchedFn && $.isFunction(this.options.getMatchedFn)) {\r\n\t\t\t\tvar matchedOptions = this.options.getMatchedFn(searchText);\r\n\t\t\t\tvar search_value_match = function (v, matches, curSearchText) {\r\n\t\t\t\t\tvar m = matches[v];\r\n\t\t\t\t\tif (!curSearchText || !curSearchText.length) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn !m ? false : true;\r\n\t\t\t\t};\r\n\t\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\t\toption = _ref[_i];\r\n\t\t\t\t\toption.search_match =false;\r\n\t\t\t\t\tresults_group = null;\r\n\t\t\t\t\tif (this.include_option_in_results(option)) {\r\n\t\t\t\t\t\tif (option.group) {\r\n\t\t\t\t\t\t\toption.group_match = false;\r\n\t\t\t\t\t\t\toption.active_options = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n\t\t\t\t\t\t\tresults_group = this.results_data[option.group_array_index];\r\n\t\t\t\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresults_group.active_options += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!(option.group && !this.group_search)) {\r\n\t\t\t\t\t\t\toption.search_text = option.group ? option.label : option.html;\r\n\t\t\t\t\t\t\toption.search_match = search_value_match(option.value, matchedOptions, searchText);\r\n\t\t\t\t\t\t\tif (option.search_match && !option.group) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (option.search_match) {\r\n\t\t\t\t\t\t\t\tif (results_group != null) {\r\n\t\t\t\t\t\t\t\t\tresults_group.group_match = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n\t\t\t\t\t\t\t\toption.search_match = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// this is origin code\r\n\t\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\t\toption = _ref[_i];\r\n\t\t\t\t\toption.search_match = false;\r\n\t\t\t\t\tresults_group = null;\r\n\t\t\t\t\tif (this.include_option_in_results(option)) {\r\n\t\t\t\t\t\tif (option.group) {\r\n\t\t\t\t\t\t\toption.group_match = false;\r\n\t\t\t\t\t\t\toption.active_options = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n\t\t\t\t\t\t\tresults_group = this.results_data[option.group_array_index];\r\n\t\t\t\t\t\t\tif (results_group.active_options === 0 && results_group.search_match) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresults_group.active_options += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!(option.group && !this.group_search)) {\r\n\t\t\t\t\t\t\toption.search_text = option.group ? option.label : option.html;\r\n\t\t\t\t\t\t\toption.search_match = this.search_string_match(option.search_text, regex);\r\n\t\t\t\t\t\t\tif (option.search_match && !option.group) {\r\n\t\t\t\t\t\t\t\tresults += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (option.search_match) {\r\n\t\t\t\t\t\t\t\tif (searchText.length) {\r\n\t\t\t\t\t\t\t\t\tstartpos = option.search_text.search(zregex);\r\n\t\t\t\t\t\t\t\t\ttext = option.search_text.substr(0, startpos + searchText.length) + '</em>' + option.search_text.substr(startpos + searchText.length);\r\n\t\t\t\t\t\t\t\t\toption.search_text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (results_group != null) {\r\n\t\t\t\t\t\t\t\t\tresults_group.group_match = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n\t\t\t\t\t\t\t\toption.search_match = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.result_clear_highlight();\r\n\t\t\tif (results < 1 && searchText.length) {\r\n\t\t\t\tthis.update_results_content(\"\");\r\n\t\t\t\treturn this.no_results(searchText);\r\n\t\t\t} else {\r\n\t\t\t\tthis.update_results_content(this.results_option_build());\r\n\t\t\t\treturn this.winnow_results_set_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_string_match = function(search_string, regex) {\r\n\t\t\tvar part, parts, _i, _len;\r\n\t\t\tif (regex.test(search_string)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (this.enable_split_word_search && (search_string.indexOf(\" \") >= 0 || search_string.indexOf(\"[\") === 0)) {\r\n\t\t\t\tparts = search_string.replace(/\\[|\\]/g, \"\").split(\" \");\r\n\t\t\t\tif (parts.length) {\r\n\t\t\t\t\tfor (_i = 0, _len = parts.length; _i < _len; _i++) {\r\n\t\t\t\t\t\tpart = parts[_i];\r\n\t\t\t\t\t\tif (regex.test(part)) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_count = function() {\r\n\t\t\tvar option, _i, _len, _ref;\r\n\t\t\tif (this.selected_option_count != null) {\r\n\t\t\t\treturn this.selected_option_count;\r\n\t\t\t}\r\n\t\t\tthis.selected_option_count = 0;\r\n\t\t\t_ref = this.form_field.options;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\toption = _ref[_i];\r\n\t\t\t\tif (option.selected) {\r\n\t\t\t\t\tthis.selected_option_count += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.selected_option_count;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.choices_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tif (!(this.results_showing || this.is_disabled)) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.keyup_checker = function(evt) {\r\n\t\t\tvar stroke, _ref;\r\n\t\t\tstroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tif (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else if (!this.pending_backstroke) {\r\n\t\t\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\t\t\treturn this.results_search();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\treturn this.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 27:\r\n\t\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tcase 9:\r\n\t\t\t\tcase 38:\r\n\t\t\t\tcase 40:\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 91:\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn this.results_search();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.clipboard_event_checker = function(evt) {\r\n\t\t\tvar _this = this;\r\n\t\t\treturn setTimeout((function() {\r\n\t\t\t\treturn _this.results_search();\r\n\t\t\t}), 50);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.container_width = function() {\r\n\t\t\tif (this.options.width != null) {\r\n\t\t\t\treturn this.options.width;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\" + this.form_field.offsetWidth + \"px\";\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.include_option_in_results = function(option) {\r\n\t\t\tif (this.is_multiple && (!this.display_selected_options && option.selected)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!this.display_disabled_options && option.disabled) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (option.empty) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchstart = function(evt) {\r\n\t\t\tthis.touch_started = true;\r\n\t\t\treturn this.search_results_mouseover(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchmove = function(evt) {\r\n\t\t\tthis.touch_started = false;\r\n\t\t\treturn this.search_results_mouseout(evt);\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.search_results_touchend = function(evt) {\r\n\t\t\tif (this.touch_started) {\r\n\t\t\t\treturn this.search_results_mouseup(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tAbstractChosen.prototype.outerHTML = function(element) {\r\n\t\t\tvar tmp;\r\n\t\t\tif (element.outerHTML) {\r\n\t\t\t\treturn element.outerHTML;\r\n\t\t\t}\r\n\t\t\ttmp = document.createElement(\"div\");\r\n\t\t\ttmp.appendChild(element);\r\n\t\t\treturn tmp.innerHTML;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.browser_is_supported = function() {\r\n\t\t\tif (window.navigator.appName === \"Microsoft Internet Explorer\") {\r\n\t\t\t\treturn document.documentMode >= 8;\r\n\t\t\t}\r\n\t\t\tif (/iP(od|hone)/i.test(window.navigator.userAgent)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (/Android/i.test(window.navigator.userAgent)) {\r\n\t\t\t\tif (/Mobile/i.test(window.navigator.userAgent)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tAbstractChosen.default_multiple_text = \"Select Some Options\";\r\n\r\n\t\tAbstractChosen.default_single_text = \"Select an Option\";\r\n\r\n\t\tAbstractChosen.default_no_result_text = \"No results match\";\r\n\r\n\t\treturn AbstractChosen;\r\n\r\n\t})();\r\n\r\n\t$ = jQuery;\r\n\r\n\t$.fn.extend({\r\n\t\tchosen: function(options) {\r\n\t\t\tif (!AbstractChosen.browser_is_supported()) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\treturn this.each(function(input_field) {\r\n\t\t\t\tvar $this, chosen;\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tchosen = $this.data('chosen');\r\n\t\t\t\tif (options === 'destroy' && chosen) {\r\n\t\t\t\t\tchosen.destroy();\r\n\t\t\t\t} else if (!chosen) {\r\n\t\t\t\t\t$this.data('chosen', new Chosen(this, options));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tChosen = (function(_super) {\r\n\t\t__extends(Chosen, _super);\r\n\r\n\t\tfunction Chosen() {\r\n\t\t\t_ref = Chosen.__super__.constructor.apply(this, arguments);\r\n\t\t\treturn _ref;\r\n\t\t}\r\n\r\n\t\tChosen.prototype.setup = function() {\r\n\t\t\tthis.form_field_jq = $(this.form_field);\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.is_rtl = this.form_field_jq.hasClass(\"chosen-rtl\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_up_html = function() {\r\n\t\t\tvar container_classes, container_props;\r\n\t\t\tcontainer_classes = [\"chosen-container\"];\r\n\t\t\tcontainer_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\r\n\t\t\tif (this.inherit_select_classes && this.form_field.className) {\r\n\t\t\t\tcontainer_classes.push(this.form_field.className);\r\n\t\t\t}\r\n\t\t\tif (this.is_rtl) {\r\n\t\t\t\tcontainer_classes.push(\"chosen-rtl\");\r\n\t\t\t}\r\n\t\t\tcontainer_props = {\r\n\t\t\t\t'class': container_classes.join(' '),\r\n\t\t\t\t'style': \"width: \" + (this.container_width()) + \";\",\r\n\t\t\t\t'title': this.form_field.title\r\n\t\t\t};\r\n\t\t\tif (this.form_field.id.length) {\r\n\t\t\t\tcontainer_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\r\n\t\t\t}\r\n\t\t\tthis.container = $(\"<div />\", container_props);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.container.html('<ul class=\"chosen-choices\"><li class=\"search-field\"><input type=\"text\" value=\"' + this.default_text + '\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chosen-drop\"><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.html('<a class=\"chosen-single chosen-default\" tabindex=\"-1\"><span>' + this.default_text + '</span><div><b></b></div></a><div class=\"chosen-drop\"><div class=\"chosen-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chosen-results\"></ul></div>');\r\n\t\t\t}\r\n\t\t\tthis.form_field_jq.hide().after(this.container);\r\n\t\t\tthis.dropdown = this.container.find('div.chosen-drop').first();\r\n\t\t\tthis.search_field = this.container.find('input').first();\r\n\t\t\tthis.search_results = this.container.find('ul.chosen-results').first();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tthis.search_no_results = this.container.find('li.no-results').first();\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices = this.container.find('ul.chosen-choices').first();\r\n\t\t\t\tthis.search_container = this.container.find('li.search-field').first();\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_container = this.container.find('div.chosen-search').first();\r\n\t\t\t\tthis.selected_item = this.container.find('.chosen-single').first();\r\n\t\t\t}\r\n\t\t\tthis.results_build();\r\n\t\t\tthis.set_tab_index();\r\n\t\t\tthis.set_label_behavior();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:ready\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.register_observers = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.container.bind('mousedown.chosen', function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.container_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseenter.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_enter(evt);\r\n\t\t\t});\r\n\t\t\tthis.container.bind('mouseleave.chosen', function(evt) {\r\n\t\t\t\t_this.mouse_leave(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseup.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseup(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseover.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseover(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mouseout.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mouseout(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('mousewheel.chosen DOMMouseScroll.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_mousewheel(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchstart.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchstart(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchmove.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchmove(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_results.bind('touchend.chosen', function(evt) {\r\n\t\t\t\t_this.search_results_touchend(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:updated.chosen\", function(evt) {\r\n\t\t\t\t_this.results_update_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:activate.chosen\", function(evt) {\r\n\t\t\t\t_this.activate_field(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:open.chosen\", function(evt) {\r\n\t\t\t\t_this.container_mousedown(evt);\r\n\t\t\t});\r\n\t\t\tthis.form_field_jq.bind(\"chosen:close.chosen\", function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('blur.chosen', function(evt) {\r\n\t\t\t\t_this.input_blur(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keyup.chosen', function(evt) {\r\n\t\t\t\t_this.keyup_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('keydown.chosen', function(evt) {\r\n\t\t\t\t_this.keydown_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('focus.chosen', function(evt) {\r\n\t\t\t\t_this.input_focus(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('cut.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tthis.search_field.bind('paste.chosen', function(evt) {\r\n\t\t\t\t_this.clipboard_event_checker(evt);\r\n\t\t\t});\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\treturn this.search_choices.bind('click.chosen', function(evt) {\r\n\t\t\t\t\t_this.choices_click(evt);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn this.container.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.destroy = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tif (this.search_field[0].tabIndex) {\r\n\t\t\t\tthis.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\r\n\t\t\t}\r\n\t\t\tthis.container.remove();\r\n\t\t\tthis.form_field_jq.removeData('chosen');\r\n\t\t\treturn this.form_field_jq.show();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_disabled = function() {\r\n\t\t\tthis.is_disabled = this.form_field_jq[0].disabled;\r\n\t\t\tif (this.is_disabled) {\r\n\t\t\t\tthis.container.addClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = true;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\tthis.selected_item.unbind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t} else {\r\n\t\t\t\tthis.container.removeClass('chosen-disabled');\r\n\t\t\t\tthis.search_field[0].disabled = false;\r\n\t\t\t\tif (!this.is_multiple) {\r\n\t\t\t\t\treturn this.selected_item.bind(\"focus.chosen\", this.activate_action);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mousedown = function(evt) {\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\tif (evt && evt.type === \"mousedown\" && !this.results_showing) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\r\n\t\t\t\t\tif (!this.active_field) {\r\n\t\t\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(this.container[0].ownerDocument).bind('click.chosen', this.click_test_action);\r\n\t\t\t\t\t\tthis.results_show();\r\n\t\t\t\t\t} else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tthis.results_toggle();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.activate_field();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.container_mouseup = function(evt) {\r\n\t\t\tif (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\r\n\t\t\t\treturn this.results_reset(evt);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mousewheel = function(evt) {\r\n\t\t\tvar delta;\r\n\t\t\tif (evt.originalEvent) {\r\n\t\t\t\tdelta = -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\r\n\t\t\t}\r\n\t\t\tif (delta != null) {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tif (evt.type === 'DOMMouseScroll') {\r\n\t\t\t\t\tdelta = delta * 40;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_results.scrollTop(delta + this.search_results.scrollTop());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.blur_test = function(evt) {\r\n\t\t\tif (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.close_field = function() {\r\n\t\t\t$(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n\t\t\tthis.active_field = false;\r\n\t\t\tthis.results_hide();\r\n\t\t\tthis.container.removeClass(\"chosen-container-active\");\r\n\t\t\tthis.clear_backstroke();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\treturn this.search_field_scale();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.activate_field = function() {\r\n\t\t\tthis.container.addClass(\"chosen-container-active\");\r\n\t\t\tthis.active_field = true;\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\treturn this.search_field.focus();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.test_active_click = function(evt) {\r\n\t\t\tvar active_container;\r\n\t\t\tactive_container = $(evt.target).closest('.chosen-container');\r\n\t\t\tif (active_container.length && this.container[0] === active_container[0]) {\r\n\t\t\t\treturn this.active_field = true;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.close_field();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_build = function() {\r\n\t\t\tthis.parsing = true;\r\n\t\t\tthis.selected_option_count = null;\r\n\t\t\tthis.results_data = SelectParser.select_to_array(this.form_field);\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\tthis.search_choices.find(\"li.search-choice\").remove();\r\n\t\t\t} else if (!this.is_multiple) {\r\n\t\t\t\tthis.single_set_selected_text();\r\n\t\t\t\tif (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\r\n\t\t\t\t\tthis.search_field[0].readOnly = true;\r\n\t\t\t\t\tthis.container.addClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.search_field[0].readOnly = false;\r\n\t\t\t\t\tthis.container.removeClass(\"chosen-container-single-nosearch\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.update_results_content(this.results_option_build({\r\n\t\t\t\tfirst: true\r\n\t\t\t}));\r\n\t\t\tthis.search_field_disabled();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.search_field_scale();\r\n\t\t\treturn this.parsing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_do_highlight = function(el) {\r\n\t\t\tvar high_bottom, high_top, maxHeight, visible_bottom, visible_top;\r\n\t\t\tif (el.length) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.result_highlight = el;\r\n\t\t\t\tthis.result_highlight.addClass(\"highlighted\");\r\n\t\t\t\tmaxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\r\n\t\t\t\tvisible_top = this.search_results.scrollTop();\r\n\t\t\t\tvisible_bottom = maxHeight + visible_top;\r\n\t\t\t\thigh_top = this.result_highlight.position().top + this.search_results.scrollTop();\r\n\t\t\t\thigh_bottom = high_top + this.result_highlight.outerHeight();\r\n\t\t\t\tif (high_bottom >= visible_bottom) {\r\n\t\t\t\t\treturn this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\r\n\t\t\t\t} else if (high_top < visible_top) {\r\n\t\t\t\t\treturn this.search_results.scrollTop(high_top);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_clear_highlight = function() {\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\tthis.result_highlight.removeClass(\"highlighted\");\r\n\t\t\t}\r\n\t\t\treturn this.result_highlight = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_show = function() {\r\n\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.container.addClass(\"chosen-with-drop\");\r\n\t\t\tthis.results_showing = true;\r\n\t\t\tthis.search_field.focus();\r\n\t\t\tthis.search_field.val(this.search_field.val());\r\n\t\t\tthis.winnow_results();\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.update_results_content = function(content) {\r\n\t\t\treturn this.search_results.html(content);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_hide = function() {\r\n\t\t\tif (this.results_showing) {\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tthis.container.removeClass(\"chosen-with-drop\");\r\n\t\t\t\tthis.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\r\n\t\t\t\t\tchosen: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this.results_showing = false;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_tab_index = function(el) {\r\n\t\t\tvar ti;\r\n\t\t\tif (this.form_field.tabIndex) {\r\n\t\t\t\tti = this.form_field.tabIndex;\r\n\t\t\t\tthis.form_field.tabIndex = -1;\r\n\t\t\t\treturn this.search_field[0].tabIndex = ti;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.set_label_behavior = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.form_field_label = this.form_field_jq.parents(\"label\");\r\n\t\t\tif (!this.form_field_label.length && this.form_field.id.length) {\r\n\t\t\t\tthis.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\r\n\t\t\t}\r\n\t\t\tif (this.form_field_label.length > 0) {\r\n\t\t\t\treturn this.form_field_label.bind('click.chosen', function(evt) {\r\n\t\t\t\t\tif (_this.is_multiple) {\r\n\t\t\t\t\t\treturn _this.container_mousedown(evt);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn _this.activate_field();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.show_search_field_default = function() {\r\n\t\t\tif (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\r\n\t\t\t\tthis.search_field.val(this.default_text);\r\n\t\t\t\treturn this.search_field.addClass(\"default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\treturn this.search_field.removeClass(\"default\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseup = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target.length) {\r\n\t\t\t\tthis.result_highlight = target;\r\n\t\t\t\tthis.result_select(evt);\r\n\t\t\t\treturn this.search_field.focus();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseover = function(evt) {\r\n\t\t\tvar target;\r\n\t\t\ttarget = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n\t\t\tif (target) {\r\n\t\t\t\treturn this.result_do_highlight(target);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_results_mouseout = function(evt) {\r\n\t\t\tif ($(evt.target).hasClass(\"active-result\" || $(evt.target).parents('.active-result').first())) {\r\n\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_build = function(item) {\r\n\t\t\tvar choice, close_link,\r\n\t\t\t\t_this = this;\r\n\t\t\tchoice = $('<li />', {\r\n\t\t\t\t\"class\": \"search-choice\"\r\n\t\t\t}).html(\"<span>\" + item.html + \"</span>\");\r\n\t\t\tif (item.disabled) {\r\n\t\t\t\tchoice.addClass('search-choice-disabled');\r\n\t\t\t} else {\r\n\t\t\t\tclose_link = $('<a />', {\r\n\t\t\t\t\t\"class\": 'search-choice-close',\r\n\t\t\t\t\t'data-option-array-index': item.array_index\r\n\t\t\t\t});\r\n\t\t\t\tclose_link.bind('click.chosen', function(evt) {\r\n\t\t\t\t\treturn _this.choice_destroy_link_click(evt);\r\n\t\t\t\t});\r\n\t\t\t\tchoice.append(close_link);\r\n\t\t\t}\r\n\t\t\treturn this.search_container.before(choice);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy_link_click = function(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tif (!this.is_disabled) {\r\n\t\t\t\treturn this.choice_destroy($(evt.target));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.choice_destroy = function(link) {\r\n\t\t\tif (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\r\n\t\t\t\tthis.show_search_field_default();\r\n\t\t\t\tif (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tlink.parents('li').first().remove();\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset = function() {\r\n\t\t\tthis.reset_single_select_options();\r\n\t\t\tthis.form_field.options[0].selected = true;\r\n\t\t\tthis.single_set_selected_text();\r\n\t\t\tthis.show_search_field_default();\r\n\t\t\tthis.results_reset_cleanup();\r\n\t\t\tthis.form_field_jq.trigger(\"change\");\r\n\t\t\tif (this.active_field) {\r\n\t\t\t\treturn this.results_hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.results_reset_cleanup = function() {\r\n\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\treturn this.selected_item.find(\"abbr\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_select = function(evt) {\r\n\t\t\tvar high, item;\r\n\t\t\tif (this.result_highlight) {\r\n\t\t\t\thigh = this.result_highlight;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"chosen:maxselected\", {\r\n\t\t\t\t\t\tchosen: this\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\thigh.removeClass(\"active-result\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.reset_single_select_options();\r\n\t\t\t\t}\r\n\t\t\t\titem = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\r\n\t\t\t\titem.selected = true;\r\n\t\t\t\tthis.form_field.options[item.options_index].selected = true;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tif (this.is_multiple) {\r\n\t\t\t\t\tthis.choice_build(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.single_set_selected_text(item.text);\r\n\t\t\t\t}\r\n\t\t\t\tif (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\r\n\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t}\r\n\t\t\t\tthis.search_field.val(\"\");\r\n\t\t\t\tif (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\r\n\t\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\t\t'selected': this.form_field.options[item.options_index].value\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.current_selectedIndex = this.form_field.selectedIndex;\r\n\t\t\t\treturn this.search_field_scale();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_set_selected_text = function(text) {\r\n\t\t\tif (text == null) {\r\n\t\t\t\ttext = this.default_text;\r\n\t\t\t}\r\n\t\t\tif (text === this.default_text) {\r\n\t\t\t\tthis.selected_item.addClass(\"chosen-default\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.single_deselect_control_build();\r\n\t\t\t\tthis.selected_item.removeClass(\"chosen-default\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.find(\"span\").text(text);\r\n\t\t};\r\n\r\n\t\tChosen.prototype.result_deselect = function(pos) {\r\n\t\t\tvar result_data;\r\n\t\t\tresult_data = this.results_data[pos];\r\n\t\t\tif (!this.form_field.options[result_data.options_index].disabled) {\r\n\t\t\t\tresult_data.selected = false;\r\n\t\t\t\tthis.form_field.options[result_data.options_index].selected = false;\r\n\t\t\t\tthis.selected_option_count = null;\r\n\t\t\t\tthis.result_clear_highlight();\r\n\t\t\t\tif (this.results_showing) {\r\n\t\t\t\t\tthis.winnow_results();\r\n\t\t\t\t}\r\n\t\t\t\tthis.form_field_jq.trigger(\"change\", {\r\n\t\t\t\t\tdeselected: this.form_field.options[result_data.options_index].value\r\n\t\t\t\t});\r\n\t\t\t\tthis.search_field_scale();\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.single_deselect_control_build = function() {\r\n\t\t\tif (!this.allow_single_deselect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.selected_item.find(\"abbr\").length) {\r\n\t\t\t\tthis.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\r\n\t\t\t}\r\n\t\t\treturn this.selected_item.addClass(\"chosen-single-with-deselect\");\r\n\t\t};\r\n\r\n\t\tChosen.prototype.get_search_text = function() {\r\n\t\t\tif (this.search_field.val() === this.default_text) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t} else {\r\n\t\t\t\treturn $('<div/>').text($.trim(this.search_field.val())).html();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.winnow_results_set_highlight = function() {\r\n\t\t\tvar do_high, selected_results;\r\n\t\t\tselected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\r\n\t\t\tdo_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\r\n\t\t\tif (do_high != null) {\r\n\t\t\t\treturn this.result_do_highlight(do_high);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results = function(terms) {\r\n\t\t\tvar no_results_html;\r\n\t\t\tno_results_html = $('<li class=\"no-results\">' + this.results_none_found + ' \"<span></span>\"</li>');\r\n\t\t\tno_results_html.find(\"span\").first().html(terms);\r\n\t\t\tthis.search_results.append(no_results_html);\r\n\t\t\treturn this.form_field_jq.trigger(\"chosen:no_results\", {\r\n\t\t\t\tchosen: this\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tChosen.prototype.no_results_clear = function() {\r\n\t\t\treturn this.search_results.find(\".no-results\").remove();\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_arrow = function() {\r\n\t\t\tvar next_sib;\r\n\t\t\tif (this.results_showing && this.result_highlight) {\r\n\t\t\t\tnext_sib = this.result_highlight.nextAll(\"li.active-result\").first();\r\n\t\t\t\tif (next_sib) {\r\n\t\t\t\t\treturn this.result_do_highlight(next_sib);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keyup_arrow = function() {\r\n\t\t\tvar prev_sibs;\r\n\t\t\tif (!this.results_showing && !this.is_multiple) {\r\n\t\t\t\treturn this.results_show();\r\n\t\t\t} else if (this.result_highlight) {\r\n\t\t\t\tprev_sibs = this.result_highlight.prevAll(\"li.active-result\");\r\n\t\t\t\tif (prev_sibs.length) {\r\n\t\t\t\t\treturn this.result_do_highlight(prev_sibs.first());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.choices_count() > 0) {\r\n\t\t\t\t\t\tthis.results_hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.result_clear_highlight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_backstroke = function() {\r\n\t\t\tvar next_available_destroy;\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.choice_destroy(this.pending_backstroke.find(\"a\").first());\r\n\t\t\t\treturn this.clear_backstroke();\r\n\t\t\t} else {\r\n\t\t\t\tnext_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\r\n\t\t\t\tif (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\r\n\t\t\t\t\tthis.pending_backstroke = next_available_destroy;\r\n\t\t\t\t\tif (this.single_backstroke_delete) {\r\n\t\t\t\t\t\treturn this.keydown_backstroke();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.pending_backstroke.addClass(\"search-choice-focus\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.clear_backstroke = function() {\r\n\t\t\tif (this.pending_backstroke) {\r\n\t\t\t\tthis.pending_backstroke.removeClass(\"search-choice-focus\");\r\n\t\t\t}\r\n\t\t\treturn this.pending_backstroke = null;\r\n\t\t};\r\n\r\n\t\tChosen.prototype.keydown_checker = function(evt) {\r\n\t\t\tvar stroke, _ref1;\r\n\t\t\tstroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\r\n\t\t\tthis.search_field_scale();\r\n\t\t\tif (stroke !== 8 && this.pending_backstroke) {\r\n\t\t\t\tthis.clear_backstroke();\r\n\t\t\t}\r\n\t\t\tswitch (stroke) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tthis.backstroke_length = this.search_field.val().length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tif (this.results_showing && !this.is_multiple) {\r\n\t\t\t\t\t\tthis.result_select(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.mouse_on_container = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keyup_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.keydown_arrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tChosen.prototype.search_field_scale = function() {\r\n\t\t\tvar div, f_width, h, style, style_block, styles, w, _i, _len;\r\n\t\t\tif (this.is_multiple) {\r\n\t\t\t\th = 0;\r\n\t\t\t\tw = 0;\r\n\t\t\t\tstyle_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\r\n\t\t\t\tstyles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];\r\n\t\t\t\tfor (_i = 0, _len = styles.length; _i < _len; _i++) {\r\n\t\t\t\t\tstyle = styles[_i];\r\n\t\t\t\t\tstyle_block += style + \":\" + this.search_field.css(style) + \";\";\r\n\t\t\t\t}\r\n\t\t\t\tdiv = $('<div />', {\r\n\t\t\t\t\t'style': style_block\r\n\t\t\t\t});\r\n\t\t\t\tdiv.text(this.search_field.val());\r\n\t\t\t\t$('body').append(div);\r\n\t\t\t\tw = div.width() + 25;\r\n\t\t\t\tdiv.remove();\r\n\t\t\t\tf_width = this.container.outerWidth();\r\n\t\t\t\tif (w > f_width - 10) {\r\n\t\t\t\t\tw = f_width - 10;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.search_field.css({\r\n\t\t\t\t\t'width': w + 'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn Chosen;\r\n\r\n\t})(AbstractChosen);\r\n\r\n}).call(this);\r\n"]}