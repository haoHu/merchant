{"version":3,"file":"api.min.js","sources":["api.js"],"names":["IX","ns","Hualala","Global","HOME","CommonSite","HualalaWebSite","IMAGE_ROOT","SCRIPT_ROOT","IMAGE_RESOURCE_DOMAIN","IMAGE_RESOURCE_WATERMARK_DOMAIN","CSS_ROOT","SWF_ROOT","workMode","urlEngine","reset","imgUrl","ajaxEngine","siteUrl","mappingUrls","getFileUploaderUrl","genUrl","getLogoutJumpToUrl","getDefaultImage","type","isCurrentPage","pageType","params","curHref","document","location","href","link","PageRoute","createPath","indexOf","replace","commonCallServer","createCaller","name","onfail","data","cbFn","genAuthCode","loginCallServer","loadAppData","getShopQuerySchema","queryShop","switchShopStatus","switchShopServiceFeatureStatus","setJustEatParams","setSpotOrderParams","queryAccount","withdrawCash","deleteAccount","addAccount","getAccountQueryShop","queryAccountTransDetail","queryAccountOrderPayDetail","queryAccountFsmCustomerDetail"],"mappings":";;CAWA,WACCA,GAAGC,GAAG,kBAENC,QAAQC,OAAOC,KAAO,GACtBF,QAAQC,OAAOE,WAAa,GAE5BH,QAAQC,OAAOG,eAAiB,yBAEhCJ,QAAQC,OAAOI,WAAa,cAE5BL,QAAQC,OAAOK,YAAc,aAE7BN,QAAQC,OAAOM,sBAAwB,yBACvCP,QAAQC,OAAOO,gCAAkC,yBAEjDR,QAAQC,OAAOQ,SAAW,cAE1BT,QAAQC,OAAOS,SAAW,cAE1BV,QAAQC,OAAOU,SAAW,YACrB,WACLb,GAAGC,GAAG,iBACN,IAAIa,GAAYZ,QAAQY,SACxBA,GAAUC,OAAOC,OAASd,QAAQC,OAAOI,aACzCL,QAAQe,WAAWF,OAClBG,QAAUhB,QAAQC,OAAOC,OAE1BU,EAAUK,cACR,WAAY,YAAa,QACzB,YAAa,aAAc,QAC3B,kBAAmB,cAAe,QAClC,YAAa,oBAAqB,QAClC,YAAa,aAAc,QAC3B,YAAa,0BAA2B,QACxC,eAAgB,0BAA2B,QAC3C,uBAAwB,wBAAyB,WAGjD,aAAc,oBACd,eAAgB,yBAEhB,SAAU,aAQZjB,QAAQC,OAAOiB,mBAAqB,WACnC,MAAON,GAAUO,OAAO,eAGzBnB,QAAQC,OAAOmB,mBAAqB,WACnC,MAAOR,GAAUO,OAAO,WAIzBnB,QAAQC,OAAOoB,gBAAkB,SAAUC,GAAO,MAAOV,GAAUO,OAAO,OAASG,IAGnFtB,QAAQC,OAAOsB,cAAgB,SAAUC,EAAUC,GAIlD,GAAIC,GAAUC,SAASC,SAASC,KAC/BC,EAAO9B,QAAQ+B,UAAUC,WAAWR,EAAUC,EAC/C,OAAOC,GAAQO,QAAQH,EAAKI,QAAQlC,QAAQC,OAAOC,KAAM,MAAQ,MAE7D,WACLJ,GAAGC,GAAG,iBACN,IAAIgB,GAAaf,QAAQe,UACzBA,GAAWE,cAET,cAAe,qBAAsB,GAAI,QACzC,kBAAmB,cAAe,GAAI,SAEtC,cAAe,oBAAqB,GAAI,QAExC,qBAAsB,oBAAqB,GAAI,SAC/C,YAAa,mBAAoB,GAAI,SACrC,mBAAoB,oBAAqB,GAAI,SAC7C,iCAAkC,oCAAqC,GAAI,SAC3E,mBAAoB,0BAA2B,GAAI,SACnD,qBAAsB,uBAAwB,GAAI,SAElD,eAAgB,+BAAgC,GAAI,SACpD,eAAgB,qBAAsB,GAAI,SAC1C,gBAAiB,gCAAiC,GAAI,SACtD,cAAe,6BAA8B,GAAI,SACjD,aAAc,0BAA2B,GAAI,SAC7C,sBAAuB,iCAAkC,GAAI,SAC7D,0BAA2B,uCAAwC,GAAI,SACvE,6BAA8B,kCAAmC,GAAI,SACrE,gCAAiC,mCAAoC,GAAI,UAG3EjB,QAAQC,OAAOkC,iBAAmBpB,EAAWqB,cAC5C,cAAe,kBAAmB,qBAClC,YAAa,mBAAoB,iCACjC,mBAAoB,sBAEnBC,KAAO,cACPC,OAAS,SAAUC,EAAMC,GACxBA,MAGF,eAAgB,eAAgB,gBAAiB,cACjD,aAAc,sBAAuB,0BACrC,6BAA8B,kCAI/BxC,QAAQC,OAAOwC,YAAc,SAAUhB,EAAQe,GAC9CxC,QAAQC,OAAOkC,iBAAiB,cAAeV,EAAQe,IAGxDxC,QAAQC,OAAOyC,gBAAkB,SAAUjB,EAAQe,GAClDxC,QAAQC,OAAOkC,iBAAiB,kBAAmBV,EAAQe,IAI5DxC,QAAQC,OAAO0C,YAAc,SAAUlB,EAAQe,GAC9CxC,QAAQC,OAAOkC,iBAAiB,cAAeV,EAAQe,IAIxDxC,QAAQC,OAAO2C,mBAAqB,SAAUnB,EAAQe,GACrDxC,QAAQC,OAAOkC,iBAAiB,qBAAsBV,EAAQe,IAE/DxC,QAAQC,OAAO4C,UAAY,SAAUpB,EAAQe,GAC5CxC,QAAQC,OAAOkC,iBAAiB,YAAaV,EAAQe,IAEtDxC,QAAQC,OAAO6C,iBAAmB,SAAUrB,EAAQe,GACnDxC,QAAQC,OAAOkC,iBAAiB,mBAAoBV,EAAQe,IAE7DxC,QAAQC,OAAO8C,+BAAiC,SAAUtB,EAAQe,GACjExC,QAAQC,OAAOkC,iBAAiB,iCAAkCV,EAAQe,IAE3ExC,QAAQC,OAAO+C,iBAAmB,SAAUvB,EAAQe,GACnDxC,QAAQC,OAAOkC,iBAAiB,mBAAoBV,EAAQe,IAE7DxC,QAAQC,OAAOgD,mBAAqB,SAAUxB,EAAQe,GACrDxC,QAAQC,OAAOkC,iBAAiB,qBAAsBV,EAAQe,IAI/DxC,QAAQC,OAAOiD,aAAe,SAAUzB,EAAQe,GAC/CxC,QAAQC,OAAOkC,iBAAiB,eAAgBV,EAAQe,IAEzDxC,QAAQC,OAAOkD,aAAe,SAAU1B,EAAQe,GAC/CxC,QAAQC,OAAOkC,iBAAiB,eAAgBV,EAAQe,IAEzDxC,QAAQC,OAAOmD,cAAgB,SAAU3B,EAAQe,GAChDxC,QAAQC,OAAOkC,iBAAiB,gBAAiBV,EAAQe,IAE1DxC,QAAQC,OAAOoD,WAAa,SAAU5B,EAAQe,GAC7CxC,QAAQC,OAAOkC,iBAAiB,aAAcV,EAAQe,IAEvDxC,QAAQC,OAAOqD,oBAAsB,SAAU7B,EAAQe,GACtDxC,QAAQC,OAAOkC,iBAAiB,sBAAuBV,EAAQe,IAEhExC,QAAQC,OAAOsD,wBAA0B,SAAU9B,EAAQe,GAC1DxC,QAAQC,OAAOkC,iBAAiB,0BAA2BV,EAAQe,IAEpExC,QAAQC,OAAOuD,2BAA6B,SAAU/B,EAAQe,GAC7DxC,QAAQC,OAAOkC,iBAAiB,6BAA8BV,EAAQe,IAEvExC,QAAQC,OAAOwD,8BAAgC,SAAUhC,EAAQe,GAChExC,QAAQC,OAAOkC,iBAAiB,gCAAiCV,EAAQe","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\r\n\tHualala.Global.HOME = \"\";\r\n\tHualala.Global.CommonSite = \"\";\r\n\r\n\tHualala.Global.HualalaWebSite = \"http://www.hualala.com\";\r\n\t\r\n\tHualala.Global.IMAGE_ROOT = \"./asset/img\";\r\n\r\n\tHualala.Global.SCRIPT_ROOT = \"./asset/js\";\r\n\r\n\tHualala.Global.IMAGE_RESOURCE_DOMAIN = \"http://res.hualala.com\";\r\n\tHualala.Global.IMAGE_RESOURCE_WATERMARK_DOMAIN = \"http://img.hualala.com\";\r\n\r\n\tHualala.Global.CSS_ROOT = \"./asset/css\";\r\n\r\n\tHualala.Global.SWF_ROOT = \"./asset/swf\";\r\n\t\r\n\tHualala.Global.workMode = \"pesudo\";\r\n})();;(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\tvar urlEngine = Hualala.urlEngine;\r\n\turlEngine.reset({imgUrl : Hualala.Global.IMAGE_ROOT});\r\n\tHualala.ajaxEngine.reset({\r\n\t\tsiteUrl : Hualala.Global.HOME\r\n\t});\r\n\turlEngine.mappingUrls([\r\n\t\t[\"img_logo\", \"/logo.png\", \"img\"],\r\n\t\t[\"img_gozap\", \"/gozap.png\", \"img\"],\r\n\t\t[\"img_loginBanner\", \"/banner.jpg\", \"img\"],\r\n\t\t[\"img_photo\", \"/common_photo.png\", \"img\"],\r\n\t\t[\"img_blank\", \"/blank.png\", \"img\"],\r\n\t\t[\"img_thumb\", \"/thumbnails/unknown.png\", \"img\"],\r\n\t\t[\"img_docThumb\", \"/thumbnails/unknown.png\", \"img\"],\r\n\t\t[\"common_fileThumbnail\", \"/files/{id}/thumbnail\", \"common\"],\r\n\r\n\t\t// Common File URL (May be not this format)\r\n\t\t[\"fileUpload\", \"/api/disk_files\"],\r\n\t\t[\"fileDownload\", \"/files/{id}/download\"],\r\n\r\n\t\t[\"logout\", \"/logout\"]\r\n\r\n\t]);\r\n\r\n\t// Socket URL (not using now)\r\n\t// Hualala.Global.socketUrl = Hualala.Global.HOME + '/pub';\r\n\t\r\n\t// get file upload api url\r\n\tHualala.Global.getFileUploaderUrl = function () {\r\n\t\treturn urlEngine.genUrl(\"fileUpload\");\r\n\t};\r\n\r\n\tHualala.Global.getLogoutJumpToUrl = function () {\r\n\t\treturn urlEngine.genUrl(\"logout\");\r\n\t};\r\n\r\n\t// get common default image url\r\n\tHualala.Global.getDefaultImage = function (type) {return urlEngine.genUrl(\"img_\" + type); };\r\n\r\n\t// check is current page\r\n\tHualala.Global.isCurrentPage = function (pageType, params) {\r\n\t\t// var curPath = document.location.pathname,\r\n\t\t// \tpath = urlEngine.genUrl(pageType, params);\r\n\t\t// return curPath.indexOf(path) >= 0;\r\n\t\tvar curHref = document.location.href,\r\n\t\t\tlink = Hualala.PageRoute.createPath(pageType, params);\r\n\t\treturn curHref.indexOf(link.replace(Hualala.Global.HOME, '')) >= 0;\r\n\t};\r\n})();;(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\tvar ajaxEngine = Hualala.ajaxEngine;\r\n\tajaxEngine.mappingUrls([\r\n\t\t/*Login Moudle*/\r\n\t\t[\"genAuthCode\", \"/getCheckCode.ajax\", \"\", \"GET\"],\r\n\t\t[\"loginCallServer\", \"/login.ajax\", \"\", \"POST\"],\r\n\t\t/*Session Data*/\r\n\t\t[\"loadAppData\", \"/getUserInfo.ajax\", \"\", \"GET\"],\r\n\t\t/*Shop Moudle and Shop Setting Moudle*/\r\n\t\t[\"getShopQuerySchema\", \"/shop/schema.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryShop\", \"/shop/query.ajax\", \"\", \"POST\"],\r\n\t\t[\"switchShopStatus\", \"/shop/status.ajax\", \"\", \"POST\"],\r\n\t\t[\"switchShopServiceFeatureStatus\", \"/shop/controlServiceFeatures.ajax\", \"\", \"POST\"],\r\n\t\t[\"setJustEatParams\", \"/shop/justEatParam.ajax\", \"\", \"POST\"],\r\n\t\t[\"setSpotOrderParams\", \"/shop/spotParam.ajax\", \"\", \"POST\"],\r\n\t\t/*Account Moudle*/\r\n\t\t[\"queryAccount\", \"/fsm/queryFsmSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"withdrawCash\", \"/fsm/Withdraw.ajax\", \"\", \"POST\"],\r\n\t\t[\"deleteAccount\", \"/fsm/deleteFsmSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"editAccount\", \"/fsm/updateSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"addAccount\", \"/fsm/addSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"getAccountQueryShop\", \"/fsm/settlementShopDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountTransDetail\", \"/fsm/queryFsmAccountTransDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountOrderPayDetail\", \"/order/queryOrderPayDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountFsmCustomerDetail\", \"/fsm/queryFsmCustomerDetail.ajax\", \"\", \"POST\"]\r\n\r\n\t]);\r\n\tHualala.Global.commonCallServer = ajaxEngine.createCaller([\r\n\t\t\"genAuthCode\", \"loginCallServer\", \"getShopQuerySchema\", \r\n\t\t\"queryShop\", \"switchShopStatus\", \"switchShopServiceFeatureStatus\", \r\n\t\t\"setJustEatParams\", \"setSpotOrderParams\", \r\n\t\t{\r\n\t\t\tname : \"loadAppData\", \r\n\t\t\tonfail : function (data, cbFn, params) {\r\n\t\t\t\tcbFn();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"queryAccount\", \"withdrawCash\", \"deleteAccount\", \"editAccount\",\r\n\t\t\"addAccount\", \"getAccountQueryShop\", \"queryAccountTransDetail\",\r\n\t\t\"queryAccountOrderPayDetail\", \"queryAccountFsmCustomerDetail\"\r\n\t]);\r\n\r\n\t/*Login CallServer*/\r\n\tHualala.Global.genAuthCode = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"genAuthCode\", params, cbFn);\r\n\t};\r\n\r\n\tHualala.Global.loginCallServer = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"loginCallServer\", params, cbFn);\r\n\t};\r\n\r\n\t/*Session Data CallServer*/\r\n\tHualala.Global.loadAppData = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"loadAppData\", params, cbFn);\r\n\t};\r\n\t\r\n\t/*Shop Moudle and Shop Setting Moulde CallServer*/\r\n\tHualala.Global.getShopQuerySchema = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getShopQuerySchema\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryShop = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryShop\", params, cbFn);\r\n\t};\r\n\tHualala.Global.switchShopStatus = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"switchShopStatus\", params, cbFn);\r\n\t};\r\n\tHualala.Global.switchShopServiceFeatureStatus = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"switchShopServiceFeatureStatus\", params, cbFn);\r\n\t};\r\n\tHualala.Global.setJustEatParams = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setJustEatParams\", params, cbFn);\r\n\t};\r\n\tHualala.Global.setSpotOrderParams = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setSpotOrderParams\", params, cbFn);\r\n\t};\r\n\r\n\t/*Account Moudle CallServer*/\r\n\tHualala.Global.queryAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.withdrawCash = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"withdrawCash\", params, cbFn);\r\n\t};\r\n\tHualala.Global.deleteAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"deleteAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.addAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"addAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.getAccountQueryShop = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getAccountQueryShop\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountTransDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountTransDetail\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountOrderPayDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountOrderPayDetail\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountFsmCustomerDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountFsmCustomerDetail\", params, cbFn);\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n})();"]}