{"version":3,"file":"api.min.js","sources":["api.js"],"names":["IX","ns","Hualala","Global","HOME","CommonSite","HualalaWebSite","IMAGE_ROOT","SCRIPT_ROOT","IMAGE_RESOURCE_DOMAIN","IMAGE_RESOURCE_WATERMARK_DOMAIN","CSS_ROOT","SWF_ROOT","workMode","urlEngine","reset","imgUrl","ajaxEngine","siteUrl","mappingUrls","getFileUploaderUrl","genUrl","getLogoutJumpToUrl","getDefaultImage","type","isCurrentPage","pageType","params","curHref","document","location","href","link","PageRoute","createPath","indexOf","replace","commonCallServer","createCaller","name","onfail","data","cbFn","genAuthCode","loginCallServer","loadAppData","getCities","getAreas","getCuisines","createShop","updateShopBaseInfo","setShopMap","setShopClientPwd","getShopInfo","getShopMenu","getShopQuerySchema","queryShop","switchShopStatus","switchShopServiceFeatureStatus","setJustEatParams","setSpotOrderParams","queryAccount","withdrawCash","deleteAccount","addAccount","getAccountQueryShop","queryAccountTransDetail","queryAccountOrderPayDetail","queryAccountFsmCustomerDetail"],"mappings":"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","sourcesContent":["/** \r\n * -------------------------------------------------\r\n * Copyright (c) 2014, All rights reserved. \r\n * Hualala-Merchant-Management\r\n * \r\n * @version : 0.1.0\r\n * @author : HuHao\r\n * @description : Hualala Merchant Management System.  \r\n * -------------------------------------------------\r\n */ \r\n\r\n(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\r\n\tHualala.Global.HOME = \"\";\r\n\tHualala.Global.CommonSite = \"\";\r\n\r\n\tHualala.Global.HualalaWebSite = \"http://www.hualala.com\";\r\n\t\r\n\tHualala.Global.IMAGE_ROOT = \"./asset/img\";\r\n\r\n\tHualala.Global.SCRIPT_ROOT = \"./asset/js\";\r\n\r\n\tHualala.Global.IMAGE_RESOURCE_DOMAIN = \"http://res.hualala.com\";\r\n\tHualala.Global.IMAGE_RESOURCE_WATERMARK_DOMAIN = \"http://img.hualala.com\";\r\n\r\n\tHualala.Global.CSS_ROOT = \"./asset/css\";\r\n\r\n\tHualala.Global.SWF_ROOT = \"./asset/swf\";\r\n\t\r\n\tHualala.Global.workMode = \"pesudo\";\r\n})();;(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\tvar urlEngine = Hualala.urlEngine;\r\n\turlEngine.reset({imgUrl : Hualala.Global.IMAGE_ROOT});\r\n\tHualala.ajaxEngine.reset({\r\n\t\tsiteUrl : Hualala.Global.HOME\r\n\t});\r\n\turlEngine.mappingUrls([\r\n\t\t[\"img_logo\", \"/logo.png\", \"img\"],\r\n\t\t[\"img_gozap\", \"/gozap.png\", \"img\"],\r\n\t\t[\"img_loginBanner\", \"/banner.jpg\", \"img\"],\r\n\t\t[\"img_photo\", \"/common_photo.png\", \"img\"],\r\n\t\t[\"img_blank\", \"/blank.png\", \"img\"],\r\n\t\t[\"img_thumb\", \"/thumbnails/unknown.png\", \"img\"],\r\n\t\t[\"img_docThumb\", \"/thumbnails/unknown.png\", \"img\"],\r\n\t\t[\"common_fileThumbnail\", \"/files/{id}/thumbnail\", \"common\"],\r\n\r\n\t\t// Common File URL (May be not this format)\r\n\t\t[\"fileUpload\", \"/api/disk_files\"],\r\n\t\t[\"fileDownload\", \"/files/{id}/download\"],\r\n\r\n\t\t[\"logout\", \"/logout\"]\r\n\r\n\t]);\r\n\r\n\t// Socket URL (not using now)\r\n\t// Hualala.Global.socketUrl = Hualala.Global.HOME + '/pub';\r\n\t\r\n\t// get file upload api url\r\n\tHualala.Global.getFileUploaderUrl = function () {\r\n\t\treturn urlEngine.genUrl(\"fileUpload\");\r\n\t};\r\n\r\n\tHualala.Global.getLogoutJumpToUrl = function () {\r\n\t\treturn urlEngine.genUrl(\"logout\");\r\n\t};\r\n\r\n\t// get common default image url\r\n\tHualala.Global.getDefaultImage = function (type) {return urlEngine.genUrl(\"img_\" + type); };\r\n\r\n\t// check is current page\r\n\tHualala.Global.isCurrentPage = function (pageType, params) {\r\n\t\t// var curPath = document.location.pathname,\r\n\t\t// \tpath = urlEngine.genUrl(pageType, params);\r\n\t\t// return curPath.indexOf(path) >= 0;\r\n\t\tvar curHref = document.location.href,\r\n\t\t\tlink = Hualala.PageRoute.createPath(pageType, params);\r\n\t\treturn curHref.indexOf(link.replace(Hualala.Global.HOME, '')) >= 0;\r\n\t};\r\n})();;(function () {\r\n\tIX.ns(\"Hualala.Global\");\r\n\tvar ajaxEngine = Hualala.ajaxEngine;\r\n\tajaxEngine.mappingUrls([\r\n\t\t/*Login Moudle*/\r\n\t\t[\"genAuthCode\", \"/getCheckCode.ajax\", \"\", \"GET\"],\r\n\t\t[\"loginCallServer\", \"/login.ajax\", \"\", \"POST\"],\r\n\t\t/*Session Data*/\r\n\t\t[\"loadAppData\", \"/getUserInfo.ajax\", \"\", \"GET\"],\r\n\t\t/*Shop Moudle and Shop Setting Moudle*/\r\n        [\"getCities\", \"/shop/queryCity.ajax\", \"\", \"POST\"],\r\n        [\"getAreas\", \"/shop/queryArea.ajax\", \"\", \"POST\"],\r\n        [\"getCuisines\", \"/shop/queryCuisine.ajax\", \"\", \"POST\"],\r\n        [\"createShop\", \"/shop/create.ajax\", \"\", \"POST\"],\r\n        [\"updateShopBaseInfo\", \"/shop/updateShopBaseInfo.ajax\", \"\", \"POST\"],\r\n        [\"setShopMap\", \"/shop/updateMap.ajax\", \"\", \"POST\"],\r\n        [\"setShopClientPwd\", \"/shop/resetPWDforClient.ajax\", \"\", \"POST\"],\r\n        [\"getShopInfo\", \"/shop/queryShopInfo.ajax\", \"\", \"POST\"],\r\n        [\"getShopMenu\", \"/shop/queryShopFoodMenu.ajax\", \"\", \"POST\"],\r\n\t\t[\"getShopQuerySchema\", \"/shop/schema.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryShop\", \"/shop/query.ajax\", \"\", \"POST\"],\r\n\t\t[\"switchShopStatus\", \"/shop/status.ajax\", \"\", \"POST\"],\r\n\t\t[\"switchShopServiceFeatureStatus\", \"/shop/controlServiceFeatures.ajax\", \"\", \"POST\"],\r\n\t\t[\"setJustEatParams\", \"/shop/justEatParam.ajax\", \"\", \"POST\"],\r\n\t\t[\"setSpotOrderParams\", \"/shop/spotParam.ajax\", \"\", \"POST\"],\r\n\t\t/*Account Moudle*/\r\n\t\t[\"queryAccount\", \"/fsm/queryFsmSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"withdrawCash\", \"/fsm/Withdraw.ajax\", \"\", \"POST\"],\r\n\t\t[\"deleteAccount\", \"/fsm/deleteFsmSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"editAccount\", \"/fsm/updateSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"addAccount\", \"/fsm/addSettleUnit.ajax\", \"\", \"POST\"],\r\n\t\t[\"getAccountQueryShop\", \"/fsm/settlementShopDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountTransDetail\", \"/fsm/queryFsmAccountTransDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountOrderPayDetail\", \"/order/queryOrderPayDetail.ajax\", \"\", \"POST\"],\r\n\t\t[\"queryAccountFsmCustomerDetail\", \"/fsm/queryFsmCustomerDetail.ajax\", \"\", \"POST\"]\r\n\r\n\t]);\r\n\tHualala.Global.commonCallServer = ajaxEngine.createCaller([\r\n\t\t\"genAuthCode\", \"loginCallServer\", \"getShopQuerySchema\", \r\n\t\t\"queryShop\", \"switchShopStatus\", \"switchShopServiceFeatureStatus\", \r\n\t\t\"setJustEatParams\", \"setSpotOrderParams\", \r\n        'getCities', 'getAreas', 'getCuisines',\r\n        'createShop', 'updateShopBaseInfo', 'setShopMap',\r\n        'setShopClientPwd', 'getShopInfo', 'getShopMenu',\r\n\t\t{\r\n\t\t\tname : \"loadAppData\", \r\n\t\t\tonfail : function (data, cbFn, params) {\r\n\t\t\t\tcbFn();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"queryAccount\", \"withdrawCash\", \"deleteAccount\", \"editAccount\",\r\n\t\t\"addAccount\", \"getAccountQueryShop\", \"queryAccountTransDetail\",\r\n\t\t\"queryAccountOrderPayDetail\", \"queryAccountFsmCustomerDetail\"\r\n\t]);\r\n\r\n\t/*Login CallServer*/\r\n\tHualala.Global.genAuthCode = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"genAuthCode\", params, cbFn);\r\n\t};\r\n\r\n\tHualala.Global.loginCallServer = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"loginCallServer\", params, cbFn);\r\n\t};\r\n\r\n\t/*Session Data CallServer*/\r\n\tHualala.Global.loadAppData = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"loadAppData\", params, cbFn);\r\n\t};\r\n\t\r\n\t/*Shop Moudle and Shop Setting Moulde CallServer*/\r\n    Hualala.Global.getCities = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getCities\", params, cbFn);\r\n\t};\r\n    Hualala.Global.getAreas = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getAreas\", params, cbFn);\r\n\t};\r\n    Hualala.Global.getCuisines = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getCuisines\", params, cbFn);\r\n\t};\r\n    Hualala.Global.createShop = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"createShop\", params, cbFn);\r\n\t};\r\n    Hualala.Global.updateShopBaseInfo = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"updateShopBaseInfo\", params, cbFn);\r\n\t};\r\n    Hualala.Global.setShopMap = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setShopMap\", params, cbFn);\r\n\t};\r\n    Hualala.Global.setShopClientPwd = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setShopClientPwd\", params, cbFn);\r\n\t};\r\n    Hualala.Global.getShopInfo = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getShopInfo\", params, cbFn);\r\n\t};\r\n    Hualala.Global.getShopMenu = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getShopMenu\", params, cbFn);\r\n\t};\r\n    \r\n\tHualala.Global.getShopQuerySchema = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getShopQuerySchema\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryShop = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryShop\", params, cbFn);\r\n\t};\r\n\tHualala.Global.switchShopStatus = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"switchShopStatus\", params, cbFn);\r\n\t};\r\n\tHualala.Global.switchShopServiceFeatureStatus = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"switchShopServiceFeatureStatus\", params, cbFn);\r\n\t};\r\n\tHualala.Global.setJustEatParams = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setJustEatParams\", params, cbFn);\r\n\t};\r\n\tHualala.Global.setSpotOrderParams = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"setSpotOrderParams\", params, cbFn);\r\n\t};\r\n\r\n\t/*Account Moudle CallServer*/\r\n\tHualala.Global.queryAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.withdrawCash = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"withdrawCash\", params, cbFn);\r\n\t};\r\n\tHualala.Global.deleteAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"deleteAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.addAccount = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"addAccount\", params, cbFn);\r\n\t};\r\n\tHualala.Global.getAccountQueryShop = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"getAccountQueryShop\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountTransDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountTransDetail\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountOrderPayDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountOrderPayDetail\", params, cbFn);\r\n\t};\r\n\tHualala.Global.queryAccountFsmCustomerDetail = function (params, cbFn) {\r\n\t\tHualala.Global.commonCallServer(\"queryAccountFsmCustomerDetail\", params, cbFn);\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n})();"]}